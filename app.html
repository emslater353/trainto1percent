<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>AI Proof Club â€” Build Skills AI Can't Replace</title>
    <meta name="description" content="Build the skills AI can't replace â€” with adaptive technology that tracks your growth, locks in your progress, and proves how far you've come.">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://aiproof.club/">
    <meta property="og:title" content="AI Proof Club â€” Build Skills AI Can't Replace">
    <meta property="og:description" content="Build the skills AI can't replace â€” with adaptive technology that tracks your growth, locks in your progress, and proves how far you've come.">
    <meta property="og:image" content="https://aiproof.club/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://aiproof.club/">
    <meta name="twitter:title" content="AI Proof Club â€” Build Skills AI Can't Replace">
    <meta name="twitter:description" content="Build the skills AI can't replace â€” with adaptive technology that tracks your growth, locks in your progress, and proves how far you've come.">
    <meta name="twitter:image" content="https://aiproof.club/og-image.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
    <style>
        :root {
            /* METALLIC ROBOTIC THEME - DARK MODE (default) */
            --bg-primary: #050508; /* Deep black with blue tint */
            --bg-secondary: #0d0d12; /* Dark gunmetal */
            --bg-tertiary: #1a1a24; /* Slightly lighter metallic */
            --text-primary: #e8e8ec; /* Cool white */
            --text-secondary: #6e7087; /* Muted steel */
            --text-muted: #3d3d4a; /* Dark steel */
            --accent: #00f0ff; /* Cyan/electric blue */
            --accent-glow: rgba(0, 240, 255, 0.15);
            --danger: #ff3366; /* Hot pink/red */
            --success: #00ff88; /* Electric green */
            --warning: #ffaa00; /* Amber */
            --ideas: #7b68ee; /* Medium slate blue */
            --personality: #ff6b9d; /* Pink */
            --execution: #00ff88; /* Electric green */
            --metal-shine: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(255,255,255,0.05) 100%);
            --metal-border: linear-gradient(135deg, #2a2a3a 0%, #1a1a24 50%, #2a2a3a 100%);
            --font-display: 'Space Mono', monospace; /* More robotic */
            --font-mono: 'Space Mono', monospace;
        }
        
        /* LIGHT MODE */
        :root.light-mode {
            --bg-primary: #f5f5f7;
            --bg-secondary: #ffffff;
            --bg-tertiary: #e5e5ea;
            --text-primary: #1a1a2e;
            --text-secondary: #4a4a5a;
            --text-muted: #8e8e93;
            --accent: #0066cc;
            --accent-glow: rgba(0, 102, 204, 0.1);
            --danger: #d63031;
            --success: #00875a;
            --warning: #e67e22;
            --ideas: #5f4bb6;
            --personality: #d63384;
            --execution: #00875a;
            --metal-shine: linear-gradient(135deg, rgba(255,255,255,0.5) 0%, transparent 50%, rgba(255,255,255,0.3) 100%);
            --metal-border: linear-gradient(135deg, #d1d1d6 0%, #e5e5ea 50%, #d1d1d6 100%);
        }
        
        :root.light-mode body {
            background-image: none;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: var(--font-mono); 
            background: var(--bg-primary); 
            color: var(--text-primary); 
            line-height: 1.6; 
            font-size: 14px;
            background-image: 
                radial-gradient(ellipse at top, rgba(0, 240, 255, 0.03) 0%, transparent 50%),
                radial-gradient(ellipse at bottom, rgba(123, 104, 238, 0.03) 0%, transparent 50%);
        }
        
        .btn { 
            display: inline-flex; 
            align-items: center; 
            justify-content: center; 
            padding: 14px 28px; 
            font-family: var(--font-mono); 
            font-size: 11px; 
            font-weight: 700; 
            letter-spacing: 2px; 
            text-transform: uppercase; 
            border: none; 
            cursor: pointer; 
            transition: all 0.3s; 
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        .btn:hover::before { left: 100%; }
        .btn-primary { 
            background: var(--accent); 
            color: var(--bg-primary); 
            box-shadow: 0 0 20px var(--accent-glow), inset 0 1px 0 rgba(255,255,255,0.2);
        }
        .btn-primary:hover { 
            background: var(--text-primary); 
            box-shadow: 0 0 30px rgba(255,255,255,0.2);
        }
        .btn-primary:disabled { background: var(--bg-tertiary); color: var(--text-muted); cursor: not-allowed; box-shadow: none; }
        .btn-secondary { 
            background: transparent; 
            border: 1px solid var(--bg-tertiary); 
            color: var(--text-secondary);
            background: var(--metal-shine);
        }
        .btn-secondary:hover { 
            border-color: var(--accent); 
            color: var(--accent);
            box-shadow: 0 0 15px var(--accent-glow);
        }
        .btn-success { 
            background: transparent; 
            color: var(--success);
            border: 1px solid var(--success);
        }
        .btn-success:hover {
            background: var(--success); 
            color: var(--bg-primary);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
        }
        .btn-full { width: 100%; }
        .btn-small { padding: 10px 16px; font-size: 10px; }

        .screen-center { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .container-sm { width: 100%; max-width: 420px; }
        .container-md { width: 100%; max-width: 600px; }

        .logo { 
            font-size: 13px; 
            font-weight: 700; 
            letter-spacing: 4px; 
            text-transform: uppercase; 
            margin-bottom: 30px; 
            text-align: center;
        }
        .logo span { 
            color: var(--accent); 
            text-shadow: 0 0 10px var(--accent-glow);
        }

        .card { 
            background: var(--bg-secondary); 
            border: 1px solid var(--bg-tertiary); 
            padding: 25px; 
            margin-bottom: 15px;
            position: relative;
            background-image: var(--metal-shine);
        }
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0,240,255,0.3), transparent);
        }
        .card-title { font-family: var(--font-display); font-size: 22px; margin-bottom: 8px; letter-spacing: 1px; }
        .card-subtitle { color: var(--text-secondary); font-size: 12px; margin-bottom: 20px; }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 12px; border-bottom: 1px solid var(--bg-tertiary); }
        .card-header-title { font-size: 12px; font-weight: 700; letter-spacing: 1px; }
        .card-badge { font-size: 10px; color: var(--accent); text-transform: uppercase; letter-spacing: 1px; }

        .form-group { margin-bottom: 18px; }
        .form-label { display: block; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 6px; }
        .form-input, .form-textarea { 
            width: 100%; 
            padding: 12px; 
            background: var(--bg-primary); 
            border: 1px solid var(--bg-tertiary); 
            color: var(--text-primary); 
            font-family: var(--font-mono); 
            font-size: 13px;
            transition: all 0.3s;
        }
        .form-input:focus, .form-textarea:focus { 
            outline: none; 
            border-color: var(--accent);
            box-shadow: 0 0 10px var(--accent-glow);
        }
        .form-textarea { min-height: 80px; resize: vertical; }

        .text-link { color: var(--accent); text-decoration: none; cursor: pointer; }
        .text-link:hover { text-decoration: underline; text-shadow: 0 0 10px var(--accent-glow); }
        .text-center { text-align: center; }
        .text-secondary { color: var(--text-secondary); }
        .text-small { font-size: 12px; }
        .mt-10 { margin-top: 10px; }
        .mt-20 { margin-top: 20px; }
        .mb-10 { margin-bottom: 10px; }
        .mb-20 { margin-bottom: 20px; }
        .flex { display: flex; }
        .gap-10 { gap: 10px; }
        .gap-15 { gap: 15px; }

        .choice-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .choice-card { 
            background: var(--bg-secondary); 
            border: 1px solid var(--bg-tertiary); 
            padding: 25px; 
            text-align: center; 
            cursor: pointer; 
            transition: all 0.3s;
            background-image: var(--metal-shine);
            position: relative;
        }
        .choice-card::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, transparent 40%, rgba(0,240,255,0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        .choice-card:hover { 
            border-color: var(--accent); 
            box-shadow: 0 0 20px var(--accent-glow);
        }
        .choice-card:hover::after { opacity: 1; }
        .choice-card.selected { 
            border-color: var(--accent); 
            box-shadow: 0 0 25px var(--accent-glow), inset 0 0 30px var(--accent-glow);
        }
        .choice-icon { font-size: 32px; margin-bottom: 12px; filter: drop-shadow(0 0 5px rgba(0,240,255,0.3)); }
        .choice-title { font-size: 13px; margin-bottom: 6px; letter-spacing: 1px; }
        .choice-desc { font-size: 11px; color: var(--text-secondary); }

        .upload-zone { 
            border: 2px dashed var(--bg-tertiary); 
            padding: 40px; 
            text-align: center; 
            cursor: pointer; 
            transition: all 0.3s;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
        }
        .upload-zone:hover { 
            border-color: var(--accent); 
            box-shadow: inset 0 0 30px var(--accent-glow);
        }
        .file-input { display: none; }
        .uploaded-file { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-tertiary); margin-top: 12px; }
        .uploaded-remove { color: var(--danger); cursor: pointer; margin-left: auto; }

        .progress-bar { display: flex; gap: 5px; margin-bottom: 25px; }
        .progress-dot { 
            flex: 1; 
            height: 3px; 
            background: var(--bg-tertiary); 
            border-radius: 2px;
            position: relative;
            overflow: hidden;
        }
        .progress-dot.active { 
            background: var(--accent); 
            box-shadow: 0 0 10px var(--accent-glow);
        }
        .progress-dot.active::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
            animation: shimmer 2s infinite;
        }
        @keyframes shimmer { 100% { left: 100%; } }
        .progress-dot.done { background: var(--accent); opacity: 0.5; }
        .q-number { font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--accent); margin-bottom: 10px; text-shadow: 0 0 10px var(--accent-glow); }
        .q-text { font-family: var(--font-display); font-size: 20px; line-height: 1.4; margin-bottom: 20px; }
        .options { display: flex; flex-direction: column; gap: 8px; }
        .option { 
            padding: 14px; 
            background: var(--bg-secondary); 
            border: 1px solid var(--bg-tertiary); 
            cursor: pointer; 
            text-align: left; 
            font-family: var(--font-mono); 
            font-size: 12px; 
            color: var(--text-primary); 
            transition: all 0.3s;
            background-image: var(--metal-shine);
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        .option:hover { 
            border-color: var(--accent); 
            box-shadow: 0 0 15px var(--accent-glow);
            transform: translateX(5px);
        }
        .option:focus {
            outline: none;
            border-color: var(--bg-tertiary);
            box-shadow: none;
            transform: none;
        }
        .option:active {
            border-color: var(--accent);
            transform: scale(0.98);
        }
        @media (hover: none) {
            .option:hover {
                border-color: var(--bg-tertiary);
                box-shadow: none;
                transform: none;
            }
        }

        .results-meters { display: flex; justify-content: center; gap: 25px; margin: 25px 0; }
        .meter { text-align: center; }
        .meter-circle { 
            width: 90px; 
            height: 90px; 
            border-radius: 50%; 
            border: 4px solid; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            margin: 0 auto 10px; 
            font-size: 22px; 
            font-weight: 700;
            position: relative;
            background: var(--bg-primary);
        }
        .meter-circle::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            padding: 4px;
            background: conic-gradient(from 0deg, currentColor 0%, transparent 100%);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0.3;
        }
        .meter-circle.ideas { border-color: var(--ideas); color: var(--ideas); box-shadow: 0 0 20px rgba(123,104,238,0.3); }
        .meter-circle.personality { border-color: var(--personality); color: var(--personality); box-shadow: 0 0 20px rgba(255,107,157,0.3); }
        .meter-circle.execution { border-color: var(--execution); color: var(--execution); box-shadow: 0 0 20px rgba(0,255,136,0.3); }
        .meter-label { font-size: 11px; letter-spacing: 2px; text-transform: uppercase; }
        .verdict { 
            background: var(--bg-primary); 
            border-left: 3px solid var(--accent); 
            padding: 15px; 
            margin: 20px 0; 
            text-align: left;
            position: relative;
            overflow: hidden;
        }
        .verdict::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, var(--accent-glow) 0%, transparent 50%);
            pointer-events: none;
        }
        .verdict-title { font-size: 9px; letter-spacing: 2px; text-transform: uppercase; color: var(--accent); margin-bottom: 6px; }
        .verdict-text { font-size: 13px; line-height: 1.5; position: relative; }

        .tabs { display: flex; gap: 5px; margin-bottom: 15px; }
        .tab { 
            padding: 8px 16px; 
            background: var(--bg-tertiary); 
            border: none; 
            color: var(--text-secondary); 
            font-family: var(--font-mono); 
            font-size: 10px; 
            cursor: pointer; 
            text-transform: uppercase; 
            letter-spacing: 2px;
            transition: all 0.3s;
        }
        .tab:hover { color: var(--accent); }
        .tab.active { 
            background: var(--accent); 
            color: var(--bg-primary);
            box-shadow: 0 0 15px var(--accent-glow);
        }

        .app-layout { display: flex; min-height: 100vh; }
        .sidebar { 
            width: 220px; 
            background: var(--bg-secondary); 
            border-right: 1px solid var(--bg-tertiary); 
            padding: 20px 12px; 
            position: fixed; 
            height: 100vh; 
            display: flex; 
            flex-direction: column; 
            overflow-y: auto;
            background-image: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
        }
        .sidebar::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 1px;
            height: 100%;
            background: linear-gradient(180deg, var(--accent) 0%, transparent 30%, transparent 70%, var(--accent) 100%);
            opacity: 0.3;
        }
        .sidebar-logo { font-size: 11px; font-weight: 700; letter-spacing: 4px; text-transform: uppercase; margin-bottom: 20px; padding: 0 8px; }
        .sidebar-logo span { color: var(--accent); text-shadow: 0 0 10px var(--accent-glow); }
        .sidebar-streak { 
            background: var(--bg-primary); 
            border: 1px solid var(--bg-tertiary); 
            padding: 12px; 
            margin-bottom: 15px; 
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .sidebar-streak::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            opacity: 0.5;
        }
        .streak-value { font-size: 24px; font-weight: 700; color: var(--accent); text-shadow: 0 0 15px var(--accent-glow); }
        .streak-label { font-size: 9px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 2px; }
        .sidebar-nav { list-style: none; flex: 1; }
        .sidebar-nav li { margin-bottom: 3px; }
        .sidebar-nav a { 
            display: block; 
            padding: 9px 10px; 
            color: var(--text-secondary); 
            text-decoration: none; 
            font-size: 11px; 
            border-radius: 3px; 
            transition: all 0.2s;
            letter-spacing: 1px;
        }
        .sidebar-nav a:hover { 
            background: var(--bg-tertiary); 
            color: var(--accent);
            box-shadow: inset 0 0 20px var(--accent-glow);
        }
        .sidebar-nav a.active { 
            background: var(--bg-tertiary); 
            color: var(--accent); 
            border-left: 2px solid var(--accent);
            box-shadow: inset 0 0 20px var(--accent-glow);
        }
        .sidebar-user { padding: 10px; background: var(--bg-tertiary); border-radius: 3px; font-size: 11px; }
        .sidebar-name { margin-bottom: 3px; }
        .sidebar-email { font-size: 9px; color: var(--text-secondary); margin-bottom: 6px; word-break: break-all; }
        .sidebar-logout { font-size: 9px; color: var(--text-muted); cursor: pointer; letter-spacing: 1px; }
        .sidebar-logout:hover { color: var(--danger); text-shadow: 0 0 10px rgba(255,51,102,0.5); }
        .main { flex: 1; margin-left: 220px; padding: 25px; }
        .page-header { margin-bottom: 25px; }
        .page-title { font-family: var(--font-display); font-size: 24px; margin-bottom: 5px; letter-spacing: 2px; }
        .page-subtitle { color: var(--text-secondary); font-size: 12px; letter-spacing: 1px; }

        .stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px; }
        .stat { 
            background: var(--bg-secondary); 
            border: 1px solid var(--bg-tertiary); 
            padding: 18px; 
            text-align: center;
            background-image: var(--metal-shine);
            position: relative;
        }
        .stat::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            opacity: 0.3;
        }
        .stat-value { font-size: 24px; font-weight: 700; color: var(--accent); text-shadow: 0 0 10px var(--accent-glow); }
        .stat-label { font-size: 9px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 2px; }

        .mode-bars { display: flex; flex-direction: column; gap: 12px; }
        .mode-bar { display: flex; align-items: center; gap: 12px; }
        .mode-name { width: 80px; font-size: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .mode-name.ideas { color: var(--ideas); text-shadow: 0 0 5px rgba(123,104,238,0.5); }
        .mode-name.personality { color: var(--personality); text-shadow: 0 0 5px rgba(255,107,157,0.5); }
        .mode-name.execution { color: var(--execution); text-shadow: 0 0 5px rgba(0,255,136,0.5); }
        .mode-track { flex: 1; height: 6px; background: var(--bg-tertiary); border-radius: 3px; overflow: hidden; }
        .mode-fill { height: 100%; border-radius: 3px; transition: width 0.5s; position: relative; }
        .mode-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }
        .mode-fill.ideas { background: var(--ideas); box-shadow: 0 0 10px rgba(123,104,238,0.5); }
        .mode-fill.personality { background: var(--personality); box-shadow: 0 0 10px rgba(255,107,157,0.5); }
        .mode-fill.execution { background: var(--execution); box-shadow: 0 0 10px rgba(0,255,136,0.5); }
        .mode-value { width: 40px; text-align: right; font-size: 14px; font-weight: 700; }

        .grid-2 { display: grid; grid-template-columns: 1.5fr 1fr; gap: 15px; }

        .quest { 
            background: var(--bg-primary); 
            border: 1px solid var(--bg-tertiary); 
            padding: 18px; 
            margin-bottom: 10px;
            background-image: var(--metal-shine);
            transition: all 0.3s;
        }
        .quest:hover {
            border-color: var(--accent);
            box-shadow: 0 0 20px var(--accent-glow);
        }
        .quest.boss { border-color: var(--warning); background: linear-gradient(135deg, var(--bg-primary) 0%, rgba(255,170,0,0.08) 100%); box-shadow: 0 0 15px rgba(255,170,0,0.2); }
        .quest.done { opacity: 0.5; }
        .quest.forecast-quest { border-color: var(--ideas); background: linear-gradient(135deg, var(--bg-primary) 0%, rgba(123,104,238,0.08) 100%); }
        .quest.custom-quest { border-color: var(--accent); background: linear-gradient(135deg, var(--bg-primary) 0%, rgba(0,240,255,0.05) 100%); }
        .quest-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; flex-wrap: wrap; gap: 5px; }
        .quest-mode { font-size: 9px; letter-spacing: 2px; text-transform: uppercase; padding: 2px 6px; }
        .quest-mode.ideas { background: rgba(123,104,238,0.2); color: var(--ideas); }
        .quest-mode.personality { background: rgba(255,107,157,0.2); color: var(--personality); }
        .quest-mode.execution { background: rgba(0,255,136,0.2); color: var(--execution); }
        .quest-diff { font-size: 9px; letter-spacing: 2px; text-transform: uppercase; }
        .quest-diff.easy { color: var(--success); }
        .quest-diff.standard { color: var(--warning); }
        .quest-diff.hard { color: var(--danger); }
        .quest-diff.boss { color: var(--warning); font-weight: 700; }
        .quest-diff.forecast { color: var(--ideas); font-size: 8px; max-width: 150px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .quest-title { font-size: 13px; line-height: 1.4; margin-bottom: 10px; }
        .quest-meta { display: flex; gap: 12px; font-size: 10px; color: var(--text-secondary); margin-bottom: 12px; flex-wrap: wrap; }
        .quest-xp { color: var(--accent); font-weight: 700; text-shadow: 0 0 5px var(--accent-glow); }
        .quest-progress { color: var(--ideas); }
        .quest-tip { font-size: 10px; color: var(--text-muted); font-style: italic; margin-top: 8px; padding-top: 8px; border-top: 1px solid var(--bg-tertiary); }
        .quest-actions { display: flex; gap: 6px; flex-wrap: wrap; }
        .btn-ghost { background: transparent; border: none; color: var(--text-muted); padding: 4px 8px; font-size: 10px; cursor: pointer; letter-spacing: 1px; }
        .btn-ghost:hover { color: var(--danger); text-shadow: 0 0 10px rgba(255,51,102,0.5); }

        .receipt { display: flex; gap: 10px; padding: 10px 0; border-bottom: 1px solid var(--bg-tertiary); }
        .receipt:last-child { border-bottom: none; }
        .receipt-check { width: 20px; height: 20px; background: var(--accent); color: var(--bg-primary); display: flex; align-items: center; justify-content: center; font-size: 10px; flex-shrink: 0; }
        .receipt-content { flex: 1; }
        .receipt-title { font-size: 11px; margin-bottom: 2px; }
        .receipt-meta { font-size: 9px; color: var(--text-secondary); }
        .receipt-reflection { font-size: 10px; color: var(--text-secondary); margin-top: 6px; padding: 8px; background: var(--bg-primary); font-style: italic; }

        .capsule-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px; }
        .capsule { background: var(--bg-secondary); border: 1px solid var(--bg-tertiary); padding: 20px; text-align: center; }
        .capsule.locked { opacity: 0.5; }
        .capsule.unlocked { border-color: var(--accent); }
        .capsule-day { font-size: 10px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px; }
        .capsule-icon { font-size: 28px; margin-bottom: 8px; }
        .capsule-status { font-size: 9px; letter-spacing: 1px; text-transform: uppercase; }
        .capsule-status.locked { color: var(--text-muted); }
        .capsule-status.unlocked { color: var(--accent); }

        .chat-container { display: flex; flex-direction: column; height: calc(100vh - 160px); }
        .chat-messages { flex: 1; overflow-y: auto; padding: 15px 0; }
        .chat-msg { display: flex; gap: 10px; margin-bottom: 15px; }
        .chat-msg.user { flex-direction: row-reverse; }
        .chat-avatar { width: 28px; height: 28px; border-radius: 50%; background: var(--bg-tertiary); display: flex; align-items: center; justify-content: center; font-size: 11px; flex-shrink: 0; }
        .chat-msg.ai .chat-avatar { background: var(--accent); color: var(--bg-primary); }
        .chat-bubble { max-width: 70%; padding: 10px 14px; background: var(--bg-secondary); border: 1px solid var(--bg-tertiary); font-size: 12px; line-height: 1.5; }
        .chat-msg.user .chat-bubble { background: var(--bg-tertiary); }
        .chat-input-row { display: flex; gap: 8px; padding-top: 12px; border-top: 1px solid var(--bg-tertiary); }
        .chat-input { flex: 1; padding: 10px; background: var(--bg-secondary); border: 1px solid var(--bg-tertiary); color: var(--text-primary); font-family: var(--font-mono); font-size: 12px; resize: none; }
        .chat-input:focus { outline: none; border-color: var(--accent); }
        .chat-send { padding: 10px 18px; background: var(--accent); border: none; color: var(--bg-primary); font-family: var(--font-mono); font-size: 10px; font-weight: 700; cursor: pointer; }

        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); display: flex; align-items: center; justify-content: center; z-index: 1000; padding: 20px; }
        .modal { background: var(--bg-secondary); border: 1px solid var(--bg-tertiary); padding: 25px; max-width: 450px; width: 100%; }
        .modal-title { font-family: var(--font-display); font-size: 20px; margin-bottom: 15px; }

        .spinner { width: 20px; height: 20px; border: 2px solid var(--bg-tertiary); border-top-color: var(--accent); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto; }
        @keyframes spin { to { transform: rotate(360deg); } }

        @media (max-width: 900px) {
            .grid-2 { grid-template-columns: 1fr; }
            .stats { grid-template-columns: repeat(2, 1fr); }
            .capsule-grid { grid-template-columns: repeat(2, 1fr); }
            .choice-grid { grid-template-columns: 1fr; }
        }
        @media (max-width: 700px) {
            .sidebar { display: none; }
            .main { margin-left: 0; padding: 15px; padding-bottom: 80px; }
            .results-meters { flex-wrap: wrap; }
            
            /* Mobile bottom nav */
            .mobile-nav { display: flex !important; }
            
            /* Fix login/signup screens */
            .screen-center { padding: 20px 15px; min-height: 100vh; }
            .container-sm, .container-md { padding: 0 10px; }
            .logo { font-size: 14px; margin-bottom: 30px; }
            .card-title { font-size: 20px; }
            .form-input, .form-textarea, select.form-input { font-size: 16px !important; } /* Prevents zoom on iOS */
            .btn { padding: 14px 20px; font-size: 12px; }
            .btn-full { width: 100%; }
            
            /* Quiz mobile */
            .quiz-option { padding: 14px; font-size: 13px; }
            
            /* Results mobile */
            .result-meter { min-width: 100%; }
            
            /* Dashboard mobile */
            .page-header { padding: 15px 0; }
            .page-title { font-size: 22px; }
            .stat-value { font-size: 28px; }
            
            /* Quests mobile */
            .quest { padding: 15px; }
            .quest-title { font-size: 13px; word-break: break-word; }
            .quest-actions { flex-direction: column; gap: 8px; }
            .quest-actions .btn { width: 100%; }
            .main { overflow-x: hidden; }
            .card { overflow-x: hidden; }
            
            /* Chat mobile */
            .chat-container { height: calc(100vh - 280px); margin-bottom: 10px; }
            .chat-input { font-size: 16px !important; }
            .chat-input-row { padding-bottom: 10px; }
            
            /* Cards mobile */
            .card { padding: 15px; }
            .card-header { flex-wrap: wrap; gap: 10px; }
            
            /* Modal mobile */
            .modal { margin: 15px; padding: 20px; max-height: 90vh; overflow-y: auto; }
            
            /* Tabs mobile */
            .tabs { flex-wrap: wrap; gap: 5px; }
            .tab { padding: 8px 12px; font-size: 11px; flex: 1; text-align: center; min-width: 80px; }
            
            /* Onboarding mobile */
            .onboard-progress { padding: 15px 0; }
            .goals-grid, .interests-grid { grid-template-columns: 1fr; }
            .goal-option, .interest-option { padding: 12px; }
            
            /* Settings mobile */
            .form-group { margin-bottom: 15px; }
            
            /* Forecasts mobile */
            .forecast-card { padding: 15px; }
            .opp-card { padding: 12px; }
            
            /* Hide desktop elements */
            .desktop-only { display: none !important; }
        }
        
        /* Mobile bottom navigation */
        .mobile-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-secondary);
            border-top: 1px solid var(--bg-tertiary);
            padding: 8px 0;
            padding-bottom: max(8px, env(safe-area-inset-bottom));
            z-index: 1000;
            justify-content: space-around;
        }
        .mobile-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px 12px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 10px;
            letter-spacing: 0.5px;
            cursor: pointer;
        }
        .mobile-nav-item.active { color: var(--accent); }
        .mobile-nav-item span { font-size: 18px; }
        
        /* More menu popup */
        .more-menu {
            display: none;
            position: fixed;
            bottom: 70px;
            right: 10px;
            background: var(--bg-secondary);
            border: 1px solid var(--bg-tertiary);
            border-radius: 8px;
            padding: 8px 0;
            min-width: 160px;
            z-index: 1001;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
        }
        .more-menu.show { display: block; }
        .more-menu-item {
            padding: 12px 16px;
            font-size: 13px;
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .more-menu-item:hover, .more-menu-item:active {
            background: var(--bg-tertiary);
        }
        .more-menu-item span { font-size: 14px; opacity: 0.7; }
    </style>
</head>
<body>
<div id="app"></div>
<script>
const OPENAI_API = '/.netlify/functions/openai';
const SUPABASE_URL = 'https://snbchuvvnbwvghmbxehv.supabase.co';
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNuYmNodXZ2bmJ3dmdobWJ4ZWh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk5MDg5NzMsImV4cCI6MjA4NTQ4NDk3M30.cKPieraN3FRT_5ilAQL0X2b9kIpklzE49xGzVJwYxZo';
const STRIPE_LINK = 'https://buy.stripe.com/8x2eVdbgP4yL6VK32q9ws01';
const STRIPE_ANNUAL = 'https://buy.stripe.com/dRm5kDbgP5CPdk89qO9ws02';

// Supabase Auth helper functions
async function supabaseAuth(action, data) {
    const url = `${SUPABASE_URL}/auth/v1/${action}`;
    const headers = {
        'apikey': SUPABASE_KEY,
        'Content-Type': 'application/json'
    };
    
    // Add auth token for actions that need it
    if (data.access_token) {
        headers['Authorization'] = `Bearer ${data.access_token}`;
    }
    
    try {
        const r = await fetch(url, {
            method: 'POST',
            headers,
            body: JSON.stringify(data)
        });
        const result = await r.json();
        if (!r.ok) {
            console.error('Auth error:', result);
            return { error: result };
        }
        return result;
    } catch (e) {
        console.error('Auth exception:', e);
        return { error: { message: e.message } };
    }
}

async function authSignUp(email, password, userType) {
    const payload = { email, password };
    if (userType) {
        payload.data = { user_type: userType };
    }
    return supabaseAuth('signup', payload);
}

async function authSignIn(email, password) {
    return supabaseAuth('token?grant_type=password', { email, password });
}

async function authResetPassword(email) {
    return supabaseAuth('recover', { email });
}

async function authUpdatePassword(accessToken, newPassword) {
    const url = `${SUPABASE_URL}/auth/v1/user`;
    try {
        const r = await fetch(url, {
            method: 'PUT',
            headers: {
                'apikey': SUPABASE_KEY,
                'Authorization': `Bearer ${accessToken}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ password: newPassword })
        });
        const result = await r.json();
        if (!r.ok) return { error: result };
        return result;
    } catch (e) {
        return { error: { message: e.message } };
    }
}

async function authUpdateUserType(accessToken, userType) {
    const url = `${SUPABASE_URL}/auth/v1/user`;
    try {
        const r = await fetch(url, {
            method: 'PUT',
            headers: {
                'apikey': SUPABASE_KEY,
                'Authorization': `Bearer ${accessToken}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ data: { user_type: userType } })
        });
        const result = await r.json();
        if (!r.ok) return { error: result };
        return result;
    } catch (e) {
        return { error: { message: e.message } };
    }
}

const S = {
    screen: 'login', user: null, scores: {ideas:50,personality:50,execution:50},
    quests: [], receipts: [], chat: [], loading: false, modal: null, selectedQuest: null,
    quizStep: 0, quizAnswers: [], uploadedFile: null, diff: 'standard', gptAnalysis: null, weeklyReview: null,
    coachMode: 'ideas', // which coach is active
    showMoreMenu: false, // mobile more menu state
    // Quest customization
    hiddenQuests: [], // quest IDs user has hidden
    customQuests: [], // user-created quests
    followedForecasts: [], // forecast IDs user is tracking
    forecastProgress: {}, // {forecastId: {oppId: questIndex}} tracks which quest they're on
    getQuestsExpandedOpp: null, // {forecastId, oppIndex} for Get Quests modal
    // Onboarding data
    onboardStep: 1, // 1=account, 2=occupation, 3=goals, 4=interests, 5=assessment, 6=results+forecasts, 7=email+paywall
    onboardData: {
        occupation: '',
        industry: '',
        experience: '',
        goals: [],
        forecastInterests: []
    },
    onboardSelectedForecasts: [], // forecasts selected during onboarding step 7
    onboardSelectedOpps: [], // opportunities selected during onboarding step 8
    weeklyEmailOptIn: null, // {email, optedIn} for weekly quest emails
    freeQuizMode: false, // true if taking quiz from landing page (not logged in)
    freeQuizScores: null, // store scores from free quiz
    diagnosticStep: 0, // 0=email, 1=role+industry+responsibilities, 2=loading, 3=results
    diagnosticEmail: '',
    diagnosticIndustry: '',
    diagnosticRole: '',
    diagnosticResponsibilities: '',
    diagnosticResult: null, // AI analysis result
    diagLoadingStep: 0, // loading animation step
    diagnosticAnswers: [],
    // Forecasts
    forecasts: [],
    forecastFilter: 'all', // all, ai, tech, crypto, politics, science
    forecastPerson: 'all',
    selectedForecast: null,
    expandedOpp: null, // which opportunity is expanded in modal
    opportunities: {}
};

async function db(table, method, data=null, query='') {
    const url = `${SUPABASE_URL}/rest/v1/${table}${query}`;
    const opt = { method, headers: {'apikey':SUPABASE_KEY,'Authorization':`Bearer ${SUPABASE_KEY}`,'Content-Type':'application/json','Prefer':method==='POST'?'return=representation':''} };
    if(data) opt.body = JSON.stringify(data);
    try { 
        const r = await fetch(url,opt); 
        if(!r.ok) {
            console.error('DB error:', r.status, r.statusText, await r.text());
            return null; 
        }
        const t = await r.text(); 
        return t ? JSON.parse(t) : true; 
    } catch(e) { 
        console.error('DB exception:', e);
        return null; 
    }
}

async function ai(msgs, tokens=500, type='general') {
    try {
        const r = await fetch(OPENAI_API, {
            method:'POST', headers:{'Content-Type':'application/json'},
            body: JSON.stringify({messages:msgs, type:type})
        });
        const d = await r.json(); if(d.error) throw new Error(d.error); return d.content;
    } catch(e) { console.error(e); return null; }
}

const Qs = [
    // DECISION MAKING (Ideas)
    {t:"When facing a complex decision, you typically:",o:[
        {t:"Map out all possible scenarios and outcomes",m:"ideas",w:2},
        {t:"Talk through it with people you trust",m:"personality",w:2},
        {t:"Make a quick call and adjust as you go",m:"execution",w:2},
        {t:"Research until you feel completely confident",m:"ideas",w:1}
    ]},
    {t:"When someone presents a plan with flaws, you:",o:[
        {t:"Point out the logical gaps immediately",m:"ideas",w:2},
        {t:"Ask questions to help them see the issues",m:"personality",w:2},
        {t:"Focus on what's actionable and move forward",m:"execution",w:2},
        {t:"Stay quiet to avoid conflict",m:"personality",w:-1}
    ]},
    {t:"Your ideas usually:",o:[
        {t:"Stay in your head or a notes app",m:"ideas",w:-1},
        {t:"Get shared but rarely acted on",m:"ideas",w:1},
        {t:"Turn into conversations that energize others",m:"personality",w:2},
        {t:"Become projects you actually complete",m:"execution",w:2}
    ]},
    // SOCIAL DYNAMICS (Personality)
    {t:"At a networking event or party, you:",o:[
        {t:"Find one interesting person for deep conversation",m:"ideas",w:1},
        {t:"Work the room and meet lots of people",m:"personality",w:2},
        {t:"Look for people who can help your goals",m:"execution",w:1},
        {t:"Leave earlyâ€”draining",m:"personality",w:-1}
    ]},
    {t:"When someone disagrees with you publicly:",o:[
        {t:"Defend your position with logic and evidence",m:"ideas",w:2},
        {t:"Find common ground to defuse tension",m:"personality",w:2},
        {t:"Stand firmâ€”conflict doesn't bother you",m:"execution",w:1},
        {t:"Back down to keep the peace",m:"execution",w:-1}
    ]},
    {t:"People come to you when they need:",o:[
        {t:"A fresh perspective or creative solution",m:"ideas",w:2},
        {t:"Someone to listen and support them",m:"personality",w:2},
        {t:"Someone to help get things done",m:"execution",w:2},
        {t:"They don't usually come to me",m:"personality",w:-1}
    ]},
    {t:"Your humor style is:",o:[
        {t:"Witty, clever, observational",m:"ideas",w:1},
        {t:"Warm, self-deprecating, brings people together",m:"personality",w:2},
        {t:"Sarcastic, dry, quick",m:"execution",w:1},
        {t:"I'm not really the funny one",m:"personality",w:-1}
    ]},
    // EXECUTION & FOLLOW-THROUGH
    {t:"When you commit to something:",o:[
        {t:"You think it through carefully first",m:"ideas",w:1},
        {t:"You get others bought in",m:"personality",w:1},
        {t:"You do itâ€”your word is your bond",m:"execution",w:2},
        {t:"Honestly, you often don't follow through",m:"execution",w:-2}
    ]},
    {t:"Your to-do list is:",o:[
        {t:"Full of ideas, loosely organized",m:"ideas",w:1},
        {t:"Shared with others for accountability",m:"personality",w:1},
        {t:"Short and gets done daily",m:"execution",w:2},
        {t:"Overwhelming and growing",m:"execution",w:-1}
    ]},
    {t:"When a project stalls, you typically:",o:[
        {t:"Rethink the strategyâ€”maybe wrong approach",m:"ideas",w:1},
        {t:"Get others involved to push through",m:"personality",w:1},
        {t:"Force yourself to just do the next step",m:"execution",w:2},
        {t:"Let it sitâ€”maybe it wasn't meant to be",m:"execution",w:-2}
    ]},
    // AMBITION & RISK
    {t:"When you want something from someone:",o:[
        {t:"Build a compelling logical case",m:"ideas",w:2},
        {t:"Build relationship first, ask later",m:"personality",w:2},
        {t:"Ask directlyâ€”worst they can say is no",m:"execution",w:2},
        {t:"Hint and hope they offer",m:"personality",w:-1}
    ]},
    {t:"Taking risks makes you feel:",o:[
        {t:"Excited if it's a calculated risk",m:"ideas",w:1},
        {t:"Better when others are taking them with you",m:"personality",w:1},
        {t:"Aliveâ€”you'd rather act than wait",m:"execution",w:2},
        {t:"Anxiousâ€”you prefer safety",m:"execution",w:-1}
    ]},
    // SELF-ASSESSMENT
    {t:"Your biggest professional weakness is:",o:[
        {t:"Overthinking and analysis paralysis",m:"ideas",w:-1},
        {t:"Caring too much what others think",m:"personality",w:-1},
        {t:"Taking on too much and burning out",m:"execution",w:1},
        {t:"Not finishing what you start",m:"execution",w:-2}
    ]},
    {t:"If you had to give a TEDx talk tomorrow:",o:[
        {t:"Excitingâ€”you have lots of ideas to share",m:"ideas",w:2},
        {t:"Scary but you'd rise to the occasion",m:"personality",w:1},
        {t:"You'd focus on lessons from things you've built",m:"execution",w:2},
        {t:"Terrifyingâ€”public speaking is your nightmare",m:"personality",w:-1}
    ]},
    {t:"In five years, you want people to say you:",o:[
        {t:"See things others miss",m:"ideas",w:2},
        {t:"Are magnetic and well-connected",m:"personality",w:2},
        {t:"Ship like crazy and make things happen",m:"execution",w:2},
        {t:"Are reliable and steady",m:"execution",w:1}
    ]}
];

// Shortened 4-question diagnostic for landing page (email gate)
const DiagnosticQs = [
    {t:"When facing a complex decision, you typically:",o:[
        {t:"Map out all possible scenarios",m:"ideas",w:2},
        {t:"Talk through it with people you trust",m:"personality",w:2},
        {t:"Make a quick call and adjust as you go",m:"execution",w:2}
    ]},
    {t:"People come to you when they need:",o:[
        {t:"A fresh perspective or creative solution",m:"ideas",w:2},
        {t:"Someone to listen and support them",m:"personality",w:2},
        {t:"Someone to help get things done",m:"execution",w:2}
    ]},
    {t:"When you commit to something:",o:[
        {t:"You think it through carefully first",m:"ideas",w:2},
        {t:"You get others bought in",m:"personality",w:2},
        {t:"You do itâ€”your word is your bond",m:"execution",w:2}
    ]},
    {t:"In five years, you want people to say you:",o:[
        {t:"See things others miss",m:"ideas",w:2},
        {t:"Are magnetic and well-connected",m:"personality",w:2},
        {t:"Ship and make things happen",m:"execution",w:2}
    ]}
];

// Occupation and industry options
const OCCUPATIONS = [
    "Software Engineer / Developer",
    "Product Manager",
    "Designer (UX/UI/Graphic)",
    "Data Scientist / Analyst",
    "Marketing / Growth",
    "Sales / Business Development", 
    "Founder / CEO",
    "Executive / C-Suite",
    "Consultant",
    "Finance / Accounting",
    "Operations / Project Manager",
    "Content Creator / Writer",
    "Student",
    "Unemployed / Between Jobs",
    "Other"
];

const INDUSTRIES = [
    "Technology / Software",
    "Finance / Banking",
    "Healthcare",
    "E-commerce / Retail",
    "Fashion / Luxury",
    "Media / Entertainment",
    "Consulting",
    "Education",
    "Real Estate",
    "Manufacturing",
    "Legal",
    "Government / Non-profit",
    "Crypto / Web3",
    "AI / Machine Learning",
    "Marketing / Advertising",
    "Food & Hospitality",
    "Transportation / Logistics",
    "Other"
];

const GOALS = [
    {id: "decisions", label: "Make better decisions faster", icon: "ðŸŽ¯"},
    {id: "relationships", label: "Build stronger professional relationships", icon: "ðŸ¤"},
    {id: "shipping", label: "Ship projects without procrastinating", icon: "ðŸš€"},
    {id: "ai-prep", label: "Prepare for AI disruption", icon: "ðŸ¤–"},
    {id: "business", label: "Build a business", icon: "ðŸ’¼"},
    {id: "career", label: "Get promoted / change careers", icon: "ðŸ“ˆ"},
    {id: "influence", label: "Become more influential", icon: "âš¡"},
    {id: "confidence", label: "Build confidence", icon: "ðŸ’ª"}
];

const FORECAST_INTERESTS = [
    {id: "ai", label: "AI & Technology", icon: "ðŸ¤–"},
    {id: "work", label: "Future of Work", icon: "ðŸ’¼"},
    {id: "finance", label: "Finance & Markets", icon: "ðŸ“ˆ"},
    {id: "crypto", label: "Crypto & Web3", icon: "â‚¿"},
    {id: "media", label: "Media & Content", icon: "ðŸŽ¬"},
    {id: "tech", label: "Robotics & Hardware", icon: "ðŸ¦¾"}
];

const QB = {
    ideas: {
        easy: [{t:"Write down one decision you've been avoiding.",xp:20,tip:"Awareness first."},{t:"Ask one clarifying question today.",xp:25,tip:"Questions > assumptions."}],
        standard: [{t:"Make a decision you've postponed 3+ days. Tell someone.",xp:50,tip:"Deciding is a muscle."},{t:"Take your best idea, write 3 next steps. Share it.",xp:45,tip:"Ideas without steps are dreams."}],
        hard: [{t:"Make a reversible decision in 2 minutes. No research. Act.",xp:80,tip:"Speed > perfection."},{t:"Pitch an idea to someone who can say yes.",xp:90,tip:"Ideas need oxygen."}]
    },
    personality: {
        easy: [{t:"Give someone a specific, genuine compliment.",xp:20,tip:"'I noticed you...' works."},{t:"Start a conversation with someone you don't usually talk to.",xp:25,tip:"New connections = leverage."}],
        standard: [{t:"Add levity to a tense moment. Notice reactions.",xp:50,tip:"Humor defuses."},{t:"Disagree respectfully in a group setting.",xp:55,tip:"Calibrated disagreement builds respect."}],
        hard: [{t:"Post a genuine opinion on LinkedIn/Twitter. Your take.",xp:80,tip:"If it feels risky, it's right."},{t:"Have a difficult conversation you've been avoiding.",xp:90,tip:"The conversation you fear is the one you need."}],
        anon: [{t:"Create an anonymous account and post one opinion.",xp:40,tip:"Start protected."},{t:"Reply to someone influential with a thoughtful take (anon ok).",xp:45,tip:"Anonymous reps count."}]
    },
    execution: {
        easy: [{t:"Send one email you've been putting off.",xp:20,tip:"Done > perfect."},{t:"Complete one small task on your list for 3+ days.",xp:25,tip:"Clear the queue."}],
        standard: [{t:"Rewrite your last email 40% shorter. Send it.",xp:45,tip:"Brevity = respect."},{t:"Decline a meeting that doesn't serve your goals.",xp:55,tip:"'I can't make this work' is complete."}],
        hard: [{t:"Ask for something you want. Directly. No hints.",xp:80,tip:"Clear asks get clear answers."},{t:"Follow up on a commitment someone made. Hold them accountable.",xp:75,tip:"Accountability goes both ways."}]
    },
    boss: [
        {t:"Ask for a raise or promotion. Make the case.",xp:200,m:"execution",tip:"You don't get what you don't ask for."},
        {t:"Publish something with your name. Blog, tweet thread, article.",xp:180,m:"personality",tip:"Reputation is built in public."},
        {t:"Have THE conversation you've avoided for weeks.",xp:200,m:"personality",tip:"Avoidance compounds."},
        {t:"Ship a side project. Announce it publicly.",xp:190,m:"execution",tip:"Shipping is the skill."}
    ]
};

function weakest() { const {ideas:i,personality:p,execution:e}=S.scores; if(i<=p&&i<=e)return'ideas'; if(p<=i&&p<=e)return'personality'; return'execution'; }
function strongest() { const {ideas:i,personality:p,execution:e}=S.scores; if(i>=p&&i>=e)return'ideas'; if(p>=i&&p>=e)return'personality'; return'execution'; }

// Skew the weakest score down to create urgency, keep others real
function skewScores(raw) {
    const modes = ['ideas', 'personality', 'execution'];
    const weakestMode = modes.reduce((a, b) => raw[a] < raw[b] ? a : b);
    const skewAmount = Math.floor(Math.random() * 6) + 10; // 10-15 points
    
    return {
        ideas: raw.ideas,
        personality: raw.personality,
        execution: raw.execution,
        [weakestMode]: Math.max(20, raw[weakestMode] - skewAmount)
    };
}

// Calculate percentile for display (makes scores feel more meaningful)
function getPercentile(score) {
    // Rough mapping: 20=5th, 50=50th, 80=95th
    if (score <= 30) return Math.round(score * 0.5);
    if (score <= 50) return Math.round(15 + (score - 30) * 1.25);
    if (score <= 70) return Math.round(40 + (score - 50) * 2);
    return Math.round(80 + (score - 70) * 0.67);
}

// Get suggested forecasts based on user interests and assessment
function getSuggestedForecasts() {
    const interests = S.onboardData?.forecastInterests || [];
    const weak = weakest();
    
    // Map interests to forecast categories
    const categoryMap = {
        'ai': ['ai', 'tech'],
        'work': ['work'],
        'finance': ['finance'],
        'crypto': ['crypto', 'finance'],
        'media': ['media'],
        'tech': ['tech', 'ai']
    };
    
    // Get relevant categories
    let relevantCategories = [];
    interests.forEach(interest => {
        if(categoryMap[interest]) {
            relevantCategories = [...relevantCategories, ...categoryMap[interest]];
        }
    });
    relevantCategories = [...new Set(relevantCategories)];
    if(relevantCategories.length === 0) relevantCategories = ['ai', 'tech', 'work']; // defaults
    
    // Filter and sort forecasts
    let forecasts = FORECAST_DATABASE.filter(f => relevantCategories.includes(f.category));
    
    // Prioritize exciting, specific forecasts over generic "already happening" ones
    forecasts.sort((a, b) => {
        // Deprioritize "Already happening" â€” those feel boring as first impression
        const aAlready = a.timeframe === 'Already happening' ? 1 : 0;
        const bAlready = b.timeframe === 'Already happening' ? 1 : 0;
        if(aAlready !== bAlready) return aAlready - bAlready;
        
        // Prioritize forecasts that match user's weak mode
        const aMatchesWeak = a.threatMode === weak ? 1 : 0;
        const bMatchesWeak = b.threatMode === weak ? 1 : 0;
        if(bMatchesWeak !== aMatchesWeak) return bMatchesWeak - aMatchesWeak;
        
        // Then by probability descending (but not 95% generic ones)
        return b.probability - a.probability;
    });
    
    return forecasts.slice(0, 10); // Return top 10
}

// Get personalized forecast recommendations based on goals, interests, scores, and industry
function getPersonalizedForecasts() {
    const interests = S.onboardData?.forecastInterests || [];
    const goals = S.onboardData?.goals || [];
    const weak = weakest();
    const industry = S.onboardData?.industry || S.diagnosticIndustry || S.user?.industry || '';
    
    // Map interests to categories
    const categoryMap = {
        'ai': ['ai', 'tech'],
        'work': ['work'],
        'finance': ['finance'],
        'crypto': ['crypto', 'finance'],
        'media': ['media'],
        'tech': ['tech', 'ai']
    };
    
    let relevantCategories = [];
    interests.forEach(interest => {
        if(categoryMap[interest]) {
            relevantCategories = [...relevantCategories, ...categoryMap[interest]];
        }
    });
    relevantCategories = [...new Set(relevantCategories)];
    if(relevantCategories.length === 0) relevantCategories = ['ai', 'tech', 'work', 'media'];
    
    // Get all matching forecasts
    let forecasts = FORECAST_DATABASE.filter(f => relevantCategories.includes(f.category));
    
    // Add reason why we're recommending each forecast
    forecasts = forecasts.map(f => {
        let reason = '';
        if(f.threatMode === weak) {
            reason = `Targets your weakest mode (${weak}). `;
        }
        if(goals.includes('ai-prep') && f.category === 'ai') {
            reason += 'Matches your goal to prepare for AI disruption. ';
        }
        if(goals.includes('business') && f.opportunities.some(o => o.difficulty !== 'hard')) {
            reason += 'Has buildable business opportunities. ';
        }
        if(goals.includes('career') && f.category === 'work') {
            reason += 'Directly impacts career trajectories. ';
        }
        if(!reason) reason = f.threatReason;
        return {...f, recommendReason: reason.trim()};
    });
    
    // Score and sort
    forecasts.sort((a, b) => {
        let aScore = 0, bScore = 0;
        
        // Boost forecasts matching weak mode
        if(a.threatMode === weak) aScore += 3;
        if(b.threatMode === weak) bScore += 3;
        
        // Boost non-"Already happening" (more exciting first impression)
        if(a.timeframe !== 'Already happening') aScore += 2;
        if(b.timeframe !== 'Already happening') bScore += 2;
        
        // Boost forecasts with more opportunities
        if(a.opportunities.length >= 2) aScore += 1;
        if(b.opportunities.length >= 2) bScore += 1;
        
        // Boost goal-aligned
        if(goals.includes('ai-prep') && a.category === 'ai') aScore += 2;
        if(goals.includes('ai-prep') && b.category === 'ai') bScore += 2;
        if(goals.includes('business')) { aScore += 1; bScore += 1; }
        
        if(bScore !== aScore) return bScore - aScore;
        return b.probability - a.probability;
    });
    
    return forecasts.slice(0, 6);
}

// Get teaser quests from selected forecasts
function getTeaserQuests(selectedForecastIds) {
    const forecasts = selectedForecastIds.length > 0 
        ? FORECAST_DATABASE.filter(f => selectedForecastIds.includes(f.id))
        : getSuggestedForecasts().slice(0, 3);
    
    let quests = [];
    forecasts.forEach(f => {
        if(f.opportunities && f.opportunities[0] && f.opportunities[0].quests) {
            const opp = f.opportunities[0];
            opp.quests.slice(0, 2).forEach((q, idx) => {
                quests.push({
                    mode: q.mode,
                    task: q.task,
                    xp: q.xp,
                    forecastTitle: f.title,
                    forecastId: f.id
                });
            });
        }
    });
    
    return quests.slice(0, 6); // Max 6 teaser quests
}

function dayNum() { if(!S.user?.start_date)return 1; return Math.floor((Date.now()-new Date(S.user.start_date).getTime())/86400000)+1; }
function totalXP() { return S.receipts.reduce((s,r)=>s+(r.xp||0),0); }

// Theme management
function setTheme(theme) {
    if(theme === 'light') {
        document.documentElement.classList.add('light-mode');
    } else {
        document.documentElement.classList.remove('light-mode');
    }
    localStorage.setItem('apc_theme', theme);
    render();
}

function initTheme() {
    const saved = localStorage.getItem('apc_theme');
    if(saved === 'light') {
        document.documentElement.classList.add('light-mode');
    }
}

// Get date string in YYYY-MM-DD format (timezone safe)
function getDateStr(date = new Date()) {
    const d = new Date(date);
    return d.getFullYear() + '-' + String(d.getMonth()+1).padStart(2,'0') + '-' + String(d.getDate()).padStart(2,'0');
}

// Calculate streak from receipts
function streak() {
    if(!S.receipts || !S.receipts.length) return 0;
    
    // Get unique dates from receipts (in YYYY-MM-DD format for consistent comparison)
    const receiptDates = new Set(S.receipts.map(r => {
        if(!r.ts) return null;
        return getDateStr(new Date(r.ts));
    }).filter(d => d));
    
    if(receiptDates.size === 0) return 0;
    
    const today = getDateStr();
    const yesterday = getDateStr(new Date(Date.now() - 86400000));
    
    // Determine starting point: today if active, yesterday if yesterday was active
    let checkDate;
    if(receiptDates.has(today)) {
        checkDate = new Date();
    } else if(receiptDates.has(yesterday)) {
        checkDate = new Date(Date.now() - 86400000);
    } else {
        return 0;
    }
    
    // Count consecutive days going backwards
    let streakCount = 0;
    for(let i = 0; i < 365; i++) {
        const dateStr = getDateStr(checkDate);
        if(receiptDates.has(dateStr)) {
            streakCount++;
            checkDate = new Date(checkDate.getTime() - 86400000);
        } else {
            break;
        }
    }
    
    return streakCount;
}

// Update streak when user completes a quest (also tracks in localStorage for persistence)
function updateStreakData() {
    const today = getDateStr();
    const streakData = JSON.parse(localStorage.getItem('apc_streak') || '{}');
    
    // Record today's activity
    if(!streakData.activeDates) streakData.activeDates = [];
    if(!streakData.activeDates.includes(today)) {
        streakData.activeDates.push(today);
        // Keep only last 365 days
        streakData.activeDates = streakData.activeDates.slice(-365);
    }
    streakData.lastActive = today;
    
    localStorage.setItem('apc_streak', JSON.stringify(streakData));
}

// Progressive Quest Curriculum - Gets harder each week
const CURRICULUM = {
    ideas: [
        // Week 1-2: Awareness
        [{t:"Write down one decision you've been avoiding.",xp:20,tip:"Awareness first."},{t:"Notice when you're overthinking today. Just notice.",xp:15,tip:"Pattern recognition."}],
        [{t:"Ask one clarifying question in a meeting.",xp:25,tip:"Questions > assumptions."},{t:"Identify one assumption you're making about a project.",xp:20,tip:"Name it to tame it."}],
        // Week 3-4: Action
        [{t:"Make a small decision in under 2 minutes. No research.",xp:35,tip:"Speed builds muscle."},{t:"Share one idea with someone who can act on it.",xp:40,tip:"Ideas need oxygen."}],
        [{t:"Make a decision you've postponed 3+ days. Tell someone.",xp:50,tip:"Deciding is a muscle."},{t:"Take your best idea, write 3 next steps. Share it.",xp:45,tip:"Ideas without steps are dreams."}],
        // Week 5-6: Challenge
        [{t:"Challenge one belief you hold about your work. Write the counter-argument.",xp:55,tip:"Strong opinions, loosely held."},{t:"Propose a new approach to a stuck problem. In writing.",xp:60,tip:"Written = committed."}],
        [{t:"Make a reversible decision in 2 minutes. No research. Act on it.",xp:70,tip:"Speed > perfection."},{t:"Kill one project or idea you've been holding onto.",xp:65,tip:"Pruning creates growth."}],
        // Week 7+: Mastery
        [{t:"Pitch an idea to someone who can say yes. Get a real response.",xp:90,tip:"Ideas need champions."},{t:"Make a decision that affects others. Own it publicly.",xp:85,tip:"Leaders decide."}]
    ],
    personality: [
        // Week 1-2: Awareness
        [{t:"Notice one social dynamic in a meeting today.",xp:15,tip:"Observation first."},{t:"Pay attention to how someone responds to you. What worked?",xp:20,tip:"Calibration starts with noticing."}],
        [{t:"Give someone a specific, genuine compliment.",xp:25,tip:"'I noticed you...' works."},{t:"Start a conversation with someone you don't usually talk to.",xp:25,tip:"New connections = leverage."}],
        // Week 3-4: Action
        [{t:"Add levity to a slightly tense moment. Notice reactions.",xp:40,tip:"Humor defuses."},{t:"Ask someone 'What's been on your mind?' and actually listen.",xp:35,tip:"Curiosity > agenda."}],
        [{t:"Disagree respectfully in a group setting. Stay calm.",xp:50,tip:"Calibrated disagreement builds respect."},{t:"Give feedback to someone. Specific and constructive.",xp:55,tip:"Feedback is a gift."}],
        // Week 5-6: Challenge
        [{t:"Recover gracefully from an awkward moment. Document what worked.",xp:60,tip:"Recovery > prevention."},{t:"Have a mildly uncomfortable conversation. Stay in it.",xp:65,tip:"Comfort zone expands."}],
        [{t:"Post a genuine opinion online. Your take, your name.",xp:75,tip:"If it feels risky, it's right."},{t:"Ask for feedback from someone whose opinion intimidates you.",xp:70,tip:"Intimidation = respect."}],
        // Week 7+: Mastery
        [{t:"Have a difficult conversation you've been avoiding. Be direct.",xp:90,tip:"The conversation you fear is the one you need."},{t:"Influence a group decision without dominating.",xp:85,tip:"Soft power > hard power."}]
    ],
    execution: [
        // Week 1-2: Awareness
        [{t:"Track how long tasks actually take today vs your estimate.",xp:15,tip:"Awareness of time."},{t:"Notice one thing you're procrastinating on. Just notice.",xp:20,tip:"Name the avoidance."}],
        [{t:"Send one email you've been putting off.",xp:25,tip:"Done > perfect."},{t:"Complete one small task on your list for 3+ days.",xp:25,tip:"Clear the queue."}],
        // Week 3-4: Action
        [{t:"Rewrite your last email 40% shorter. Send it.",xp:40,tip:"Brevity = respect."},{t:"Set a 25-min timer and work on ONE thing. No switching.",xp:35,tip:"Focus is a skill."}],
        [{t:"Decline a meeting that doesn't serve your goals. No apology.",xp:50,tip:"'I can't make this' is complete."},{t:"Ship something at 80%. Stop polishing.",xp:55,tip:"Shipped > perfect."}],
        // Week 5-6: Challenge
        [{t:"Follow up on a commitment someone made. Hold them accountable.",xp:60,tip:"Accountability goes both ways."},{t:"Set a deadline and hit it. No extensions.",xp:65,tip:"Deadlines reveal priorities."}],
        [{t:"Ask for something you want. Directly. No hints.",xp:75,tip:"Clear asks get clear answers."},{t:"Delegate something you usually do yourself.",xp:70,tip:"Leverage > labor."}],
        // Week 7+: Mastery
        [{t:"Ship a complete project this week. Announce it.",xp:90,tip:"Shipping is the skill."},{t:"Say no to something good to protect something great.",xp:85,tip:"No is a complete sentence."}]
    ],
    boss: [
        // Progressive boss quests
        [{t:"Send a message to someone you admire. Genuine, not needy.",xp:100,m:"personality"},{t:"Publish something with your name on it. Anywhere.",xp:100,m:"execution"}],
        [{t:"Ask for a small raise or new responsibility.",xp:150,m:"execution"},{t:"Share a contrarian opinion in a professional setting.",xp:140,m:"personality"}],
        [{t:"Pitch yourself for an opportunity you're not sure you're ready for.",xp:180,m:"ideas"},{t:"Have THE conversation you've avoided for weeks.",xp:180,m:"personality"}],
        [{t:"Ask for a significant raise or promotion. Make the case.",xp:200,m:"execution"},{t:"Ship a side project and announce it publicly.",xp:200,m:"execution"}]
    ]
};

function getWeekNumber() {
    const start = S.user?.start_date ? new Date(S.user.start_date) : new Date();
    const now = new Date();
    const diff = now - start;
    return Math.floor(diff / (7 * 24 * 60 * 60 * 1000)) + 1;
}

function getCurriculumWeek() {
    const week = getWeekNumber();
    // Map week to curriculum index (0-6, then stays at 6 for mastery)
    if (week <= 2) return 0;
    if (week <= 4) return 1;
    if (week <= 6) return 2;
    if (week <= 8) return 3;
    if (week <= 10) return 4;
    if (week <= 12) return 5;
    return 6; // Mastery level
}

function genQuests() {
    const w = weakest();
    const d = S.diff || 'standard';
    const qs = [];
    
    // Get recently completed quest texts to avoid repeats (last 20 receipts)
    const recentlyDone = new Set();
    if (S.receipts && S.receipts.length > 0) {
        S.receipts.slice(-20).forEach(r => {
            if (r.title) recentlyDone.add(r.title.toLowerCase().trim());
        });
    }
    
    // Auto-progress difficulty based on receipts count
    let effectiveDiff = d;
    const totalCompleted = S.receipts ? S.receipts.length : 0;
    if (d === 'standard' && totalCompleted >= 30) {
        effectiveDiff = 'hard';
    }
    
    // Helper to get quests excluding recently done
    const getAvailableQuests = (mode, difficulty) => {
        if (!QB[mode] || !QB[mode][difficulty]) return [];
        return QB[mode][difficulty].filter(q => q.t && !recentlyDone.has(q.t.toLowerCase().trim()));
    };
    
    // Get quests from QB based on difficulty
    let modeQuests = getAvailableQuests(w, effectiveDiff);
    
    // Fallback if too few available
    if (modeQuests.length < 2 && QB[w] && QB[w][effectiveDiff]) {
        modeQuests = QB[w][effectiveDiff];
    }
    if (!modeQuests || modeQuests.length === 0) {
        modeQuests = QB[w]?.standard || [];
    }
    
    // 2 quests from weakest mode
    const shuffled = [...modeQuests].sort(() => Math.random() - 0.5);
    shuffled.slice(0, 2).forEach(q => {
        if (q && q.t) {
            qs.push({...q, mode: w, diff: effectiveDiff, id: Date.now() + Math.random(), done: false});
        }
    });
    
    // 1 quest from each other mode
    ['ideas', 'personality', 'execution'].filter(m => m !== w).forEach(m => {
        let otherQuests = getAvailableQuests(m, effectiveDiff);
        if (otherQuests.length === 0 && QB[m]) {
            otherQuests = QB[m][effectiveDiff] || QB[m].standard || [];
        }
        if (otherQuests && otherQuests.length > 0) {
            const q = otherQuests[Math.floor(Math.random() * otherQuests.length)];
            if (q && q.t) {
                qs.push({...q, mode: m, diff: effectiveDiff, id: Date.now() + Math.random(), done: false});
            }
        }
    });
    
    // Anonymous option for personality if struggling
    if (w === 'personality' && S.scores.personality < 40 && d === 'easy' && QB.personality?.anon) {
        const anonQuests = QB.personality.anon;
        const available = anonQuests.filter(q => q.t && !recentlyDone.has(q.t.toLowerCase().trim()));
        const pool = available.length > 0 ? available : anonQuests;
        if (pool.length > 0) {
            const q = pool[Math.floor(Math.random() * pool.length)];
            qs.push({...q, mode: 'personality', diff: 'anon', id: Date.now() + Math.random(), done: false});
        }
    }
    
    // Boss quest after 20+ completions
    if (totalCompleted >= 20 && QB.boss && QB.boss.length > 0) {
        const available = QB.boss.filter(q => q.t && !recentlyDone.has(q.t.toLowerCase().trim()));
        const pool = available.length > 0 ? available : QB.boss;
        const boss = pool[Math.floor(Math.random() * pool.length)];
        if (boss) {
            qs.push({t: boss.t, xp: boss.xp, mode: boss.m, diff: 'boss', tip: boss.tip, id: Date.now() + Math.random(), done: false, boss: true});
        }
    }
    
    return qs;
}

function getDiffLabel(diff) {
    const labels = {easy: 'Easy', standard: 'Standard', hard: 'Hard', anon: 'Anon OK', boss: 'Boss'};
    return labels[diff] || diff;
}

function shouldRefreshQuests() {
    if (!S.user?.lastQuestWeek) return false; // Don't refresh if never set - user might be mid-week
    return getWeekNumber() > S.user.lastQuestWeek;
}

function checkWeeklyProgress() {
    // Only refresh GENERIC quests if it's a new week â€” never touch forecast quests
    if (shouldRefreshQuests()) {
        // Only regenerate the generic quests (not forecast-linked ones)
        const newGenericQuests = genQuests();
        // Keep any undone quests that the user manually added or are custom
        S.quests = newGenericQuests;
        S.user.lastQuestWeek = getWeekNumber();
        save();
    }
    // Set lastQuestWeek if not set (first time)
    if (!S.user.lastQuestWeek && S.quests && S.quests.length > 0) {
        S.user.lastQuestWeek = getWeekNumber();
        save();
    }
}

function capsules(){
    const start=S.user?.start_date?new Date(S.user.start_date):new Date(), d=dayNum();
    return [
        {day:1,label:'Day 1',unlocked:true,scores:S.user?.baseline_scores||S.scores},
        {day:30,label:'Day 30',unlocked:d>=30,scores:d>=30?S.scores:null},
        {day:60,label:'Day 60',unlocked:d>=60,scores:d>=60?S.scores:null},
        {day:90,label:'Day 90',unlocked:d>=90,scores:d>=90?S.scores:null}
    ];
}

function render(){
    const screens={
        login:loginH, signup:signupH, forgot:forgotH, pricing:pricingH,
        // Free diagnostic flow (from landing page) - 4 questions with email gate
        diagnostic:diagnosticH, freeQuiz:quizH, freeResults:freeResultsH,
        // Onboarding flow
        onboarding:onboardingH, upload:uploadH, analyzing:analyzingH, quiz:quizH, results:resultsH,
        // App screens
        dashboard:()=>appH(dashH()), quests:()=>appH(questsH()), coach:()=>appH(coachH()), 
        receipts:()=>appH(receiptsH()), capsules:()=>appH(capsulesH()), review:()=>appH(reviewH()), 
        settings:()=>appH(settingsH()), forecasts:()=>appH(forecastsH())
    };
    document.getElementById('app').innerHTML=(screens[S.screen]||loginH)()+(S.modal?modalH():'');
    if(typeof updateHash === 'function') updateHash();
    bindEvents();
}

// AI-powered diagnostic - personalized job assessment
function diagnosticH(){
    const step = S.diagnosticStep;
    
    // Step 0: Email collection
    if(step === 0){
        return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div>
        <div class="card">
            <h2 class="card-title text-center">How AI-Proof Is Your Job?</h2>
            <p class="card-subtitle text-center">Get a brutally honest assessment of where you stand</p>
            
            <div style="background:var(--bg-primary);padding:20px;margin:20px 0;text-align:center">
                <div style="display:flex;gap:15px;justify-content:center;margin-bottom:15px">
                    <div><span style="font-size:24px">ðŸ’¡</span><div style="font-size:10px;color:var(--ideas)">Ideas</div></div>
                    <div><span style="font-size:24px">âš¡</span><div style="font-size:10px;color:var(--personality)">Personality</div></div>
                    <div><span style="font-size:24px">ðŸŽ¯</span><div style="font-size:10px;color:var(--execution)">Execution</div></div>
                </div>
                <p class="text-secondary text-small">We score you on the 3 modes that separate people who thrive with AI from those who get replaced by it.</p>
            </div>
            
            <form id="diagnostic-start-form">
                <div class="form-group">
                    <label class="form-label">Your Email</label>
                    <input type="email" class="form-input" id="diag-email" required placeholder="you@email.com">
                </div>
                <button type="submit" class="btn btn-primary btn-full">Continue â†’</button>
            </form>
            <p class="text-center text-secondary text-small mt-15">Free. Takes 90 seconds.</p>
        </div>
        <p class="text-center mt-20"><a class="text-link text-small" id="back-to-login">â† Back to login</a></p>
        </div></div>`;
    }
    
    // Step 1: Industry + Role + Responsibilities
    if(step === 1){
        return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div>
        <div class="card">
            <h2 class="card-title">Tell us about your job</h2>
            <p class="card-subtitle">Be specific â€” the more detail, the more accurate your score</p>
            
            <form id="diagnostic-role-form">
                <div class="form-group">
                    <label class="form-label">Industry</label>
                    <select class="form-input" id="diag-industry" required>
                        <option value="">Select your industry...</option>
                        ${INDUSTRIES.map(i=>`<option value="${i}">${i}</option>`).join('')}
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Your Role / Job Title</label>
                    <input type="text" class="form-input" id="diag-role" required placeholder="e.g. Marketing Manager, Software Engineer, Nurse">
                </div>
                <div class="form-group">
                    <label class="form-label">What do you actually do day-to-day?</label>
                    <textarea class="form-input" id="diag-responsibilities" required maxlength="300" rows="3" placeholder="e.g. I write email campaigns, manage our social accounts, and report on weekly analytics" style="resize:vertical"></textarea>
                    <div style="text-align:right;font-size:10px;color:var(--text-secondary);margin-top:4px"><span id="diag-char-count">0</span>/300</div>
                </div>
                <button type="submit" class="btn btn-primary btn-full">Analyze My Job â†’</button>
            </form>
        </div>
        </div></div>`;
    }
    
    // Step 2: Loading / AI Analysis
    if(step === 2){
        return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div>
        <div class="card text-center" style="padding:50px 30px">
            <div class="spinner" style="margin:0 auto 20px"></div>
            <h2 class="card-title">Analyzing your role...</h2>
            <p class="text-secondary text-small">Comparing your responsibilities against current AI capabilities</p>
            <div style="margin-top:25px;text-align:left">
                <div class="diag-loading-step ${S.diagLoadingStep >= 1 ? 'active' : ''}" style="padding:8px 0;font-size:12px;color:${S.diagLoadingStep >= 1 ? 'var(--accent)' : 'var(--text-secondary)'}">
                    ${S.diagLoadingStep >= 1 ? 'âœ“' : 'â—‹'} Mapping your responsibilities to AI capabilities
                </div>
                <div class="diag-loading-step ${S.diagLoadingStep >= 2 ? 'active' : ''}" style="padding:8px 0;font-size:12px;color:${S.diagLoadingStep >= 2 ? 'var(--accent)' : 'var(--text-secondary)'}">
                    ${S.diagLoadingStep >= 2 ? 'âœ“' : 'â—‹'} Calculating automation risk by task
                </div>
                <div class="diag-loading-step ${S.diagLoadingStep >= 3 ? 'active' : ''}" style="padding:8px 0;font-size:12px;color:${S.diagLoadingStep >= 3 ? 'var(--accent)' : 'var(--text-secondary)'}">
                    ${S.diagLoadingStep >= 3 ? 'âœ“' : 'â—‹'} Scoring your AI-proof modes
                </div>
            </div>
        </div>
        </div></div>`;
    }
    
    // Step 3: Results
    if(step === 3){
        const r = S.diagnosticResult;
        if(!r) return diagnosticH(); // fallback
        
        const {ideas:i,personality:p,execution:e} = r.scores;
        const avgScore = Math.round((i+p+e)/3);
        const percentile = getPercentile(avgScore);
        const weak = ['ideas','personality','execution'].reduce((a,b)=>r.scores[a]<r.scores[b]?a:b);
        
        return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
        <div class="card">
            <h2 class="card-title text-center">Your AI-Proof Score</h2>
            <p class="text-secondary text-small text-center mb-20">${S.diagnosticRole} in ${S.diagnosticIndustry}</p>
            
            <div class="results-meters">
                <div class="meter"><div class="meter-circle ideas">${i}%</div><div class="meter-label">Ideas</div></div>
                <div class="meter"><div class="meter-circle personality">${p}%</div><div class="meter-label">Personality</div></div>
                <div class="meter"><div class="meter-circle execution">${e}%</div><div class="meter-label">Execution</div></div>
            </div>
            
            <div class="verdict">
                <div class="verdict-title">Overall Risk: ${r.riskLevel}</div>
                <div class="verdict-text" style="font-size:13px;line-height:1.7">${r.overallAssessment}</div>
            </div>
            
            <div class="verdict" style="border-color:var(--personality)">
                <div class="verdict-title">What AI Can Already Do</div>
                <div class="verdict-text" style="font-size:12px;line-height:1.7">${r.whatAICanDo}</div>
            </div>
            
            <div class="verdict" style="border-color:var(--execution)">
                <div class="verdict-title">Your Human Edge</div>
                <div class="verdict-text" style="font-size:12px;line-height:1.7">${r.humanEdge}</div>
            </div>
            
            <div class="verdict" style="border-color:var(--ideas)">
                <div class="verdict-title">Timeline</div>
                <div class="verdict-text" style="font-size:12px;line-height:1.7">${r.timeline}</div>
            </div>
            
            <div style="background:var(--bg-primary);padding:20px;margin-top:25px;text-align:left">
                <h4 style="font-size:13px;margin-bottom:10px">What happens next?</h4>
                <p class="text-secondary text-small">AI Proof Club gives you progressive quests tied to real AI forecasts â€” not generic advice. You'll track trends, spot opportunities, and build skills that make you irreplaceable in your industry.</p>
            </div>
            
            <div style="display:flex;flex-direction:column;gap:15px;margin-top:20px">
                <div style="border:2px solid var(--accent);padding:15px;background:var(--bg-primary)">
                    <div style="font-size:10px;color:var(--accent);text-transform:uppercase;letter-spacing:1px;margin-bottom:5px">Monthly</div>
                    <div style="font-size:24px;font-weight:700">$9.99<span style="font-size:12px;color:var(--text-secondary)">/month</span></div>
                    <a href="${STRIPE_LINK}?prefilled_email=${encodeURIComponent(S.diagnosticEmail||'')}&client_reference_id=${encodeURIComponent(S.diagnosticEmail||'')}" class="btn btn-primary btn-full mt-10" id="diag-to-signup-link">Start Monthly â†’</a>
                </div>
                <div style="border:1px solid var(--success);padding:15px">
                    <div style="font-size:10px;color:var(--success);text-transform:uppercase;letter-spacing:1px;margin-bottom:5px">Best Value â€” 2 Months Free</div>
                    <div style="font-size:24px;font-weight:700">$99<span style="font-size:12px;color:var(--text-secondary)">/year</span></div>
                    <a href="${STRIPE_ANNUAL}?prefilled_email=${encodeURIComponent(S.diagnosticEmail||'')}&client_reference_id=${encodeURIComponent(S.diagnosticEmail||'')}" class="btn btn-secondary btn-full mt-10" id="diag-to-signup-annual">Start Annual â†’</a>
                </div>
            </div>
        </div>
        <p class="text-center mt-20"><a class="text-link text-small" id="back-to-login">â† Back to login</a></p>
        </div></div>`;
    }
    
    return loginH();
}

function calculateDiagnosticScores(){
    let scores = {ideas: 50, personality: 50, execution: 50};
    S.diagnosticAnswers.forEach((answerIdx, qIdx) => {
        const q = DiagnosticQs[qIdx];
        if(q && q.o[answerIdx]){
            const opt = q.o[answerIdx];
            scores[opt.m] += opt.w * 8; // Amplify since fewer questions
        }
    });
    // Clamp scores
    Object.keys(scores).forEach(k => {
        scores[k] = Math.max(20, Math.min(95, scores[k]));
    });
    return scores;
}

function loginH(){return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div><div class="card"><h2 class="card-title">Welcome back</h2><p class="card-subtitle">Continue your training</p><form id="login-form"><div class="form-group"><label class="form-label">Email</label><input type="email" class="form-input" id="email" required></div><div class="form-group"><label class="form-label">Password</label><input type="password" class="form-input" id="pass" required></div><button type="submit" class="btn btn-primary btn-full">Sign In</button></form><p class="text-center mt-10"><a class="text-link text-small" id="forgot-pass">Forgot password?</a></p><p class="text-center text-secondary text-small mt-20">New? <a class="text-link" id="to-signup">Start training</a></p></div><div class="card mt-20 text-center" style="border-color:var(--accent)"><p class="text-small mb-10">Not sure yet?</p><button class="btn btn-secondary btn-full" id="take-free-quiz">Get My AI-Proof Score â†’</button><p class="text-secondary text-small mt-10">4 questions. 60 seconds.</p></div></div></div>`;}

function freeResultsH(){
    const {ideas:i,personality:p,execution:e}=S.freeQuizScores||S.scores;
    const avgScore = Math.round((i+p+e)/3);
    const percentile = getPercentile(avgScore);
    const weak = ['ideas','personality','execution'].reduce((a,b)=>(S.freeQuizScores||S.scores)[a]<(S.freeQuizScores||S.scores)[b]?a:b);
    
    return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
    <div class="card text-center">
        <h2 class="card-title">Your Mode Profile</h2>
        <p class="text-secondary text-small mb-20">Based on your responses</p>
        
        <div class="results-meters">
            <div class="meter"><div class="meter-circle ideas">${i}%</div><div class="meter-label">Ideas</div></div>
            <div class="meter"><div class="meter-circle personality">${p}%</div><div class="meter-label">Personality</div></div>
            <div class="meter"><div class="meter-circle execution">${e}%</div><div class="meter-label">Execution</div></div>
        </div>
        
        <div class="verdict">
            <div class="verdict-title">Your Position</div>
            <div class="verdict-text">You're in the <strong>${percentile}th percentile</strong>. AI Proof Club starts at 85+.</div>
        </div>
        
        <div class="verdict" style="border-color:var(--danger)">
            <div class="verdict-title" style="color:var(--danger)">Your Gap</div>
            <div class="verdict-text"><strong style="text-transform:capitalize">${weak}</strong> is holding you back. This is where focused training pays off.</div>
        </div>
        
        <div style="background:var(--bg-primary);padding:20px;margin-top:25px;border:1px solid var(--accent)">
            <p class="text-small mb-10">Ready to train your weak spots?</p>
            <button class="btn btn-primary btn-full" id="free-to-signup">Start Training â†’</button>
            <p class="text-secondary text-small mt-10">$9.99/mo Â· Cancel anytime</p>
        </div>
    </div>
    <p class="text-center mt-20"><a class="text-link text-small" id="back-login">Already have an account? Sign in</a></p>
    </div></div>`;
}

function forgotH(){return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div><div class="card"><h2 class="card-title">Reset Password</h2><p class="card-subtitle">Enter your email to reset</p><form id="forgot-form"><div class="form-group"><label class="form-label">Email</label><input type="email" class="form-input" id="reset-email" required></div><button type="submit" class="btn btn-primary btn-full">Send Reset Link</button></form><p class="text-center text-secondary text-small mt-20"><a class="text-link" id="back-login">Back to sign in</a></p></div></div></div>`;}

function signupH(){return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div><div class="card"><h2 class="card-title">Start training</h2><p class="card-subtitle">Build skills AI can't replace</p><form id="signup-form"><div class="form-group"><label class="form-label">Name</label><input type="text" class="form-input" id="name" required></div><div class="form-group"><label class="form-label">Email</label><input type="email" class="form-input" id="email" required></div><div class="form-group"><label class="form-label">Password</label><input type="password" class="form-input" id="pass" required minlength="6"></div><button type="submit" class="btn btn-primary btn-full">Create Account</button></form><p class="text-center text-secondary text-small mt-20">Have account? <a class="text-link" id="to-login">Sign in</a></p></div></div></div>`;}

function pricingH(){return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div><div class="card text-center"><h2 class="card-title">Choose Your Plan</h2><p class="text-secondary text-small mb-20">Cancel anytime</p><div style="display:flex;flex-direction:column;gap:15px"><div style="border:2px solid var(--accent);padding:20px;background:var(--bg-primary)"><div style="font-size:11px;color:var(--accent);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">Most Popular</div><div style="font-size:36px;font-weight:700">$9.99<span style="font-size:14px;color:var(--text-secondary)">/month</span></div><a href="${STRIPE_LINK}?prefilled_email=${encodeURIComponent(S.user?.email||S.onboardData?.email||S.diagnosticEmail||'')}&client_reference_id=${encodeURIComponent(S.user?.email||S.onboardData?.email||S.diagnosticEmail||'')}" class="btn btn-primary btn-full mt-20">Start Monthly â†’</a></div>${STRIPE_ANNUAL?`<div style="border:1px solid var(--bg-tertiary);padding:20px"><div style="font-size:11px;color:var(--success);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">Best Value â€” 2 Months Free</div><div style="font-size:36px;font-weight:700">$99<span style="font-size:14px;color:var(--text-secondary)">/year</span></div><a href="${STRIPE_ANNUAL}?prefilled_email=${encodeURIComponent(S.user?.email||S.onboardData?.email||S.diagnosticEmail||'')}&client_reference_id=${encodeURIComponent(S.user?.email||S.onboardData?.email||S.diagnosticEmail||'')}" class="btn btn-secondary btn-full mt-20">Start Annual â†’</a></div>`:''}</div><ul style="list-style:none;text-align:left;margin-top:25px;font-size:12px"><li style="padding:8px 0;border-bottom:1px solid var(--bg-tertiary)">âœ“ AI-Proof Score + personalized profile</li><li style="padding:8px 0;border-bottom:1px solid var(--bg-tertiary)">âœ“ Progressive weekly quests</li><li style="padding:8px 0;border-bottom:1px solid var(--bg-tertiary)">âœ“ 3 AI Coaches (Ideas, Personality, Execution)</li><li style="padding:8px 0;border-bottom:1px solid var(--bg-tertiary)">âœ“ Progress capsules + Weekly reviews</li><li style="padding:8px 0">âœ“ Cancel anytime</li></ul></div></div></div>`;}

function onboardingH(){
    const step = S.onboardStep;
    const totalSteps = 8; // 1-email/industry, 2-quiz, 3-results+pay, 4-account, 5-goals, 6-interests, 7-recommended forecasts, 8-pick opportunities
    
    // Progress bar
    const progressBar = `<div class="progress-bar" style="margin-bottom:30px">${Array(totalSteps).fill(0).map((_,i)=>`<div class="progress-dot ${i<step?'done':i===step-1?'active':''}"></div>`).join('')}</div>`;
    
    if(step === 1) {
        // Email + Industry (first step - collect email immediately)
        return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div>
        ${progressBar}
        <div class="card">
            <h2 class="card-title">Let's get started</h2>
            <p class="card-subtitle">First, tell us a bit about you</p>
            <form id="onboard-email-form">
                <div class="form-group"><label class="form-label">Email</label><input type="email" class="form-input" id="ob-email" value="${S.onboardData.email||S.diagnosticEmail||''}" required></div>
                <div class="form-group">
                    <label class="form-label">Industry</label>
                    <select class="form-input" id="ob-industry" required>
                        <option value="">Select your industry...</option>
                        ${INDUSTRIES.map(i=>`<option value="${i}" ${(S.onboardData.industry||S.diagnosticIndustry)===i?'selected':''}>${i}</option>`).join('')}
                    </select>
                </div>
                <button type="submit" class="btn btn-primary btn-full">Continue to Assessment â†’</button>
            </form>
        </div>
        <p class="text-center text-secondary text-small mt-20">Have account? <a class="text-link" id="to-login">Sign in</a></p>
        </div></div>`;
    }
    
    if(step === 2) {
        // 7-question Quiz intro
        return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
        ${progressBar}
        <div class="card text-center">
            <h2 class="card-title">Mode Assessment</h2>
            <p class="card-subtitle">7 questions to understand your strengths</p>
            
            <div style="background:var(--bg-primary);padding:25px;margin:25px 0;text-align:left">
                <div style="display:flex;gap:20px;margin-bottom:20px">
                    <div style="text-align:center;flex:1">
                        <div style="font-size:28px;margin-bottom:5px;color:var(--ideas)">ðŸ’¡</div>
                        <div style="font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--ideas)">Ideas</div>
                    </div>
                    <div style="text-align:center;flex:1">
                        <div style="font-size:28px;margin-bottom:5px;color:var(--personality)">âš¡</div>
                        <div style="font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--personality)">Personality</div>
                    </div>
                    <div style="text-align:center;flex:1">
                        <div style="font-size:28px;margin-bottom:5px;color:var(--execution)">ðŸŽ¯</div>
                        <div style="font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--execution)">Execution</div>
                    </div>
                </div>
                <p style="font-size:12px;color:var(--text-secondary);text-align:center">We'll measure these three modes that separate the top 1% from everyone else.</p>
            </div>
            
            <button class="btn btn-primary btn-full" id="start-assessment">Start Assessment â†’</button>
            <p class="text-secondary text-small mt-20">Takes about 2 minutes</p>
        </div>
        </div></div>`;
    }
    
    if(step === 3) {
        // Results + Paywall (show results, require payment to continue)
        const {ideas:i,personality:p,execution:e}=S.freeQuizScores||S.scores;
        const avgScore = Math.round((i+p+e)/3);
        const percentile = getPercentile(avgScore);
        const weak = weakest();
        
        return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
        ${progressBar}
        <div class="card">
            <h2 class="card-title text-center">Your Mode Profile</h2>
            
            <div class="results-meters">
                <div class="meter"><div class="meter-circle ideas">${i}%</div><div class="meter-label">Ideas</div></div>
                <div class="meter"><div class="meter-circle personality">${p}%</div><div class="meter-label">Personality</div></div>
                <div class="meter"><div class="meter-circle execution">${e}%</div><div class="meter-label">Execution</div></div>
            </div>
            
            <div class="verdict">
                <div class="verdict-title">Your Position</div>
                <div class="verdict-text">You're in the <strong>${percentile}th percentile</strong>. AI Proof Club operates at 85%+ across all modes. Your <strong style="text-transform:capitalize">${weak}</strong> mode needs the most work.</div>
            </div>
            
            <div style="background:var(--bg-primary);padding:20px;margin-top:20px;border:1px solid var(--accent)">
                <h3 style="font-size:14px;text-align:center;margin-bottom:15px">ðŸš€ Ready to Level Up?</h3>
                <p class="text-secondary text-small text-center mb-15">Get weekly quests to build your ${weak} mode. Track forecasts. Become irreplaceable.</p>
                <ul style="list-style:none;font-size:11px;margin-bottom:15px">
                    <li style="padding:5px 0">âœ“ Weekly quests based on your profile</li>
                    <li style="padding:5px 0">âœ“ AI Coaches for each mode</li>
                    <li style="padding:5px 0">âœ“ Forecast tracking + opportunities</li>
                    <li style="padding:5px 0">âœ“ Progress tracking + receipts</li>
                </ul>
                
                <div style="display:flex;flex-direction:column;gap:12px">
                    <div style="border:2px solid var(--accent);padding:12px;background:var(--bg-secondary)">
                        <div style="display:flex;justify-content:space-between;align-items:center">
                            <div>
                                <div style="font-size:10px;color:var(--accent);text-transform:uppercase;letter-spacing:1px">Monthly</div>
                                <div style="font-size:20px;font-weight:700">$9.99<span style="font-size:11px;color:var(--text-secondary)">/month</span></div>
                            </div>
                            <a href="${STRIPE_LINK}?prefilled_email=${encodeURIComponent(S.onboardData.email||'')}&client_reference_id=${encodeURIComponent(S.onboardData.email||'')}" class="btn btn-primary btn-small" id="go-to-stripe-link">Start Monthly â†’</a>
                        </div>
                    </div>
                    <div style="border:1px solid var(--success);padding:12px">
                        <div style="display:flex;justify-content:space-between;align-items:center">
                            <div>
                                <div style="font-size:10px;color:var(--success);text-transform:uppercase;letter-spacing:1px">Best Value â€” 2 Months Free</div>
                                <div style="font-size:20px;font-weight:700">$99<span style="font-size:11px;color:var(--text-secondary)">/year</span></div>
                            </div>
                            <a href="${STRIPE_ANNUAL}?prefilled_email=${encodeURIComponent(S.onboardData.email||'')}&client_reference_id=${encodeURIComponent(S.onboardData.email||'')}" class="btn btn-secondary btn-small" id="go-to-stripe-annual">Start Annual â†’</a>
                        </div>
                    </div>
                </div>
                <p class="text-center text-secondary text-small mt-10">Cancel anytime</p>
            </div>
        </div>
        </div></div>`;
    }
    
    if(step === 4) {
        // Create account (after payment) - collect name and password
        return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div>
        ${progressBar}
        <div class="card">
            <h2 class="card-title">Create Your Account</h2>
            <p class="card-subtitle">Set up your login credentials</p>
            <form id="post-payment-account-form">
                <div class="form-group"><label class="form-label">Name</label><input type="text" class="form-input" id="ob-name" value="${S.user?.name||''}" required></div>
                <div class="form-group"><label class="form-label">Email</label><input type="email" class="form-input" id="ob-email-display" value="${S.onboardData?.email||S.user?.email||''}" disabled style="opacity:0.7"></div>
                <div class="form-group"><label class="form-label">Password</label><input type="password" class="form-input" id="ob-pass" minlength="6" required placeholder="Min 6 characters"></div>
                <button type="submit" class="btn btn-primary btn-full">Continue â†’</button>
            </form>
        </div>
        </div></div>`;
    }
    
    if(step === 5) {
        // Goals (after account creation)
        const selectedGoals = S.onboardData.goals || [];
        return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
        ${progressBar}
        <div class="card">
            <h2 class="card-title">What's driving you here?</h2>
            <p class="card-subtitle">Select all that apply</p>
            <div class="goal-grid" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:20px 0">
                ${GOALS.map(g=>`
                    <div class="choice-card goal-option ${selectedGoals.includes(g.id)?'selected':''}" data-goal="${g.id}" style="padding:15px;cursor:pointer">
                        <div style="font-size:24px;margin-bottom:8px">${g.icon}</div>
                        <div style="font-size:12px">${g.label}</div>
                    </div>
                `).join('')}
            </div>
            <button class="btn btn-primary btn-full" id="goals-continue" ${selectedGoals.length===0?'disabled':''}>Continue â†’</button>
        </div>
        </div></div>`;
    }
    
    if(step === 6) {
        // Interests only (forecasts move to step 7)
        const selectedInterests = S.onboardData.forecastInterests || [];
        
        return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
        ${progressBar}
        <div class="card">
            <h2 class="card-title">What topics interest you?</h2>
            <p class="card-subtitle">Select all that apply â€” we'll use this to personalize your experience</p>
            <div class="interest-grid" style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin:20px 0">
                ${FORECAST_INTERESTS.map(f=>`
                    <div class="choice-card interest-option ${selectedInterests.includes(f.id)?'selected':''}" data-interest="${f.id}" style="padding:15px;cursor:pointer">
                        <div style="font-size:24px;margin-bottom:8px">${f.icon}</div>
                        <div style="font-size:11px">${f.label}</div>
                    </div>
                `).join('')}
            </div>
            
            <button class="btn btn-primary btn-full mt-10" id="interests-continue" ${selectedInterests.length===0?'disabled':''}>Continue â†’</button>
        </div>
        </div></div>`;
    }
    
    if(step === 7) {
        // AI-recommended forecasts based on goals + interests + scores
        const recommended = getPersonalizedForecasts();
        const selected = S.onboardSelectedForecasts || [];
        
        return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
        ${progressBar}
        <div class="card">
            <h2 class="card-title">ðŸ”® Forecasts We Think You Should Follow</h2>
            <p class="card-subtitle">These are real AI forecasts. Each one creates opportunities to build skills and get ahead. Select at least 1 (we recommend 3).</p>
            
            <div style="display:flex;flex-direction:column;gap:12px;margin:20px 0">
                ${recommended.slice(0,6).map(f=>{
                    const isSelected = selected.includes(f.id);
                    return `
                    <div class="onboard-forecast-card ${isSelected?'selected':''}" data-fid="${f.id}" style="background:var(--bg-primary);border:2px solid ${isSelected?'var(--accent)':'var(--bg-tertiary)'};padding:16px;cursor:pointer;transition:all 0.3s">
                        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
                            <span style="font-size:11px;color:var(--accent);text-transform:uppercase;font-weight:600">${f.probability}% likely</span>
                            <span style="font-size:10px;color:var(--text-secondary)">${f.timeframe}</span>
                        </div>
                        <div style="font-size:14px;font-weight:600;margin-bottom:6px">${f.title}</div>
                        <div style="font-size:11px;color:var(--text-secondary);line-height:1.5">${f.recommendReason || f.threatReason}</div>
                        <div style="font-size:10px;margin-top:8px;color:var(--accent)">${f.opportunities.length} opportunit${f.opportunities.length===1?'y':'ies'} inside ${isSelected?'âœ“':''}</div>
                    </div>`;
                }).join('')}
            </div>
            
            <div style="display:flex;gap:10px">
                <button class="btn btn-primary" id="forecasts-continue" style="flex:1" ${selected.length===0?'disabled':''}>${selected.length > 0 ? `Continue with ${selected.length} forecast${selected.length>1?'s':''} â†’` : 'Select at least 1 â†’'}</button>
                <button class="btn btn-secondary" id="forecasts-skip" style="flex:0 0 auto">Skip</button>
            </div>
        </div>
        </div></div>`;
    }
    
    if(step === 8) {
        // Pick opportunities from selected forecasts
        const selected = S.onboardSelectedForecasts || [];
        const selectedOpps = S.onboardSelectedOpps || [];
        
        if(selected.length === 0) {
            // Skipped forecasts â€” go straight to finish
            return `<div class="screen-center"><div class="container-sm"><div class="logo">AI PROOF <span>CLUB</span></div>
            ${progressBar}
            <div class="card text-center" style="padding:40px 30px">
                <div style="font-size:48px;margin-bottom:15px">ðŸš€</div>
                <h2 class="card-title">You're all set!</h2>
                <p class="text-secondary text-small mb-20">You can always follow forecasts and add skill paths later from the Forecasts page.</p>
                <button class="btn btn-primary btn-full" id="finish-onboarding">Start Training â†’</button>
            </div>
            </div></div>`;
        }
        
        const forecasts = selected.map(id => FORECAST_DATABASE.find(f=>f.id===id)).filter(Boolean);
        
        return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
        ${progressBar}
        <div class="card">
            <h2 class="card-title">Pick Your Skill Paths</h2>
            <p class="card-subtitle">Each opportunity has a progressive quest path (10 steps) that builds real skills. Pick at least 1 to start.</p>
            
            ${forecasts.map(f=>`
                <div style="margin-bottom:20px">
                    <div style="font-size:12px;color:var(--accent);text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">ðŸ”® ${f.title}</div>
                    <div style="display:flex;flex-direction:column;gap:8px">
                        ${f.opportunities.map((opp, oi)=>{
                            const oppKey = f.id + '-' + oi;
                            const isSelected = selectedOpps.includes(oppKey);
                            return `
                            <div class="onboard-opp-card ${isSelected?'selected':''}" data-oppkey="${oppKey}" data-fid="${f.id}" data-oid="${oi}" style="background:var(--bg-primary);border:2px solid ${isSelected?'var(--accent)':'var(--bg-tertiary)'};padding:14px;cursor:pointer;transition:all 0.3s">
                                <div style="display:flex;justify-content:space-between;align-items:center">
                                    <div>
                                        <div style="font-size:13px;font-weight:600">${opp.title}</div>
                                        <div style="font-size:11px;color:var(--text-secondary);margin-top:4px">${opp.description.substring(0,100)}${opp.description.length>100?'...':''}</div>
                                        <div style="font-size:10px;color:var(--text-secondary);margin-top:6px">${opp.quests.length} quests Â· ${opp.difficulty} Â· ${opp.timeframe}</div>
                                    </div>
                                    <div style="font-size:18px;margin-left:10px">${isSelected?'âœ“':'â—‹'}</div>
                                </div>
                            </div>`;
                        }).join('')}
                    </div>
                </div>
            `).join('')}
            
            <div style="display:flex;gap:10px;margin-top:20px">
                <button class="btn btn-primary" id="finish-onboarding" style="flex:1" ${selectedOpps.length===0?'disabled':''}>${selectedOpps.length > 0 ? `Start with ${selectedOpps.length} skill path${selectedOpps.length>1?'s':''} â†’` : 'Select at least 1 â†’'}</button>
                <button class="btn btn-secondary" id="opps-skip" style="flex:0 0 auto">Skip</button>
            </div>
        </div>
        </div></div>`;
    }
    
    return loginH();
}

function uploadH(){return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
<h2 class="card-title text-center mb-10">Upload ChatGPT History</h2>
<p class="text-center text-secondary text-small mb-20">This gives us the most accurate read on your modes. Takes 2-3 minutes to analyze.</p>
<div class="card">
    <div class="verdict mb-20">
        <div class="verdict-title">How to Export</div>
        <div class="verdict-text">
            1. <a href="https://chat.openai.com/#settings/DataControls" target="_blank" class="text-link">Click here to open ChatGPT Settings</a><br>
            2. Click "Export data"<br>
            3. Check your email for the download link<br>
            4. Download and <strong>unzip</strong> the file<br>
            5. Upload the <strong>conversations.json</strong> file from inside
        </div>
    </div>
    <div class="upload-zone" id="upload-zone">
        <div style="font-size:32px;margin-bottom:10px">ðŸ“</div>
        <div>Drop <strong>conversations.json</strong> here</div>
        <div class="text-secondary text-small mt-10">Found inside the unzipped folder</div>
        <input type="file" class="file-input" id="file-input" accept=".json">
    </div>
    ${S.uploadedFile?`<div class="uploaded-file"><span>ðŸ“„</span><span>${S.uploadedFile.name}</span><span class="uploaded-remove" id="rm-file">âœ•</span></div>`:''}
</div>
<div class="text-center mt-20">
    <button class="btn btn-primary" id="analyze-btn" ${!S.uploadedFile?'disabled':''}>Analyze â†’</button>
    <p class="mt-20"><a class="text-link" id="skip-upload">Skip for now â†’</a></p>
    <p class="text-secondary text-small mt-10">You can always do this later in Settings</p>
</div></div></div>`;}

function analyzingH(){return `<div class="screen-center"><div class="container-sm text-center"><div class="logo">AI PROOF <span>CLUB</span></div><div class="card"><div class="spinner"></div><p class="text-secondary mt-20">Analyzing patterns...</p></div></div></div>`;}

function quizH(){
    // Use first 7 questions for onboarding, all 15 for free quiz
    const isFree = S.freeQuizMode || S.screen === 'freeQuiz';
    const quizQuestions = isFree ? Qs : Qs.slice(0, 7);
    const q=quizQuestions[S.quizStep];
    return `<div class="screen-center"><div class="container-md">
        <div class="logo">AI PROOF <span>CLUB</span></div>
        ${isFree ? '<p class="text-center text-secondary text-small mb-20">Free Mode Assessment</p>' : ''}
        <div class="progress-bar">${quizQuestions.map((_,i)=>`<div class="progress-dot ${i<S.quizStep?'done':i===S.quizStep?'active':''}"></div>`).join('')}</div>
        <div class="q-number">Question ${S.quizStep+1} of ${quizQuestions.length}</div>
        <div class="q-text">${q.t}</div>
        <div class="options">${q.o.map((o,i)=>`<button class="option" data-idx="${i}">${o.t}</button>`).join('')}</div>
        ${isFree ? `<p class="text-center mt-20"><a class="text-link text-small" id="quit-quiz">â† Back to login</a></p>` : ''}
    </div></div>`;
}

function resultsH(){
    const {ideas:i,personality:p,execution:e}=S.scores;
    const avgScore = Math.round((i+p+e)/3);
    const percentile = getPercentile(avgScore);
    const weak = weakest();
    
    return `<div class="screen-center"><div class="container-md"><div class="logo">AI PROOF <span>CLUB</span></div>
    <div class="card text-center">
        <h2 class="card-title">Your Mode Profile</h2>
        <p class="text-secondary text-small mb-10">Based on your assessment</p>
        
        <div class="results-meters">
            <div class="meter"><div class="meter-circle ideas">${i}%</div><div class="meter-label">Ideas</div></div>
            <div class="meter"><div class="meter-circle personality">${p}%</div><div class="meter-label">Personality</div></div>
            <div class="meter"><div class="meter-circle execution">${e}%</div><div class="meter-label">Execution</div></div>
        </div>
        
        <div class="verdict">
            <div class="verdict-title">Current Position</div>
            <div class="verdict-text">You're in the <strong>${percentile}th percentile</strong>. AI Proof Club operates at 85%+ across all modes.</div>
        </div>
        
        <div class="verdict" style="border-color:var(--${weak})">
            <div class="verdict-title">Training Focus</div>
            <div class="verdict-text">Your <strong style="text-transform:capitalize">${weak}</strong> mode needs the most attention. We'll prioritize quests here.</div>
        </div>
        
        ${S.gptAnalysis?`<div class="verdict"><div class="verdict-title">ChatGPT Insights</div><div class="verdict-text">${S.gptAnalysis.patterns?.join(' Â· ')||'Analysis complete.'}</div></div>`:''}
        
        <div class="form-group mt-20">
            <label class="form-label">Quest Difficulty</label>
            <div class="tabs">
                <button class="tab ${S.diff==='easy'?'active':''}" data-diff="easy">Easy</button>
                <button class="tab ${S.diff==='standard'?'active':''}" data-diff="standard">Standard</button>
                <button class="tab ${S.diff==='hard'?'active':''}" data-diff="hard">Hard</button>
            </div>
            <p class="text-secondary text-small mt-10">Start easy and level up, or dive into hard mode.</p>
        </div>
        
        <button class="btn btn-primary btn-full mt-20" id="start-app">Begin Training â†’</button>
    </div></div></div>`;
}

function appH(c){return `<div class="app-layout"><aside class="sidebar"><div class="sidebar-logo">AI PROOF <span>CLUB</span></div><div class="sidebar-streak"><div class="streak-value">ðŸ”¥ ${streak()}</div><div class="streak-label">Day Streak</div></div><ul class="sidebar-nav"><li><a href="#" data-screen="dashboard" class="${S.screen==='dashboard'?'active':''}">â—‰ Dashboard</a></li><li><a href="#" data-screen="quests" class="${S.screen==='quests'?'active':''}">âš” Quests</a></li><li><a href="#" data-screen="coach" class="${S.screen==='coach'?'active':''}">â—Ž AI Coach</a></li><li><a href="#" data-screen="forecasts" class="${S.screen==='forecasts'?'active':''}">ðŸ”® Forecasts</a></li><li><a href="#" data-screen="receipts" class="${S.screen==='receipts'?'active':''}">â—ˆ Receipts</a></li><li><a href="#" data-screen="capsules" class="${S.screen==='capsules'?'active':''}">ðŸ“¦ Capsules</a></li><li><a href="#" data-screen="review" class="${S.screen==='review'?'active':''}">ðŸ“Š Review</a></li><li><a href="#" data-screen="settings" class="${S.screen==='settings'?'active':''}">âš™ Settings</a></li></ul><div class="sidebar-user"><div class="sidebar-name">${S.user?.name||'User'}</div><div class="sidebar-email">${S.user?.email||''}</div><span class="sidebar-logout" id="logout">Sign out</span></div></aside><main class="main">${c}</main><nav class="mobile-nav"><div class="mobile-nav-item ${S.screen==='dashboard'?'active':''}" data-screen="dashboard"><span>â—‰</span>Home</div><div class="mobile-nav-item ${S.screen==='quests'?'active':''}" data-screen="quests"><span>âš”</span>Quests</div><div class="mobile-nav-item ${S.screen==='coach'?'active':''}" data-screen="coach"><span>â—Ž</span>Coach</div><div class="mobile-nav-item ${S.screen==='forecasts'?'active':''}" data-screen="forecasts"><span>ðŸ”®</span>Forecasts</div><div class="mobile-nav-item ${['receipts','capsules','review','settings'].includes(S.screen)?'active':''}" id="more-menu-toggle"><span>â˜°</span>More</div></nav><div class="more-menu ${S.showMoreMenu?'show':''}" id="more-menu"><div class="more-menu-item" data-screen="receipts"><span>â—ˆ</span> Receipts</div><div class="more-menu-item" data-screen="capsules"><span>ðŸ“¦</span> Capsules</div><div class="more-menu-item" data-screen="review"><span>ðŸ“Š</span> Review</div><div class="more-menu-item" data-screen="settings"><span>âš™</span> Settings</div><div class="more-menu-item" id="mobile-logout"><span>â†©</span> Sign Out</div></div></div>`;}

function dashH(){
    const active=S.quests.filter(q=>!q.done).slice(0,3);
    const recent=S.receipts.slice(-3).reverse();
    const forecastQuests=getFollowedForecastQuests().slice(0,2);
    
    // Calculate days until Monday (next quest refresh)
    const now = new Date();
    const dayOfWeek = now.getDay();
    const daysUntilMonday = dayOfWeek === 0 ? 1 : dayOfWeek === 1 ? 7 : 8 - dayOfWeek;
    const questRefreshText = daysUntilMonday === 1 ? 'New quests tomorrow!' : daysUntilMonday === 7 ? 'New quests in 7 days' : `New quests in ${daysUntilMonday} days`;
    
    return `<div class="page-header"><h1 class="page-title">Dashboard</h1><p class="page-subtitle">Day ${dayNum()}</p></div>
    
    <div class="card mb-20" style="background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(0,255,170,0.05) 100%); border-color: var(--accent)">
        <div class="card-header"><span class="card-header-title">âš”ï¸ Your Quests</span><a href="#" data-screen="quests" class="text-link">All â†’</a></div>
        <p class="text-secondary text-small" style="margin-bottom:12px;padding:0 15px">Complete quests to level up your <strong style="color:var(--${weakest()})">${weakest()}</strong> mode. <span style="color:var(--accent)">${questRefreshText}</span></p>
        ${forecastQuests.length?forecastQuests.map(q=>`<div class="quest" style="border-left:3px solid var(--accent)">
            <div class="quest-header"><span class="quest-mode ${q.mode}">${q.mode}</span><span class="quest-diff" style="color:var(--accent)">ðŸ”® Forecast</span></div>
            <div class="quest-title">${q.t}</div>
            <div class="quest-meta"><span class="quest-xp">+${q.xp} XP</span></div>
            <div class="quest-actions"><button class="btn btn-small btn-success complete-forecast-q" data-fid="${q.forecastId}" data-oid="${q.oppId}">â—‹ Done</button></div>
        </div>`).join(''):''}
        ${active.length?active.map(q=>`<div class="quest ${q.boss?'boss':''}">
            <div class="quest-header"><span class="quest-mode ${q.mode}">${q.mode}</span><span class="quest-diff ${q.diff}">${q.boss?'ðŸ‘‘ BOSS':q.diff}</span></div>
            <div class="quest-title">${q.t}</div>
            <div class="quest-meta"><span class="quest-xp">+${q.xp} XP</span></div>
            <div class="quest-actions"><button class="btn btn-small btn-success complete-q" data-id="${q.id}">â—‹ Done</button></div>
        </div>`).join(''):''}
        ${!active.length && !forecastQuests.length?'<p class="text-secondary text-small" style="padding:10px 15px">All caught up! ðŸŽ‰ Check back Monday for new quests.</p>':''}
    </div>
    
    <div class="stats"><div class="stat"><div class="stat-value">${totalXP()}</div><div class="stat-label">XP</div></div><div class="stat"><div class="stat-value">${S.receipts.length}</div><div class="stat-label">Receipts</div></div><div class="stat"><div class="stat-value">${streak()}</div><div class="stat-label">Streak</div></div><div class="stat"><div class="stat-value">${dayNum()}</div><div class="stat-label">Day</div></div></div>
    
    <div class="grid-2"><div><div class="card"><div class="card-header"><span class="card-header-title">Mode Levels</span></div><div class="mode-bars"><div class="mode-bar"><span class="mode-name ideas">Ideas</span><div class="mode-track"><div class="mode-fill ideas" style="width:${S.scores.ideas}%"></div></div><span class="mode-value">${S.scores.ideas}%</span></div><div class="mode-bar"><span class="mode-name personality">Personality</span><div class="mode-track"><div class="mode-fill personality" style="width:${S.scores.personality}%"></div></div><span class="mode-value">${S.scores.personality}%</span></div><div class="mode-bar"><span class="mode-name execution">Execution</span><div class="mode-track"><div class="mode-fill execution" style="width:${S.scores.execution}%"></div></div><span class="mode-value">${S.scores.execution}%</span></div></div></div></div><div><div class="card"><div class="card-header"><span class="card-header-title">Recent Receipts</span></div>${recent.length?recent.map(r=>`<div class="receipt"><div class="receipt-check">âœ“</div><div class="receipt-content"><div class="receipt-title">${r.title}</div><div class="receipt-meta">${r.mode} Â· +${r.xp} XP</div></div></div>`).join(''):'<p class="text-secondary text-small">Complete quests to earn receipts.</p>'}</div></div></div>`;
}

function questsH(){
    const active=S.quests.filter(q=>!q.done && !S.hiddenQuests.includes(q.id));
    const custom=S.customQuests.filter(q=>!q.done);
    const forecastQuests=getFollowedForecastQuests();
    const done=[...S.quests.filter(q=>q.done), ...S.customQuests.filter(q=>q.done)];
    const allOpen = [...forecastQuests, ...active, ...custom];
    
    return `<div class="page-header"><h1 class="page-title">IRL Quests</h1><p class="page-subtitle">Focus: ${weakest()} mode</p></div>
    
    ${forecastQuests.length ? `<div class="card mb-20">
        <div class="card-header">
            <span class="card-header-title">ðŸ”® Skill-Building Quests</span>
            <span class="card-badge">${forecastQuests.length}</span>
        </div>
        <p class="text-secondary text-small" style="padding:0 15px 10px">Progressive quests from your forecasts â€” each step builds on the last</p>
        ${forecastQuests.map(q=>{
            const pct = Math.round((q.step - 1) / q.totalSteps * 100);
            return `<div class="quest forecast-quest">
            <div class="quest-header"><span class="quest-mode ${q.mode}">${q.mode}</span><span class="quest-diff forecast">ðŸ”® ${q.oppTitle || q.forecastTitle?.substring(0,30)+'...'}</span></div>
            <div class="quest-title">${q.t}</div>
            <div style="background:var(--bg-tertiary);height:4px;margin:8px 0;border-radius:2px"><div style="background:var(--accent);height:100%;width:${pct}%;border-radius:2px;transition:width 0.3s"></div></div>
            <div class="quest-meta"><span class="quest-xp">+${q.xp} XP</span><span class="quest-progress">Step ${q.step} of ${q.totalSteps}</span></div>
            <div class="quest-actions">
                <button class="btn btn-small btn-success complete-forecast-q" data-fid="${q.forecastId}" data-oid="${q.oppId}">âœ“ Complete</button>
            </div>
        </div>`}).join('')}
    </div>` : `<div class="card mb-20" style="border-color:var(--accent)">
        <div style="padding:20px;text-align:center">
            <div style="font-size:24px;margin-bottom:10px">ðŸ”®</div>
            <h3 style="font-size:14px;margin-bottom:8px">No Skill Paths Active</h3>
            <p class="text-secondary text-small mb-15">Follow a forecast and pick an opportunity to start building real skills step-by-step</p>
            <button class="btn btn-primary btn-small" id="go-to-forecasts-from-quests">Browse Forecasts â†’</button>
        </div>
    </div>`}
    
    <div class="card mb-20">
        <div class="card-header">
            <span class="card-header-title">âš¡ Daily Warm-ups</span>
            <span class="card-badge">${active.length + custom.length}</span>
        </div>
        
        ${custom.length ? custom.map(q=>`<div class="quest custom-quest">
            <div class="quest-header"><span class="quest-mode ${q.mode}">${q.mode}</span><span class="quest-diff">Custom</span></div>
            <div class="quest-title">${q.t}</div>
            <div class="quest-meta"><span class="quest-xp">+${q.xp} XP</span></div>
            <div class="quest-actions">
                <button class="btn btn-small btn-success complete-custom-q" data-id="${q.id}">âœ“ Done</button>
                <button class="btn btn-small btn-secondary delete-custom-q" data-id="${q.id}">âœ•</button>
            </div>
        </div>`).join('') : ''}
        
        ${active.length ? active.map(q=>`<div class="quest ${q.boss?'boss':''}">
            <div class="quest-header">
                <span class="quest-mode ${q.mode}">${q.mode}</span>
                ${q.boss?'<span class="quest-diff boss">ðŸ‘‘ BOSS</span>':''}
            </div>
            <div class="quest-title">${q.t}</div>
            <div class="quest-meta"><span class="quest-xp">+${q.xp} XP</span></div>
            ${q.tip?`<div class="quest-tip">ðŸ’¡ ${q.tip}</div>`:''}
            <div class="quest-actions">
                <button class="btn btn-small btn-success complete-q" data-id="${q.id}">âœ“ Done</button>
                <button class="btn btn-small btn-secondary skip-q" data-id="${q.id}">Skip</button>
            </div>
        </div>`).join('') : ''}
        
        ${active.length === 0 && custom.length === 0 ? '<p class="text-secondary text-small" style="padding:15px">All done! Get more below.</p>' : ''}
    </div>
    
    <div class="flex gap-10 mb-20">
        <button class="btn btn-primary" id="get-quests-btn">+ Get More Quests</button>
        <button class="btn btn-secondary" id="add-custom-quest">+ Add Custom</button>
    </div>
    
    ${S.hiddenQuests.length?`<p class="text-secondary text-small mb-20">${S.hiddenQuests.length} hidden quest(s). <a class="text-link" id="unhide-all">Show all</a></p>`:''}
    
    ${done.length?`<div class="card"><div class="card-header"><span class="card-header-title">Completed</span></div>${done.slice(-5).map(q=>`<div class="quest done"><div class="quest-title">${q.t}</div><div class="quest-meta">âœ“ +${q.xp} XP</div></div>`).join('')}</div>`:''}`;}

// Get quests from followed forecasts - these are the MAIN progressive quests
function getFollowedForecastQuests() {
    const quests = [];
    S.followedForecasts.forEach(fId => {
        const forecast = FORECAST_DATABASE.find(f => f.id === fId);
        if (!forecast) return;
        
        // Get quests from opportunities the user has started or all if none started
        forecast.opportunities.forEach((opp, oppIndex) => {
            const progress = S.forecastProgress[fId]?.[oppIndex] || 0;
            // Only show quests for opportunities the user has engaged with (progress > 0)
            // OR show the first quest of each opportunity if they haven't started any
            const hasStartedAny = forecast.opportunities.some((_, oi) => (S.forecastProgress[fId]?.[oi] || 0) > 0);
            
            if (progress < opp.quests.length) {
                // Show current quest
                const quest = opp.quests[progress];
                const isActive = hasStartedAny ? progress > 0 : true; // Show all if none started, only active ones if some started
                
                if (isActive || !hasStartedAny) {
                    quests.push({
                        ...quest,
                        t: quest.task,
                        forecastId: fId,
                        oppId: oppIndex,
                        forecastTitle: forecast.title,
                        oppTitle: opp.title,
                        step: progress + 1,
                        totalSteps: opp.quests.length,
                        id: `${fId}-${oppIndex}-${progress}`
                    });
                }
            }
        });
    });
    return quests.slice(0, 6); // Show up to 6 forecast quests
}
function coachH(){
    const mode = S.coachMode;
    const modeChats = S.chat.filter(m => m.mode === mode);
    const coachDesc = {
        ideas: "Strategic thinking, decision-making, analysis",
        personality: "Communication, influence, social calibration", 
        execution: "Action-taking, follow-through, shipping"
    };
    const msgs = modeChats.length ? modeChats.map(m=>`<div class="chat-msg ${m.u?'user':'ai'}"><div class="chat-avatar">${m.u?(S.user?.name?.[0]||'U'):'AI'}</div><div class="chat-bubble">${m.t}</div></div>`).join('') : `<div class="chat-msg ai"><div class="chat-avatar">AI</div><div class="chat-bubble">I'm your ${mode} coach. Tell me a situation and I'll give you tactical advice on ${coachDesc[mode].toLowerCase()}.</div></div>`;
    return `<div class="page-header"><h1 class="page-title">AI Coaches</h1><p class="page-subtitle">Tactical advice for each mode</p></div><div class="tabs mb-20"><button class="tab ${mode==='ideas'?'active':''}" data-coach="ideas">ðŸ’¡ Ideas</button><button class="tab ${mode==='personality'?'active':''}" data-coach="personality">ðŸŽ­ Personality</button><button class="tab ${mode==='execution'?'active':''}" data-coach="execution">âš¡ Execution</button></div><div class="card mb-10" style="padding:12px"><span class="text-small text-secondary">${coachDesc[mode]}</span></div><div class="chat-container"><div class="chat-messages" id="chat-msgs">${msgs}${S.loading?'<div class="chat-msg ai"><div class="chat-avatar">AI</div><div class="chat-bubble"><div class="spinner"></div></div></div>':''}</div><div class="chat-input-row"><textarea class="chat-input" id="chat-input" placeholder="Describe a situation..." rows="2"></textarea><button class="chat-send" id="send-msg">Send</button></div></div>`;
}

function receiptsH(){const by={ideas:S.receipts.filter(r=>r.mode==='ideas'),personality:S.receipts.filter(r=>r.mode==='personality'),execution:S.receipts.filter(r=>r.mode==='execution')};return `<div class="page-header"><h1 class="page-title">Receipts</h1><p class="page-subtitle">Proof of action</p></div><div class="stats" style="grid-template-columns:repeat(3,1fr)"><div class="stat"><div class="stat-value" style="color:var(--ideas)">${by.ideas.length}</div><div class="stat-label">Ideas</div></div><div class="stat"><div class="stat-value" style="color:var(--personality)">${by.personality.length}</div><div class="stat-label">Personality</div></div><div class="stat"><div class="stat-value" style="color:var(--execution)">${by.execution.length}</div><div class="stat-label">Execution</div></div></div><div class="card"><div class="card-header"><span class="card-header-title">All Receipts</span><span class="card-badge">${totalXP()} XP</span></div>${S.receipts.length?[...S.receipts].reverse().map(r=>`<div class="receipt"><div class="receipt-check">âœ“</div><div class="receipt-content"><div class="receipt-title">${r.title}</div><div class="receipt-meta">${new Date(r.ts).toLocaleDateString()} Â· ${r.mode} Â· +${r.xp} XP</div>${r.reflection?`<div class="receipt-reflection">"${r.reflection}"</div>`:''}</div></div>`).join(''):'<p class="text-secondary" style="padding:15px 0">Receipts appear here as you complete quests.</p>'}</div>`;}

function capsulesH(){const caps=capsules(),base=S.user?.baseline_scores||S.scores;return `<div class="page-header"><h1 class="page-title">Progress Capsules</h1><p class="page-subtitle">Locked snapshots of growth</p></div><div class="capsule-grid">${caps.map(c=>`<div class="capsule ${c.unlocked?'unlocked':'locked'}"><div class="capsule-day">${c.label}</div><div class="capsule-icon">${c.unlocked?'ðŸ“¦':'ðŸ”’'}</div><div class="capsule-status ${c.unlocked?'unlocked':'locked'}">${c.unlocked?'Unlocked':`${c.day-dayNum()}d left`}</div></div>`).join('')}</div><div class="grid-2"><div class="card"><div class="card-header"><span class="card-header-title">Day 1 Baseline</span></div><div class="mode-bars"><div class="mode-bar"><span class="mode-name ideas">Ideas</span><div class="mode-track"><div class="mode-fill ideas" style="width:${base.ideas}%"></div></div><span class="mode-value">${base.ideas}%</span></div><div class="mode-bar"><span class="mode-name personality">Personality</span><div class="mode-track"><div class="mode-fill personality" style="width:${base.personality}%"></div></div><span class="mode-value">${base.personality}%</span></div><div class="mode-bar"><span class="mode-name execution">Execution</span><div class="mode-track"><div class="mode-fill execution" style="width:${base.execution}%"></div></div><span class="mode-value">${base.execution}%</span></div></div></div><div class="card"><div class="card-header"><span class="card-header-title">Current</span><span class="card-badge">Day ${dayNum()}</span></div><div class="mode-bars"><div class="mode-bar"><span class="mode-name ideas">Ideas</span><div class="mode-track"><div class="mode-fill ideas" style="width:${S.scores.ideas}%"></div></div><span class="mode-value">${S.scores.ideas}%</span></div><div class="mode-bar"><span class="mode-name personality">Personality</span><div class="mode-track"><div class="mode-fill personality" style="width:${S.scores.personality}%"></div></div><span class="mode-value">${S.scores.personality}%</span></div><div class="mode-bar"><span class="mode-name execution">Execution</span><div class="mode-track"><div class="mode-fill execution" style="width:${S.scores.execution}%"></div></div><span class="mode-value">${S.scores.execution}%</span></div></div></div></div>`;}

function reviewH(){const week=S.receipts.filter(r=>(Date.now()-new Date(r.ts))<7*86400000);return `<div class="page-header"><h1 class="page-title">Weekly Review</h1><p class="page-subtitle">AI analysis of your progress</p></div><div class="card mb-20"><div class="card-header"><span class="card-header-title">This Week</span></div><div class="stats" style="grid-template-columns:repeat(3,1fr);margin:0"><div class="stat"><div class="stat-value">${week.length}</div><div class="stat-label">Quests</div></div><div class="stat"><div class="stat-value">${week.reduce((s,r)=>s+r.xp,0)}</div><div class="stat-label">XP</div></div><div class="stat"><div class="stat-value">${streak()}</div><div class="stat-label">Streak</div></div></div></div><div class="card"><div class="card-header"><span class="card-header-title">AI Analysis</span><button class="btn btn-small btn-secondary" id="gen-review">Generate</button></div><div id="review-out">${S.weeklyReview?`<div style="font-size:13px;line-height:1.6">${S.weeklyReview.replace(/\n/g,'<br>')}</div>`:`<p class="text-secondary text-small">${week.length<3?'Complete 3+ quests this week to generate.':'Click Generate for AI review.'}</p>`}</div></div>`;}

function settingsH(){
    const isLightMode = document.documentElement.classList.contains('light-mode');
    return `<div class="page-header"><h1 class="page-title">Settings</h1></div>
<div class="card mb-20"><div class="card-header"><span class="card-header-title">Account</span></div>
<p class="text-small mb-10"><strong>Name:</strong> ${S.user?.name}</p>
<p class="text-small mb-10"><strong>Email:</strong> ${S.user?.email}</p>
<p class="text-small mb-10"><strong>Plan:</strong> Monthly</p>
<p class="text-small"><strong>Day:</strong> ${dayNum()}</p>
</div>

<div class="card mb-20"><div class="card-header"><span class="card-header-title">Appearance</span></div>
<p class="text-secondary text-small mb-15">Choose your preferred theme.</p>
<div class="flex gap-10">
<button class="btn btn-small ${!isLightMode ? 'btn-primary' : 'btn-secondary'}" id="theme-dark">ðŸŒ™ Dark</button>
<button class="btn btn-small ${isLightMode ? 'btn-primary' : 'btn-secondary'}" id="theme-light">â˜€ï¸ Light</button>
</div>
</div>

<div class="card mb-20"><div class="card-header"><span class="card-header-title">Re-assess Modes</span></div>
<p class="text-secondary text-small mb-10">Upload new ChatGPT data or retake the quiz to update your mode profile.</p>
<div class="flex gap-10"><button class="btn btn-small btn-secondary" id="re-upload">Upload ChatGPT</button><button class="btn btn-small btn-secondary" id="re-quiz">Retake Quiz</button></div>
</div>

<div class="card mb-20"><div class="card-header"><span class="card-header-title">Support & Feedback</span></div>
<p class="text-secondary text-small mb-15">Questions, ideas, or issues? We'd love to hear from you.</p>
<form id="support-form">
<div class="form-group"><label class="form-label">Subject</label>
<select class="form-input" id="support-subject" required>
<option value="">Select a topic...</option>
<option value="Question">General Question</option>
<option value="Bug Report">Bug Report</option>
<option value="Feature Request">Feature Request / Idea</option>
<option value="Billing">Billing Issue</option>
<option value="Other">Other</option>
</select></div>
<div class="form-group"><label class="form-label">Message</label><textarea class="form-textarea" id="support-message" rows="4" placeholder="Tell us what's on your mind..." required></textarea></div>
<button type="submit" class="btn btn-small btn-primary">Send Message</button>
</form>
</div>

<div class="card mb-20"><div class="card-header"><span class="card-header-title">Subscription</span></div>
<p class="text-secondary text-small mb-15">Manage billing or cancel anytime.</p>
<a href="https://billing.stripe.com/p/login/3cIeVd98He9l4NC1Ym9ws00" target="_blank" class="btn btn-small btn-secondary">Manage Subscription</a>
</div>

<div class="card"><div class="card-header"><span class="card-header-title">Security</span></div>
<p class="text-secondary text-small mb-10"><a class="text-link" id="toggle-password-form">Change password â†’</a></p>
<div id="password-form-container" style="display:none">
<form id="change-password-form">
<div class="form-group"><label class="form-label">Current Password</label><input type="password" class="form-input" id="current-pass" required></div>
<div class="form-group"><label class="form-label">New Password</label><input type="password" class="form-input" id="new-pass" required minlength="6"></div>
<div class="form-group"><label class="form-label">Confirm New Password</label><input type="password" class="form-input" id="confirm-pass" required></div>
<button type="submit" class="btn btn-small btn-primary">Update Password</button>
</form>
</div>
</div>`;}


function modalH(){
    if(S.modal==='forecastDetail') return forecastDetailModalH();
    if(S.modal==='getQuests') return getQuestsModalH();
    if(S.modal==='complete'){
        const q=S.selectedQuest;
        return `<div class="modal-overlay" id="modal-bg"><div class="modal"><h3 class="modal-title">Quest Complete! ðŸŽ¯</h3><p class="text-secondary text-small mb-20">${q.t}</p><div class="form-group"><label class="form-label">Reflection (optional)</label><textarea class="form-textarea" id="reflection" placeholder="What happened? What did you learn?"></textarea></div><div class="flex gap-10"><button class="btn btn-primary btn-full" id="confirm-done">Log Receipt (+${q.xp} XP)</button><button class="btn btn-secondary" id="cancel-modal">Cancel</button></div></div></div>`;
    }
    if(S.modal==='resetPassword'){
        return `<div class="modal-overlay" id="modal-bg"><div class="modal"><h3 class="modal-title">Set New Password</h3><p class="text-secondary text-small mb-20">Enter your new password below.</p>
        <form id="reset-password-form">
        <div class="form-group"><label class="form-label">New Password</label><input type="password" class="form-input" id="reset-new-pass" required minlength="6"></div>
        <div class="form-group"><label class="form-label">Confirm Password</label><input type="password" class="form-input" id="reset-confirm-pass" required></div>
        <button type="submit" class="btn btn-primary btn-full">Reset Password</button>
        </form></div></div>`;
    }
    if(S.modal==='addQuest'){
        return `<div class="modal-overlay" id="modal-bg"><div class="modal">
        <h3 class="modal-title">Add Custom Quest</h3>
        <p class="text-secondary text-small mb-20">Create a quest tailored to your goals.</p>
        <form id="custom-quest-form">
        <div class="form-group"><label class="form-label">Quest</label><input type="text" class="form-input" id="custom-quest-text" placeholder="What will you do?" required></div>
        <div class="form-group"><label class="form-label">Mode</label>
        <select class="form-input" id="custom-quest-mode" required>
            <option value="ideas">Ideas</option>
            <option value="personality">Personality</option>
            <option value="execution">Execution</option>
        </select></div>
        <div class="form-group"><label class="form-label">XP (10-100)</label><input type="number" class="form-input" id="custom-quest-xp" value="40" min="10" max="100" required></div>
        <div class="flex gap-10"><button type="submit" class="btn btn-primary btn-full">Add Quest</button><button type="button" class="btn btn-secondary" id="cancel-modal">Cancel</button></div>
        </form></div></div>`;
    }
    return '';
}

function getQuestsModalH(){
    const w = weakest();
    // Get suggested opportunities based on weakest mode
    const suggested = FORECAST_DATABASE
        .filter(f => f.threatMode === w || f.opportunities.some(o => o.mode === w))
        .slice(0, 5);
    
    const expandedOpp = S.getQuestsExpandedOpp; // {forecastId, oppIndex}
    
    return `<div class="modal-overlay" id="modal-bg">
        <div class="modal" style="max-width:480px;max-height:85vh;overflow-y:auto">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px">
                <h3 class="modal-title" style="margin:0">Get More Quests</h3>
                <button style="background:none;border:none;color:var(--text-secondary);font-size:20px;cursor:pointer" id="close-get-quests">Ã—</button>
            </div>
            <p class="text-secondary text-small mb-20">Opportunities matched to your <strong style="color:var(--${w})">${w}</strong> mode:</p>
            
            ${suggested.length > 0 ? suggested.map(f => {
                // Find best opportunity for user's weakest mode
                const bestOpp = f.opportunities.find(o => o.mode === w) || f.opportunities[0];
                const oppIndex = f.opportunities.indexOf(bestOpp);
                const isExpanded = expandedOpp?.forecastId === f.id && expandedOpp?.oppIndex === oppIndex;
                const progress = S.forecastProgress[f.id]?.[oppIndex] || 0;
                const isComplete = progress >= bestOpp.quests.length;
                
                return `
                <div class="get-quests-opp" style="background:var(--bg-primary);border:1px solid ${isExpanded ? 'var(--accent)' : 'var(--bg-tertiary)'};margin-bottom:10px;transition:all 0.2s">
                    <div class="get-quests-opp-header" data-fid="${f.id}" data-oid="${oppIndex}" style="padding:15px;cursor:pointer;display:flex;justify-content:space-between;align-items:center">
                        <div style="flex:1">
                            <div style="font-size:13px;font-weight:600;margin-bottom:4px">${bestOpp.title}</div>
                            <div style="font-size:10px;color:var(--text-muted)">
                                <span style="color:var(--${bestOpp.mode});text-transform:uppercase">${bestOpp.mode.substring(0,4)}</span> Â· 
                                ${f.probability}% likely Â· ${bestOpp.quests.length} quests
                                ${isComplete ? ' Â· <span style="color:var(--success)">âœ“ Done</span>' : progress > 0 ? ` Â· <span style="color:var(--accent)">${progress}/${bestOpp.quests.length}</span>` : ''}
                            </div>
                        </div>
                        <div style="background:var(--accent);color:var(--bg-primary);padding:6px 12px;font-size:11px;font-weight:bold">${bestOpp.quests.length}</div>
                    </div>
                    
                    ${isExpanded ? `
                    <div style="padding:0 15px 15px 15px;border-top:1px solid var(--bg-tertiary)">
                        <div style="font-size:10px;color:var(--accent);text-transform:uppercase;letter-spacing:1px;margin:12px 0 10px">Quest Path</div>
                        ${bestOpp.quests.map((q, j) => {
                            const done = j < progress;
                            const current = j === progress;
                            return `
                            <div style="display:flex;gap:10px;align-items:flex-start;margin-bottom:8px;${done ? 'opacity:0.5;' : ''}">
                                <span style="width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;flex-shrink:0;${done ? 'background:var(--success);color:white' : current ? 'background:var(--accent);color:var(--bg-primary)' : 'background:var(--bg-tertiary);color:var(--text-secondary)'}">${done ? 'âœ“' : j + 1}</span>
                                <span style="font-size:11px;line-height:1.4;${done ? 'text-decoration:line-through;' : ''}">${q.task}</span>
                            </div>
                        `}).join('')}
                        ${!isComplete ? `
                        <button class="btn btn-primary btn-full btn-small mt-10 add-opp-quests" data-fid="${f.id}" data-oid="${oppIndex}">${progress > 0 ? 'Continue These Quests â†’' : 'Add These Quests â†’'}</button>
                        ` : `
                        <div style="text-align:center;padding:10px 0;color:var(--success);font-size:12px">âœ“ Quest path complete!</div>
                        `}
                    </div>
                    ` : ''}
                </div>
            `}).join('') : '<p class="text-secondary text-small">No matching opportunities found.</p>'}
            
            <button class="btn btn-secondary btn-full btn-small mt-10" id="browse-all-forecasts">Browse All Forecasts â†’</button>
        </div>
    </div>`;
}

function bindEvents(){
    // Auth forms
    document.getElementById('login-form')?.addEventListener('submit',e=>{e.preventDefault();login();});
    document.getElementById('signup-form')?.addEventListener('submit',e=>{e.preventDefault();signup();});
    document.getElementById('forgot-form')?.addEventListener('submit',e=>{e.preventDefault();resetPassword();});
    document.getElementById('reset-password-form')?.addEventListener('submit',e=>{e.preventDefault();completePasswordReset();});
    
    // Navigation
    document.getElementById('to-signup')?.addEventListener('click',()=>{S.onboardStep=1;S.screen='onboarding';render();});
    document.getElementById('to-login')?.addEventListener('click',()=>{S.screen='login';S.freeQuizMode=false;render();});
    document.getElementById('forgot-pass')?.addEventListener('click',()=>{S.screen='forgot';render();});
    document.getElementById('back-login')?.addEventListener('click',()=>{S.screen='login';S.freeQuizMode=false;render();});
    
    // Free diagnostic flow - AI-powered job assessment
    document.getElementById('take-free-quiz')?.addEventListener('click',()=>{
        S.diagnosticStep=0;
        S.diagnosticEmail='';
        S.diagnosticIndustry='';
        S.diagnosticRole='';
        S.diagnosticResponsibilities='';
        S.diagnosticResult=null;
        S.diagLoadingStep=0;
        S.screen='diagnostic';
        render();
    });
    document.getElementById('diagnostic-start-form')?.addEventListener('submit',async e=>{
        e.preventDefault();
        S.diagnosticEmail = document.getElementById('diag-email').value;
        
        // Create Auth user with random password (they'll set real password if they convert)
        const tempPassword = 'temp_' + Math.random().toString(36).slice(2) + Date.now().toString(36);
        const authResult = await authSignUp(S.diagnosticEmail, tempPassword, 'lead');
        
        if (authResult.error && authResult.error.message !== 'User already registered') {
            console.error('Lead capture error:', authResult.error);
        }
        
        S.diagnosticStep = 1;
        render();
    });
    document.getElementById('diagnostic-role-form')?.addEventListener('submit',async e=>{
        e.preventDefault();
        S.diagnosticIndustry = document.getElementById('diag-industry').value;
        S.diagnosticRole = document.getElementById('diag-role').value;
        S.diagnosticResponsibilities = document.getElementById('diag-responsibilities').value;
        
        // Save lead data to users table
        await db('users', 'POST', {
            email: S.diagnosticEmail,
            industry: S.diagnosticIndustry,
            role: S.diagnosticRole,
            responsibilities: S.diagnosticResponsibilities,
            source: 'diagnostic_quiz',
            start_date: new Date().toISOString(),
            plan: 'lead'
        });
        
        // Show loading screen
        S.diagnosticStep = 2;
        S.diagLoadingStep = 0;
        render();
        
        // Animate loading steps
        setTimeout(()=>{ S.diagLoadingStep=1; render(); }, 800);
        setTimeout(()=>{ S.diagLoadingStep=2; render(); }, 2000);
        setTimeout(()=>{ S.diagLoadingStep=3; render(); }, 3500);
        
        // Call AI for analysis
        try {
            const prompt = `You are an AI career risk analyst. Be brutally honest. Analyze this person's job for AI replacement risk.

Industry: ${S.diagnosticIndustry}
Role: ${S.diagnosticRole}
Day-to-day responsibilities: ${S.diagnosticResponsibilities}

Return ONLY valid JSON (no markdown, no backticks):
{
  "scores": {
    "ideas": <number 15-85 â€” how much their job requires original thinking, creative problem-solving, strategic decisions that AI can't replicate>,
    "personality": <number 15-85 â€” how much their job depends on human relationships, trust, persuasion, emotional intelligence>,
    "execution": <number 15-85 â€” how much their job requires physical presence, real-world action, accountability that AI can't do>
  },
  "riskLevel": "<High Risk / Moderate Risk / Lower Risk>",
  "overallAssessment": "<2-3 sentences. Be brutally specific about their role. Don't be generic. Reference their actual responsibilities. State the percentage of their tasks AI can handle today.>",
  "whatAICanDo": "<2-3 sentences about exactly which of their specific responsibilities AI can already do or will do within 2 years. Name specific tools where relevant (ChatGPT, Midjourney, Jasper, etc).>",
  "humanEdge": "<2-3 sentences about what parts of their specific role AI genuinely cannot replace. Be honest â€” if there's very little, say so.>",
  "timeline": "<1-2 sentences. When will AI seriously threaten this specific role? Be specific: 'Within 12 months' or '3-5 years' or 'Already happening'.>"
}

IMPORTANT: Be realistic with scores. Most people should score 30-60. Very few jobs score above 70. If their responsibilities are highly automatable, scores should be low (20-40). Do NOT be encouraging â€” be accurate.`;

            const result = await ai([{role:'user',content:prompt}], 800, 'diagnostic');
            if(result) {
                const parsed = JSON.parse(result.replace(/```json|```/g, '').trim());
                // Apply skewing to make weakest mode feel more urgent
                parsed.scores = skewScores(parsed.scores);
                S.diagnosticResult = parsed;
                S.scores = parsed.scores;
                S.freeQuizScores = parsed.scores;
            } else {
                // Fallback scores if AI fails
                S.diagnosticResult = {
                    scores: {ideas: 45, personality: 50, execution: 40},
                    riskLevel: 'Moderate Risk',
                    overallAssessment: 'Based on your role, approximately 40-60% of your daily tasks could be augmented or replaced by AI within the next 2-3 years.',
                    whatAICanDo: 'AI tools are already capable of handling many routine aspects of this role including data processing, basic analysis, and content generation.',
                    humanEdge: 'Your advantage lies in relationship building, contextual judgment, and creative problem-solving that requires understanding nuance.',
                    timeline: 'Significant disruption expected within 2-3 years as AI tools become more specialized for your industry.'
                };
                S.scores = S.diagnosticResult.scores;
                S.freeQuizScores = S.diagnosticResult.scores;
            }
        } catch(err) {
            console.error('Diagnostic AI error:', err);
            S.diagnosticResult = {
                scores: skewScores({ideas: 45, personality: 50, execution: 40}),
                riskLevel: 'Moderate Risk',
                overallAssessment: 'Based on your role, approximately 40-60% of your daily tasks could be augmented or replaced by AI within the next 2-3 years.',
                whatAICanDo: 'AI tools are already capable of handling many routine aspects of this role.',
                humanEdge: 'Your advantage lies in relationship building, contextual judgment, and creative problem-solving.',
                timeline: 'Significant disruption expected within 2-3 years.'
            };
            S.scores = S.diagnosticResult.scores;
            S.freeQuizScores = S.diagnosticResult.scores;
        }
        
        S.diagnosticStep = 3;
        render();
    });
    // Character counter for responsibilities
    document.getElementById('diag-responsibilities')?.addEventListener('input', e => {
        const count = e.target.value.length;
        const counter = document.getElementById('diag-char-count');
        if(counter) counter.textContent = count;
    });
    document.querySelectorAll('.diag-option').forEach(o=>o.addEventListener('click',()=>{
        const idx = parseInt(o.dataset.idx);
        S.diagnosticAnswers.push(idx);
        S.diagnosticStep++;
        render();
    }));
    document.getElementById('back-to-login')?.addEventListener('click',()=>{
        S.screen='login';
        render();
    });
    document.getElementById('quit-quiz')?.addEventListener('click',()=>{
        S.freeQuizMode=false;
        S.screen='login';
        render();
    });
    document.getElementById('free-to-signup')?.addEventListener('click',()=>{
        S.onboardStep=1;
        S.screen='onboarding';
        render();
    });
    
    // Onboarding flow - Step 1: Email + Industry
    document.getElementById('onboard-email-form')?.addEventListener('submit',e=>{
        e.preventDefault();
        S.onboardData.email = document.getElementById('ob-email').value;
        S.onboardData.industry = document.getElementById('ob-industry').value;
        S.onboardStep=2; // Go to quiz intro
        render();
    });
    
    // Step 4: Post-payment account creation (name + password)
    document.getElementById('post-payment-account-form')?.addEventListener('submit', async e=>{
        e.preventDefault();
        const btn = e.target.querySelector('button');
        btn.textContent = 'Creating account...';
        btn.disabled = true;
        
        const name = document.getElementById('ob-name').value;
        const password = document.getElementById('ob-pass').value;
        const email = S.onboardData?.email || S.user?.email;
        
        // Create Supabase Auth account
        const authResult = await authSignUp(email, password, 'member');
        if (authResult.error && authResult.error.message !== 'User already registered') {
            console.error('Auth signup error:', authResult.error);
            alert('Account creation failed. Please try again.');
            btn.textContent = 'Create Account';
            btn.disabled = false;
            return;
        }
        
        // Sign in to get access token, then upgrade lead â†’ member if needed
        const signInResult = await authSignIn(email, password);
        if (signInResult.access_token) {
            localStorage.setItem('apc_auth_token', signInResult.access_token);
            // Upgrade user_type from lead to member (in case they took the quiz first)
            await authUpdateUserType(signInResult.access_token, 'member');
        }
        
        S.user = S.user || {};
        S.user.name = name;
        S.user.email = email;
        S.user.industry = S.onboardData?.industry;
        S.user.scores = S.freeQuizScores || S.scores || {ideas:50,personality:50,execution:50};
        S.user.baseline_scores = S.user.scores;
        S.user.plan = 'paid';
        S.user.start_date = new Date().toISOString();
        S.user.onboarded = false; // Will be true after they finish all steps
        
        // Save to database NOW so they can always log back in (no password stored here)
        const existing = await db('users','GET',null,`?email=eq.${encodeURIComponent(S.user.email)}`);
        if(existing?.length){
            // Update existing user
            await db('users','PATCH', S.user, `?email=eq.${encodeURIComponent(S.user.email)}`);
            S.user = {...existing[0], ...S.user};
        } else {
            // Create new user
            const res = await db('users','POST', S.user);
            if(res?.length) S.user = res[0];
        }
        
        localStorage.setItem('apc_session', JSON.stringify(S.user));
        localStorage.removeItem('apc_pending');
        
        S.onboardStep=5; // Go to goals
        render();
    });
    
    // Step 2: Start Assessment
    document.getElementById('start-assessment')?.addEventListener('click',()=>{
        S.quizStep=0;
        S.quizAnswers=[];
        S.screen='quiz';
        render();
    });
    
    // Step 4: Goals selection (after payment)
    document.querySelectorAll('.goal-option').forEach(g=>g.addEventListener('click',()=>{
        const goalId = g.dataset.goal;
        if(!S.onboardData.goals) S.onboardData.goals = [];
        if(S.onboardData.goals.includes(goalId)){
            S.onboardData.goals = S.onboardData.goals.filter(id=>id!==goalId);
        } else {
            S.onboardData.goals.push(goalId);
        }
        render();
    }));
    document.getElementById('goals-continue')?.addEventListener('click',()=>{
        if(S.onboardData.goals && S.onboardData.goals.length > 0){
            S.onboardStep=6;
            render();
        }
    });
    
    // Step 5: Interests selection + finish
    document.querySelectorAll('.interest-option').forEach(i=>i.addEventListener('click',()=>{
        const interestId = i.dataset.interest;
        if(S.onboardData.forecastInterests.includes(interestId)){
            S.onboardData.forecastInterests = S.onboardData.forecastInterests.filter(id=>id!==interestId);
        } else {
            S.onboardData.forecastInterests.push(interestId);
        }
        render();
    }));
    
    // Go to Stripe payment (step 3) - save pending data before redirect
    document.getElementById('go-to-stripe-link')?.addEventListener('click',()=>{
        // Save pending user data before redirecting to Stripe
        const pendingUser = {
            email: S.onboardData.email,
            industry: S.onboardData.industry,
            scores: S.freeQuizScores || S.scores,
            baseline_scores: S.freeQuizScores || S.scores,
            onboardStep: 4, // After payment, continue to step 4
            onboardData: S.onboardData,
            onboardSelectedForecasts: S.onboardSelectedForecasts
        };
        localStorage.setItem('apc_pending', JSON.stringify(pendingUser));
        // Link will navigate to Stripe
    });
    document.getElementById('go-to-stripe-annual')?.addEventListener('click',()=>{
        // Save pending user data before redirecting to Stripe (annual)
        const pendingUser = {
            email: S.onboardData.email,
            industry: S.onboardData.industry,
            scores: S.freeQuizScores || S.scores,
            baseline_scores: S.freeQuizScores || S.scores,
            onboardStep: 4,
            onboardData: S.onboardData,
            onboardSelectedForecasts: S.onboardSelectedForecasts
        };
        localStorage.setItem('apc_pending', JSON.stringify(pendingUser));
    });
    
    // Diagnostic results - save pending data for both monthly and annual
    document.getElementById('diag-to-signup-link')?.addEventListener('click',()=>{
        const scores = S.diagnosticResult?.scores || S.scores || {ideas:50,personality:50,execution:50};
        const pendingUser = {
            email: S.diagnosticEmail,
            industry: S.diagnosticIndustry,
            role: S.diagnosticRole,
            responsibilities: S.diagnosticResponsibilities,
            scores: scores,
            baseline_scores: scores,
            onboardStep: 4,
            onboardData: { email: S.diagnosticEmail, industry: S.diagnosticIndustry, goals: [], forecastInterests: [] },
            onboardSelectedForecasts: []
        };
        localStorage.setItem('apc_pending', JSON.stringify(pendingUser));
    });
    document.getElementById('diag-to-signup-annual')?.addEventListener('click',()=>{
        const scores = S.diagnosticResult?.scores || S.scores || {ideas:50,personality:50,execution:50};
        const pendingUser = {
            email: S.diagnosticEmail,
            industry: S.diagnosticIndustry,
            role: S.diagnosticRole,
            responsibilities: S.diagnosticResponsibilities,
            scores: scores,
            baseline_scores: scores,
            onboardStep: 4,
            onboardData: { email: S.diagnosticEmail, industry: S.diagnosticIndustry, goals: [], forecastInterests: [] },
            onboardSelectedForecasts: []
        };
        localStorage.setItem('apc_pending', JSON.stringify(pendingUser));
    });
    
    // Interests continue button (step 6 â†’ step 7)
    document.getElementById('interests-continue')?.addEventListener('click',()=>{
        S.onboardStep = 7;
        render();
    });
    
    // Forecast selection during onboarding (step 7)
    document.querySelectorAll('.onboard-forecast-card').forEach(el=>el.addEventListener('click',()=>{
        const fid = el.dataset.fid;
        if(!S.onboardSelectedForecasts) S.onboardSelectedForecasts = [];
        const idx = S.onboardSelectedForecasts.indexOf(fid);
        if(idx === -1){
            S.onboardSelectedForecasts.push(fid);
        } else {
            S.onboardSelectedForecasts.splice(idx, 1);
        }
        render();
    }));
    document.getElementById('forecasts-continue')?.addEventListener('click',()=>{
        if(S.onboardSelectedForecasts.length > 0) {
            S.onboardStep = 8;
            S.onboardSelectedOpps = [];
            render();
        }
    });
    document.getElementById('forecasts-skip')?.addEventListener('click',()=>{
        S.onboardSelectedForecasts = [];
        S.onboardStep = 8; // Will show "You're all set" screen
        render();
    });
    
    // Opportunity selection during onboarding (step 8)
    document.querySelectorAll('.onboard-opp-card').forEach(el=>el.addEventListener('click',()=>{
        const oppKey = el.dataset.oppkey;
        if(!S.onboardSelectedOpps) S.onboardSelectedOpps = [];
        const idx = S.onboardSelectedOpps.indexOf(oppKey);
        if(idx === -1){
            S.onboardSelectedOpps.push(oppKey);
        } else {
            S.onboardSelectedOpps.splice(idx, 1);
        }
        render();
    }));
    document.getElementById('opps-skip')?.addEventListener('click',async()=>{
        await completeOnboarding();
    });
    
    // Finish onboarding
    document.getElementById('finish-onboarding')?.addEventListener('click',async()=>{
        // Complete the onboarding - save user and go to dashboard
        await completeOnboarding();
    });
    
    // Suggested forecasts selection
    document.querySelectorAll('.suggested-forecast').forEach(f=>f.addEventListener('click',()=>{
        const fid = f.dataset.fid;
        if(!S.onboardSelectedForecasts) S.onboardSelectedForecasts = [];
        if(S.onboardSelectedForecasts.includes(fid)){
            S.onboardSelectedForecasts = S.onboardSelectedForecasts.filter(id=>id!==fid);
        } else {
            S.onboardSelectedForecasts.push(fid);
        }
        render();
    }));
    document.getElementById('forecasts-continue')?.addEventListener('click',()=>{
        S.onboardStep=7; // Go to email/paywall
        render();
    });
    
    // Email signup + Paywall (step 7)
    document.getElementById('subscribe-btn')?.addEventListener('click',()=>{
        // Save email preference before redirecting to Stripe
        const email = document.getElementById('weekly-email')?.value;
        const optIn = document.getElementById('email-optin')?.checked;
        if(email && optIn) {
            // Store for later use after payment
            S.weeklyEmailOptIn = {email, optedIn: optIn};
            save();
        }
    });
    
    // Upload (keeping for settings, but not in onboarding)
    const zone=document.getElementById('upload-zone'),inp=document.getElementById('file-input');
    zone?.addEventListener('click',()=>inp?.click());
    inp?.addEventListener('change',e=>handleFile(e.target.files[0]));
    document.getElementById('rm-file')?.addEventListener('click',()=>{S.uploadedFile=null;render();});
    document.getElementById('analyze-btn')?.addEventListener('click',analyzeFile);
    document.getElementById('skip-upload')?.addEventListener('click',()=>{
        // If we have free quiz scores, use those
        if(S.freeQuizScores) S.scores = {...S.freeQuizScores};
        S.screen='results';
        render();
    });
    
    // Quiz
    document.querySelectorAll('.option').forEach(o=>o.addEventListener('click',()=>answerQuiz(+o.dataset.idx)));
    document.querySelectorAll('[data-diff]').forEach(b=>b.addEventListener('click',()=>{S.diff=b.dataset.diff;render();}));
    document.getElementById('start-app')?.addEventListener('click',startApp);
    
    // App navigation
    document.querySelectorAll('[data-screen]').forEach(a=>a.addEventListener('click',e=>{e.preventDefault();S.showMoreMenu=false;S.screen=a.dataset.screen;render();}));
    document.getElementById('logout')?.addEventListener('click',logout);
    document.getElementById('mobile-logout')?.addEventListener('click',logout);
    
    // More menu toggle
    document.getElementById('more-menu-toggle')?.addEventListener('click',e=>{e.stopPropagation();S.showMoreMenu=!S.showMoreMenu;render();});
    document.addEventListener('click',e=>{if(S.showMoreMenu && !e.target.closest('.more-menu') && !e.target.closest('#more-menu-toggle')){S.showMoreMenu=false;render();}});
    
    // Quests
    document.querySelectorAll('.complete-q').forEach(b=>b.addEventListener('click',()=>openModal(b.dataset.id)));
    document.querySelectorAll('.skip-q').forEach(b=>b.addEventListener('click',()=>skipQuest(b.dataset.id)));
    document.querySelectorAll('[data-setdiff]').forEach(b=>b.addEventListener('click',()=>{S.diff=b.dataset.setdiff;S.quests=genQuests();save();render();}));
    // Get Quests modal
    document.getElementById('go-to-forecasts-from-quests')?.addEventListener('click',()=>{
        S.screen='forecasts';
        render();
    });
    document.getElementById('get-quests-btn')?.addEventListener('click',()=>{
        S.modal='getQuests';
        S.getQuestsExpandedOpp=null;
        render();
    });
    document.getElementById('close-get-quests')?.addEventListener('click',()=>{
        S.modal=null;
        S.getQuestsExpandedOpp=null;
        render();
    });
    document.getElementById('browse-all-forecasts')?.addEventListener('click',()=>{
        S.modal=null;
        S.getQuestsExpandedOpp=null;
        S.screen='forecasts';
        render();
    });
    // Expand/collapse opportunities in Get Quests modal
    document.querySelectorAll('.get-quests-opp-header').forEach(el=>el.addEventListener('click',()=>{
        const fid = el.dataset.fid;
        const oid = parseInt(el.dataset.oid);
        if(S.getQuestsExpandedOpp?.forecastId === fid && S.getQuestsExpandedOpp?.oppIndex === oid){
            S.getQuestsExpandedOpp = null;
        } else {
            S.getQuestsExpandedOpp = {forecastId: fid, oppIndex: oid};
        }
        render();
    }));
    // Add quests from Get Quests modal
    document.querySelectorAll('.add-opp-quests').forEach(el=>el.addEventListener('click',()=>{
        const fid = el.dataset.fid;
        const oid = parseInt(el.dataset.oid);
        // Follow this forecast if not already
        if(!S.followedForecasts.includes(fid)){
            S.followedForecasts.push(fid);
        }
        if(!S.forecastProgress[fid]) S.forecastProgress[fid] = {};
        S.modal=null;
        S.getQuestsExpandedOpp=null;
        save();
        render();
    }));
    
    // Custom quests
    document.getElementById('add-custom-quest')?.addEventListener('click',()=>{S.modal='addQuest';render();});
    document.getElementById('custom-quest-form')?.addEventListener('submit',e=>{e.preventDefault();addCustomQuest();});
    document.querySelectorAll('.complete-custom-q').forEach(b=>b.addEventListener('click',()=>completeCustomQuest(b.dataset.id)));
    document.querySelectorAll('.delete-custom-q').forEach(b=>b.addEventListener('click',()=>deleteCustomQuest(b.dataset.id)));
    
    // Hide quests
    document.querySelectorAll('.hide-q').forEach(b=>b.addEventListener('click',()=>hideQuest(b.dataset.id)));
    document.getElementById('unhide-all')?.addEventListener('click',()=>{S.hiddenQuests=[];save();render();});
    
    // Forecast quests
    document.querySelectorAll('.complete-forecast-q').forEach(b=>b.addEventListener('click',()=>completeForecastQuest(b.dataset.fid, b.dataset.oid)));
    document.querySelectorAll('.follow-forecast').forEach(b=>b.addEventListener('click',()=>toggleFollowForecast(b.dataset.id)));
    
    // Modal
    document.getElementById('modal-bg')?.addEventListener('click',e=>{if(e.target.id==='modal-bg')closeModal();});
    document.getElementById('cancel-modal')?.addEventListener('click',closeModal);
    document.getElementById('confirm-done')?.addEventListener('click',confirmDone);
    
    // Chat
    document.getElementById('send-msg')?.addEventListener('click',sendChat);
    document.getElementById('chat-input')?.addEventListener('keypress',e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendChat();}});
    document.querySelectorAll('[data-coach]').forEach(b=>b.addEventListener('click',()=>{S.coachMode=b.dataset.coach;render();}));
    
    // Review
    document.getElementById('gen-review')?.addEventListener('click',genReview);
    
    // Settings
    document.getElementById('re-upload')?.addEventListener('click',()=>{S.screen='upload';render();});
    document.getElementById('re-quiz')?.addEventListener('click',()=>{S.quizStep=0;S.quizAnswers=[];S.screen='quiz';render();});
    document.getElementById('support-form')?.addEventListener('submit',e=>{e.preventDefault();submitSupport();});
    document.getElementById('change-password-form')?.addEventListener('submit',e=>{e.preventDefault();changePassword();});
    document.getElementById('toggle-password-form')?.addEventListener('click',e=>{
        e.preventDefault();
        const container = document.getElementById('password-form-container');
        if(container) container.style.display = container.style.display === 'none' ? 'block' : 'none';
    });
    
    // Theme toggle
    document.getElementById('theme-dark')?.addEventListener('click',()=>{setTheme('dark');});
    document.getElementById('theme-light')?.addEventListener('click',()=>{setTheme('light');});
    
    // Forecasts
    document.querySelectorAll('[data-filter]').forEach(b=>b.addEventListener('click',()=>{S.forecastFilter=b.dataset.filter;render();}));
    document.querySelectorAll('.view-forecast-detail').forEach(b=>b.addEventListener('click',()=>{
        S.selectedForecast = FORECAST_DATABASE.find(f => f.id === b.dataset.id);
        S.expandedOpp = null; // Reset expanded opportunity
        S.modal = 'forecastDetail';
        render();
    }));
    document.getElementById('close-forecast-modal')?.addEventListener('click',()=>{S.modal=null;S.selectedForecast=null;S.expandedOpp=null;render();});
    document.querySelectorAll('.opp-header').forEach(h=>h.addEventListener('click',()=>{
        const oppIndex = parseInt(h.dataset.opp);
        S.expandedOpp = S.expandedOpp === oppIndex ? null : oppIndex;
        render();
    }));
    document.querySelectorAll('.add-quest-path').forEach(b=>b.addEventListener('click',()=>{
        addQuestPathToQueue(b.dataset.forecast, parseInt(b.dataset.opp));
    }));
}

// Custom Quest Functions
function addCustomQuest(){
    const text = document.getElementById('custom-quest-text').value.trim();
    const mode = document.getElementById('custom-quest-mode').value;
    const xp = parseInt(document.getElementById('custom-quest-xp').value) || 40;
    
    if(!text) return;
    
    S.customQuests.push({
        id: 'custom-' + Date.now(),
        t: text,
        mode: mode,
        xp: Math.min(100, Math.max(10, xp)),
        done: false,
        ts: Date.now()
    });
    S.modal = null;
    save();
    render();
}

function completeCustomQuest(id){
    const q = S.customQuests.find(q=>q.id===id);
    if(!q) return;
    
    q.done = true;
    S.receipts.push({
        title: q.t,
        mode: q.mode,
        xp: q.xp,
        ts: Date.now(),
        reflection: 'Custom quest completed'
    });
    updateScores(q.mode, q.xp);
    save();
    render();
}

function deleteCustomQuest(id){
    S.customQuests = S.customQuests.filter(q=>q.id!==id);
    save();
    render();
}

function hideQuest(id){
    if(!S.hiddenQuests.includes(id)){
        S.hiddenQuests.push(id);
        save();
        render();
    }
}

// Forecast Quest Functions
async function toggleFollowForecast(forecastId){
    const idx = S.followedForecasts.indexOf(forecastId);
    if(idx === -1){
        S.followedForecasts.push(forecastId);
        if(!S.forecastProgress[forecastId]) S.forecastProgress[forecastId] = {};
    } else {
        S.followedForecasts.splice(idx, 1);
    }
    await save();
    render();
}

function completeForecastQuest(forecastId, oppIndex){
    const forecast = FORECAST_DATABASE.find(f => f.id === forecastId);
    if(!forecast) return;
    
    const opp = forecast.opportunities[oppIndex];
    if(!opp) return;
    
    // Initialize progress if needed
    if(!S.forecastProgress[forecastId]) S.forecastProgress[forecastId] = {};
    const currentStep = S.forecastProgress[forecastId][oppIndex] || 0;
    
    if(currentStep < opp.quests.length){
        const quest = opp.quests[currentStep];
        
        // Add receipt
        S.receipts.push({
            title: quest.task,
            mode: quest.mode,
            xp: quest.xp,
            ts: Date.now(),
            reflection: `Forecast: ${forecast.title.substring(0,50)}...`,
            forecastId: forecastId,
            oppIndex: oppIndex
        });
        
        // Update scores
        updateScores(quest.mode, quest.xp);
        
        // Advance progress
        S.forecastProgress[forecastId][oppIndex] = currentStep + 1;
    }
    
    save();
    render();
}

// Onboarding handlers
async function handleOnboardAccount(){
    const name = document.getElementById('ob-name').value;
    const email = document.getElementById('ob-email').value;
    const pass = document.getElementById('ob-pass').value;
    
    // Create Supabase Auth account
    const authResult = await authSignUp(email, pass, 'member');
    if (authResult.error) {
        if (authResult.error.message === 'User already registered') {
            alert('Email already exists. Please sign in.');
        } else {
            alert('Signup failed: ' + (authResult.error.message || 'Unknown error'));
        }
        return;
    }
    
    // Sign them in to get access token
    const signIn = await authSignIn(email, pass);
    if (signIn.access_token) {
        localStorage.setItem('apc_auth_token', signIn.access_token);
    }
    
    S.user = {name, email, start_date: new Date().toISOString(), onboarded: false};
    S.onboardData.email = email;
    localStorage.setItem('apc_pending', JSON.stringify(S.user));
    S.onboardStep = 2;
    render();
}

function handleOnboardOccupation(){
    S.onboardData.occupation = document.getElementById('ob-occupation').value;
    S.onboardData.industry = document.getElementById('ob-industry').value;
    S.onboardData.experience = document.getElementById('ob-experience').value;
    S.onboardStep = 3;
    render();
}

async function login(){
    const email = document.getElementById('email').value;
    const pass = document.getElementById('pass').value;
    
    // Step 1: Try Supabase Auth first
    const authResult = await authSignIn(email, pass);
    
    if (!authResult.error) {
        // Supabase Auth worked - user is already migrated
        const accessToken = authResult.access_token;
        localStorage.setItem('apc_auth_token', accessToken);
        
        // Load user data from users table
        const users = await db('users', 'GET', null, `?email=eq.${encodeURIComponent(email)}`);
        if (users?.length) {
            S.user = users[0];
            S.scores = users[0].scores || {ideas:50, personality:50, execution:50};
            S.receipts = users[0].receipts || [];
            S.quests = users[0].quests?.length ? users[0].quests : genQuests();
            S.diff = users[0].diff || 'standard';
            S.hiddenQuests = users[0].hiddenQuests || [];
            S.customQuests = users[0].customQuests || [];
            S.followedForecasts = users[0].followedForecasts || [];
            S.forecastProgress = users[0].forecastProgress || {};
            localStorage.setItem('apc_session', JSON.stringify({...S.user, authToken: accessToken}));
            
            if (S.user.plan === 'paid' || S.user.onboarded) {
                S.screen = 'dashboard';
            } else {
                S.screen = 'onboarding';
            }
            render();
            return;
        }
    }
    
    // Step 2: Supabase Auth failed - check if they exist in SQL with old password
    const users = await db('users', 'GET', null, `?email=eq.${encodeURIComponent(email)}`);
    
    if (users?.length && users[0].password === pass) {
        // Old password matches! Migrate them to Supabase Auth
        console.log('Migrating user to Supabase Auth...');
        
        const signupResult = await authSignUp(email, pass, 'member');
        
        if (signupResult.error && signupResult.error.message !== 'User already registered') {
            console.error('Migration signup failed:', signupResult.error);
            alert('Login error. Please try again or contact support.');
            return;
        }
        
        // Now sign them in with Supabase Auth
        const newAuthResult = await authSignIn(email, pass);
        
        if (newAuthResult.error) {
            // Might need to confirm email - just let them in with old method for now
            console.log('Auth signin after migration failed, using legacy login');
        } else {
            localStorage.setItem('apc_auth_token', newAuthResult.access_token);
        }
        
        // Load user data and proceed
        S.user = users[0];
        S.scores = users[0].scores || {ideas:50, personality:50, execution:50};
        S.receipts = users[0].receipts || [];
        S.quests = users[0].quests?.length ? users[0].quests : genQuests();
        S.diff = users[0].diff || 'standard';
        S.hiddenQuests = users[0].hiddenQuests || [];
        S.customQuests = users[0].customQuests || [];
        S.followedForecasts = users[0].followedForecasts || [];
        S.forecastProgress = users[0].forecastProgress || {};
        localStorage.setItem('apc_session', JSON.stringify(S.user));
        
        if (S.user.plan === 'paid' || S.user.onboarded) {
            S.screen = 'dashboard';
        } else {
            S.screen = 'onboarding';
        }
        render();
        return;
    }
    
    alert('Invalid credentials');
}

async function signup(){
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const pass = document.getElementById('pass').value;
    
    // Check if email exists in users table
    const ex = await db('users', 'GET', null, `?email=eq.${encodeURIComponent(email)}`);
    if (ex?.length) {
        alert('Email exists');
        return;
    }
    
    // Create Supabase Auth account
    const authResult = await authSignUp(email, pass, 'member');
    if (authResult.error && authResult.error.message !== 'User already registered') {
        console.error('Signup error:', authResult.error);
        alert('Signup failed: ' + (authResult.error.message || 'Unknown error'));
        return;
    }
    
    // Sign in to get access token
    const signInResult = await authSignIn(email, pass);
    if (signInResult.access_token) {
        localStorage.setItem('apc_auth_token', signInResult.access_token);
    }
    
    // Store user data (without password - it's in Supabase Auth now)
    S.user = {name, email, start_date: new Date().toISOString(), onboarded: false};
    localStorage.setItem('apc_pending', JSON.stringify(S.user));
    S.screen = 'pricing';
    render();
}

function handleFile(f){if(f?.name.endsWith('.json')){S.uploadedFile=f;render();}else alert('Upload .json file');}

async function analyzeFile(){
    S.screen='analyzing';render();
    try{
        const txt=await S.uploadedFile.text();
        const res=await ai([{role:'user',content:txt.substring(0,20000)}],600,'analyze');
        const data=JSON.parse(res);
        if(data?.ideas !== undefined){
            // Apply skewing to GPT scores too
            const skewed = skewScores({ideas:data.ideas,personality:data.personality,execution:data.execution});
            S.scores = skewed;
            S.gptAnalysis = {scores: skewed, summary: data.summary};
        }
    }catch(e){console.error(e);}
    S.screen='results';render();
}

function answerQuiz(i){
    // Use first 7 questions for onboarding, all 15 for free quiz
    const isFree = S.freeQuizMode || S.screen === 'freeQuiz';
    const quizQuestions = isFree ? Qs : Qs.slice(0, 7);
    
    S.quizAnswers.push(quizQuestions[S.quizStep].o[i]);
    if(S.quizStep < quizQuestions.length - 1){
        S.quizStep++;
        render();
    } else {
        // Calculate raw scores
        const raw = {ideas:50, personality:50, execution:50};
        const multiplier = isFree ? 5 : 7; // Higher multiplier for fewer questions
        S.quizAnswers.forEach(a => {
            raw[a.m] = Math.min(100, Math.max(0, raw[a.m] + a.w * multiplier));
        });
        
        // Apply GPT analysis if available
        if(S.gptAnalysis?.scores){
            raw.ideas = Math.round((raw.ideas + S.gptAnalysis.scores.ideas) / 2);
            raw.personality = Math.round((raw.personality + S.gptAnalysis.scores.personality) / 2);
            raw.execution = Math.round((raw.execution + S.gptAnalysis.scores.execution) / 2);
        }
        
        // Apply score skewing (lower the weakest score)
        const skewed = skewScores(raw);
        
        // Handle free quiz vs onboarding quiz
        if(isFree) {
            S.freeQuizScores = skewed;
            S.freeQuizMode = false;
            S.screen = 'freeResults';
        } else {
            S.scores = skewed;
            S.freeQuizScores = skewed;
            // Go to onboarding step 3 (results + paywall)
            S.onboardStep = 3;
            S.screen = 'onboarding';
        }
        render();
    }
}

async function completeOnboarding(){
    // This is called at the end of onboarding
    S.user = S.user || {};
    S.user.email = S.onboardData?.email || S.user?.email;
    S.user.industry = S.onboardData?.industry || S.diagnosticIndustry;
    S.user.role = S.diagnosticRole || S.user?.role;
    S.user.responsibilities = S.diagnosticResponsibilities || S.user?.responsibilities;
    S.user.onboarded = true;
    S.user.baseline_scores = {...S.scores};
    S.user.scores = S.scores;
    S.user.diff = S.diff || 'standard';
    S.user.goals = S.onboardData?.goals || [];
    S.user.forecast_interests = S.onboardData?.forecastInterests || [];
    
    // Follow selected forecasts
    if(S.onboardSelectedForecasts?.length){
        S.followedForecasts = [...S.onboardSelectedForecasts];
    }
    
    // Set up quest paths from selected opportunities
    if(S.onboardSelectedOpps?.length){
        S.onboardSelectedOpps.forEach(oppKey => {
            const [forecastId, oppIdx] = oppKey.split('-');
            const oi = parseInt(oppIdx);
            if(!S.forecastProgress[forecastId]) S.forecastProgress[forecastId] = {};
            // Initialize at 0 (first quest) if not already started
            if(S.forecastProgress[forecastId][oi] === undefined) {
                S.forecastProgress[forecastId][oi] = 0;
            }
            // Make sure this forecast is followed
            if(!S.followedForecasts.includes(forecastId)){
                S.followedForecasts.push(forecastId);
            }
        });
    }
    
    S.quests = genQuests();
    
    // Try to update existing user first, create if not found
    const existing = await db('users','GET',null,`?email=eq.${encodeURIComponent(S.user.email)}`);
    let res;
    if(existing?.length){
        res = await db('users','PATCH',{
            ...S.user,
            followedForecasts: S.followedForecasts,
            forecastProgress: S.forecastProgress,
            quests: S.quests
        },`?email=eq.${encodeURIComponent(S.user.email)}`);
        if(res?.length) S.user = res[0];
    } else {
        S.user.followedForecasts = S.followedForecasts;
        S.user.forecastProgress = S.forecastProgress;
        S.user.quests = S.quests;
        res = await db('users','POST',S.user);
        if(res?.length) S.user = res[0];
    }
    
    localStorage.setItem('apc_session',JSON.stringify(S.user));
    localStorage.removeItem('apc_pending');
    // Send welcome email (don't await - fire and forget)
    if(S.user.name && S.user.email) sendWelcomeEmail(S.user.name, S.user.email);
    
    S.screen = 'dashboard';
    render();
}

async function startApp(){
    // Include onboarding data in user object
    S.user.onboarded = true;
    S.user.baseline_scores = {...S.scores};
    S.user.scores = S.scores;
    S.user.diff = S.diff;
    S.user.occupation = S.onboardData.occupation;
    S.user.industry = S.onboardData.industry;
    S.user.experience = S.onboardData.experience;
    S.user.goals = S.onboardData.goals;
    S.user.forecast_interests = S.onboardData.forecastInterests;
    
    S.quests = genQuests();
    const res = await db('users','POST',S.user);
    if(res?.length){
        S.user = res[0];
        localStorage.setItem('apc_session',JSON.stringify(S.user));
        localStorage.removeItem('apc_pending');
        // Send welcome email (don't await - fire and forget)
        sendWelcomeEmail(S.user.name, S.user.email);
    }
    S.screen = 'dashboard';
    render();
}

function openModal(id){S.selectedQuest=S.quests.find(q=>q.id==id);S.modal='complete';render();}
function closeModal(){S.modal=null;S.selectedQuest=null;render();}

async function confirmDone(){
    const q=S.selectedQuest,ref=document.getElementById('reflection')?.value||'';
    q.done=true;
    S.receipts.push({id:Date.now(),title:q.t,mode:q.mode,xp:q.xp,reflection:ref,ts:new Date().toISOString()});
    S.scores[q.mode]=Math.min(100,S.scores[q.mode]+Math.floor(q.xp/20));
    updateStreakData(); // Track streak locally
    closeModal();await save();render();
}

function skipQuest(id){S.quests=S.quests.filter(q=>q.id!=id);save();render();}

async function sendChat(){
    const inp=document.getElementById('chat-input'),msg=inp.value.trim();if(!msg)return;
    const mode = S.coachMode;
    S.chat.push({t:msg,u:true,mode:mode});inp.value='';S.loading=true;render();
    
    const modeChats = S.chat.filter(m => m.mode === mode);
    const coachType = 'coach-' + mode;
    const reply=await ai(modeChats.map(m=>({role:m.u?'user':'assistant',content:m.t})),500,coachType);
    S.chat.push({t:reply||'Error. Try again.',u:false,mode:mode});S.loading=false;render();
    document.getElementById('chat-msgs')?.scrollTo(0,999999);
}

async function genReview(){
    S.loading=true;render();
    const week=S.receipts.filter(r=>(Date.now()-new Date(r.ts))<7*86400000);
    if(week.length<3){S.loading=false;render();return;}
    const sum=week.map(r=>`- ${r.title} (${r.mode}) ${r.reflection||''}`).join('\n');
    S.weeklyReview=await ai([{role:'user',content:`This week:\n${sum}`}],400,'review');
    S.loading=false;render();
}

function logout(){S.user=null;S.screen='login';S.scores={ideas:50,personality:50,execution:50};S.quests=[];S.receipts=[];S.chat=[];localStorage.removeItem('apc_session');render();}

// ==================== EMAIL SYSTEM ====================
// Note: Requires Resend API key in environment variable RESEND_API_KEY
// Set up at: https://resend.com
// Verify domain: aiproof.club

const EMAIL_API = '/.netlify/functions/send-email';

async function sendEmail(type, data) {
    try {
        const response = await fetch(EMAIL_API, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ type, data })
        });
        return response.ok;
    } catch (e) {
        console.error('Email send failed:', e);
        return false;
    }
}

// Welcome email - sent after successful signup
async function sendWelcomeEmail(name, email) {
    return sendEmail('welcome', { name, email });
}

// Password reset email
async function resetPassword(){
    const email = document.getElementById('reset-email').value;
    const btn = document.querySelector('#forgot-form button');
    btn.textContent = 'Sending...';
    btn.disabled = true;
    
    // Use Supabase Auth password reset
    const result = await authResetPassword(email);
    
    if (result.error) {
        console.error('Password reset error:', result.error);
    }
    
    // Always show same message for security
    alert('If an account exists with that email, a reset link has been sent. Check your inbox.');
    btn.textContent = 'Send Reset Link';
    btn.disabled = false;
    S.screen='login';
    render();
}

// Change password (from settings when logged in)
async function changePassword(){
    const currentPass = document.getElementById('current-pass').value;
    const newPass = document.getElementById('new-pass').value;
    const confirmPass = document.getElementById('confirm-pass').value;
    
    if(newPass !== confirmPass) {
        alert('New passwords do not match.');
        return;
    }
    
    if(newPass.length < 6) {
        alert('Password must be at least 6 characters.');
        return;
    }
    
    // Try to verify via Supabase Auth by signing in with current password
    const authResult = await authSignIn(S.user.email, currentPass);
    
    if (authResult.error) {
        // Fallback: check old SQL password for users not yet migrated
        const users = await db('users', 'GET', null, `?email=eq.${encodeURIComponent(S.user.email)}`);
        if (!users?.length || users[0].password !== currentPass) {
            alert('Current password is incorrect.');
            return;
        }
        
        // Migrate to Supabase Auth with new password
        await authSignUp(S.user.email, newPass, 'member');
    } else {
        // Update password in Supabase Auth
        const updateResult = await authUpdatePassword(authResult.access_token, newPass);
        if (updateResult.error) {
            alert('Failed to update password. Please try again.');
            return;
        }
    }
    
    alert('Password updated successfully!');
    document.getElementById('change-password-form').reset();
}

// Support form submission
async function submitSupport(){
    const subject = document.getElementById('support-subject').value;
    const message = document.getElementById('support-message').value;
    const btn = document.querySelector('#support-form button');
    
    btn.textContent = 'Sending...';
    btn.disabled = true;
    
    const success = await sendEmail('support', {
        name: S.user?.name || 'Unknown',
        email: S.user?.email || 'No email',
        userId: S.user?.id,
        subject,
        message,
        userStats: {
            dayNum: dayNum(),
            totalXP: totalXP(),
            streak: streak(),
            scores: S.scores
        }
    });
    
    if(success) {
        alert('Message sent! We\'ll get back to you within 24-48 hours.');
        document.getElementById('support-form').reset();
    } else {
        alert('Failed to send message. Please try again or email directly at support@aiproof.club');
    }
    
    btn.textContent = 'Send Message';
    btn.disabled = false;
}

// Handle password reset from email link
async function handleResetToken() {
    const params = new URLSearchParams(window.location.search);
    const token = params.get('token');
    
    if(token && window.location.hash.includes('reset')) {
        // Show reset password modal
        S.modal = 'resetPassword';
        S.resetToken = token;
        render();
    }
}

async function completePasswordReset() {
    const newPass = document.getElementById('reset-new-pass').value;
    const confirmPass = document.getElementById('reset-confirm-pass').value;
    
    if(newPass !== confirmPass) {
        alert('Passwords do not match.');
        return;
    }
    
    if(newPass.length < 6) {
        alert('Password must be at least 6 characters.');
        return;
    }
    
    // Find user with this token
    const users = await db('users','GET',null,`?reset_token=eq.${S.resetToken}`);
    
    if(!users?.length) {
        alert('Invalid or expired reset link. Please request a new one.');
        S.modal = null;
        S.screen = 'forgot';
        render();
        return;
    }
    
    const user = users[0];
    
    // Check if token expired
    if(new Date(user.reset_expiry) < new Date()) {
        alert('Reset link has expired. Please request a new one.');
        S.modal = null;
        S.screen = 'forgot';
        render();
        return;
    }
    
    // Update password and clear token
    await db('users','PATCH',{ 
        password: newPass, 
        reset_token: null, 
        reset_expiry: null 
    },`?email=eq.${encodeURIComponent(user.email)}`);
    
    alert('Password reset successfully! You can now log in.');
    S.modal = null;
    S.resetToken = null;
    S.screen = 'login';
    history.replaceState({}, '', location.pathname);
    render();
}

async function save(){
    if(!S.user?.email) {
        console.error('Save failed: No user email');
        return;
    }
    const data = {
        scores: S.scores,
        receipts: S.receipts,
        quests: S.quests,
        diff: S.diff,
        hiddenQuests: S.hiddenQuests,
        customQuests: S.customQuests,
        followedForecasts: S.followedForecasts,
        forecastProgress: S.forecastProgress,
        lastQuestWeek: S.user.lastQuestWeek
    };
    const result = await db('users','PATCH',data,`?email=eq.${encodeURIComponent(S.user.email)}`);
    if(!result) console.error('Save to Supabase failed');
    localStorage.setItem('apc_session',JSON.stringify({...S.user,...data}));
}

// ==================== FORECASTS ====================
const CATEGORIES = {
    'ai': {name: 'AI & Technology', icon: 'ðŸ¤–'},
    'tech': {name: 'Tech & Business', icon: 'ðŸ’»'},
    'transportation': {name: 'Transportation', icon: 'ðŸš—'},
    'crypto': {name: 'Crypto', icon: 'â‚¿'},
    'finance': {name: 'Finance', icon: 'ðŸ“ˆ'},
    'work': {name: 'Future of Work', icon: 'ðŸ’¼'},
    'media': {name: 'Media & Content', icon: 'ðŸŽ¬'}
};

// COMPREHENSIVE FORECAST DATABASE
// Real odds from Polymarket + Metaculus + Billionaire predictions
// Last updated: February 2026
// 50+ forecasts per category with realistic, gradual quest progressions

const FORECAST_DATABASE = [

// ============================================================================
// ðŸ§  BRAIN-AI INTERFACES - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'brain-ai-merger',
    title: 'Humans begin merging with AI through brain interfaces',
    source: 'Metaculus forecasting community',
    sourceUrl: 'https://www.metaculus.com/questions/5121/when-will-the-first-general-ai-system-be-devised-tested-and-publicly-announced/',
    probability: 65,
    timeframe: '2028-2035',
    category: 'ai',
    threatMode: 'ideas',
    threatReason: 'When humans can download skills and amplify cognition, your natural thinking speed and knowledge depth become commoditized. The differentiator shifts to what you choose NOT to augment.',
    atRisk: 'Knowledge workers, educators, therapists, coaches, consultants â€” anyone whose value is "what they know" rather than "who they are"',
    opportunities: [
        // OPPORTUNITY 1: NEURAL OPERATING SYSTEMS
        {
            title: 'ðŸ§  Neural Operating Systems (Mental OS)',
            mode: 'ideas',
            description: 'Someone will build the iOS/Android of the mind â€” the interface layer between human cognition and AI augmentation. This is a platform-scale opportunity.',
            difficulty: 'hard',
            timeframe: '12-24 months to position',
            quests: [
                {mode: 'ideas', task: 'Map Current BCI Landscape: Research Neuralink, Synchron, Kernel, Paradromics, Meta neural wristband. What does each do? What\'s the input/output bandwidth? Create a comparison matrix.', xp: 45},
                {mode: 'ideas', task: 'Study Mobile OS History: How did iOS and Android win? What made them platforms vs products? Write 5 lessons that apply to neural interfaces.', xp: 40},
                {mode: 'ideas', task: 'Define "Mental OS" Requirements: What would a neural operating system need to manage? List: attention, memory access, AI queries, sensory filters, emotional regulation, app permissions.', xp: 50},
                {mode: 'execution', task: 'Design Mental OS Architecture: Sketch the layers â€” hardware abstraction, cognitive kernel, app layer, permission system. Don\'t code it. Just architect it.', xp: 55},
                {mode: 'ideas', task: 'Identify the "Apps" Layer: What would mental apps look like? Focus mode, memory search, skill streaming, emotional regulation, dream recording. List 20 possibilities.', xp: 45},
                {mode: 'execution', task: 'Prototype a "Mental App" Concept: Pick one app (e.g., "Focus Mode"). Design the UX â€” how is it activated, what does it feel like, how does it end? Create a detailed spec.', xp: 55},
                {mode: 'personality', task: 'Interview 5 Neuroscientists or BCI Researchers: Ask what\'s technically possible in 5 years. What\'s the bottleneck â€” hardware, software, or biology?', xp: 60},
                {mode: 'execution', task: 'Write the Mental OS Manifesto: A 2,000-word vision document for what human-AI cognitive integration should look like. Share publicly.', xp: 50},
                {mode: 'personality', task: 'Build the Community: Start a newsletter, Discord, or podcast about cognitive augmentation futures. Attract the first 100 people thinking about this.', xp: 55},
                {mode: 'execution', task: 'Create a Mental OS Simulation: Build a clickable prototype or video demo showing how a Mental OS would work in daily life. No real BCI needed.', xp: 60},
                {mode: 'personality', task: 'Pitch to BCI Companies: Share your architecture with Neuralink, Kernel, or Synchron. Position yourself as a platform thinker, not just a hardware follower.', xp: 65},
                {mode: 'ideas', task: 'Predict the First Mental OS War: Write a 2032 headline about the battle between competing neural platforms. Who wins? Why? What was the wedge?', xp: 50}
            ]
        },
        // OPPORTUNITY 2: NEUROSECURITY
        {
            title: 'ðŸ›¡ï¸ Neurosecurity (Thought-Level Cybersecurity)',
            mode: 'execution',
            description: 'When brains connect to networks, they become attack surfaces. Neurosecurity will be a trillion-dollar industry. Someone needs to build the Norton Antivirus of the mind.',
            difficulty: 'hard',
            timeframe: '6-18 months to position',
            quests: [
                {mode: 'ideas', task: 'Map the Neural Attack Surface: List every way a brain-computer interface could be compromised: data theft, injection attacks, sensory manipulation, memory tampering, attention hijacking.', xp: 50},
                {mode: 'ideas', task: 'Study Cybersecurity History: How did digital security evolve? Firewalls, antivirus, encryption, zero-trust. What patterns repeat for neural security?', xp: 45},
                {mode: 'execution', task: 'Create a Neural Threat Model: Design a framework for categorizing neural threats by severity, likelihood, and detectability. Make it visual.', xp: 55},
                {mode: 'ideas', task: 'Define "Thought Encryption": What would it mean to encrypt thoughts? Is it even possible? Research homomorphic encryption and cognitive privacy tech.', xp: 50},
                {mode: 'execution', task: 'Design a Neural Firewall Concept: What gets blocked? What gets through? How do you set permissions for your own mind? Create detailed specs.', xp: 55},
                {mode: 'ideas', task: 'Research Cognitive Forensics: After a neural breach, how would you investigate? What are the "logs" of the mind? Write a framework.', xp: 50},
                {mode: 'personality', task: 'Interview Cybersecurity Experts: Ask 5 security professionals how they\'d approach brain security. What transfers from digital security? What\'s completely new?', xp: 55},
                {mode: 'execution', task: 'Build a Neurosecurity Audit Checklist: A 50-point assessment for evaluating BCI security. Make it actionable for companies entering the space.', xp: 55},
                {mode: 'personality', task: 'Publish "The Neurosecurity Manifesto": A public document outlining the principles that should govern brain-level security. Become a thought leader.', xp: 50},
                {mode: 'execution', task: 'Create a Neurosecurity Startup Pitch: Deck, business model, go-to-market for a company that secures neural interfaces. Even if you don\'t build it, think it through.', xp: 60},
                {mode: 'personality', task: 'Advise a BCI Company on Security: Offer free consulting to a neural interface startup. Get in the room where these decisions are being made.', xp: 60},
                {mode: 'ideas', task: 'Predict the First Neural Breach: Write a 2030 headline about the first major brain-hacking incident. What was compromised? Who was responsible? What changed after?', xp: 50}
            ]
        },
        // OPPORTUNITY 3: SKILL STREAMING
        {
            title: 'ðŸŽ“ Skill Streaming & Instant Acquisition',
            mode: 'execution',
            description: 'When skills can be downloaded, the entire education industry inverts. Degrees become irrelevant. The new question: what skills are worth streaming vs. learning the hard way?',
            difficulty: 'medium',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Skills by "Streamability": Which skills could be downloaded (motor skills, languages, facts) vs which require lived experience (judgment, taste, relationships)? Create a framework.', xp: 45},
                {mode: 'ideas', task: 'Study Learning Science: How do humans actually acquire skills? What\'s the role of struggle, repetition, emotion? What would be lost if skills were instant?', xp: 45},
                {mode: 'ideas', task: 'Research Current Skill Transfer Tech: Look at transcranial stimulation, neurofeedback, memory research. What\'s possible now? What\'s 10 years away?', xp: 50},
                {mode: 'execution', task: 'Design a Skill Marketplace: If skills were downloadable, how would the marketplace work? Pricing, licensing, verification, refunds. Create the business model.', xp: 55},
                {mode: 'ideas', task: 'Define "Cognitive Capability Verification": How do you prove someone has a skill if degrees are meaningless? Design a certification system for augmented abilities.', xp: 50},
                {mode: 'execution', task: 'Create a "Skill Stack" for a Profession: Pick one job (surgeon, lawyer, pilot). What skills would be streamed vs learned? Design the curriculum of the future.', xp: 55},
                {mode: 'personality', task: 'Interview 5 Educators: Ask how they\'d adapt if skills became downloadable. What would they still teach? What becomes more valuable?', xp: 50},
                {mode: 'execution', task: 'Write "The Post-Education Manifesto": A vision for learning when knowledge is free and instant. What does human development become?', xp: 50},
                {mode: 'ideas', task: 'Identify the "Un-Streamable" Skills: What will remain valuable because it CAN\'T be downloaded? Wisdom, creativity, moral judgment? Create the list.', xp: 50},
                {mode: 'execution', task: 'Design an "Un-Streamable Skills Academy": A school that teaches only the things AI can\'t download into your brain. Curriculum, positioning, pricing.', xp: 55},
                {mode: 'personality', task: 'Pitch to a University or Bootcamp: Present your vision for post-streaming education. Offer to help them adapt.', xp: 55},
                {mode: 'ideas', task: 'Predict the Last Degree: Write a 2035 headline about the final university closing. What replaced it? Who saw it coming?', xp: 45}
            ]
        },
        // OPPORTUNITY 4: COGNITIVE PERFORMANCE & BURNOUT
        {
            title: 'ðŸ”¥ Augmented Worker Burnout Prevention',
            mode: 'personality',
            description: 'Augmented humans will be able to work 10x faster â€” and burn out 10x harder. Someone needs to build the cognitive load management and recovery systems.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Current Burnout Science: What causes burnout neurologically? Stress hormones, attention depletion, emotional exhaustion. Create a model.', xp: 40},
                {mode: 'ideas', task: 'Map Augmentation Risks: How would cognitive augmentation make burnout worse? Faster processing, constant availability, blurred work-life boundaries.', xp: 45},
                {mode: 'execution', task: 'Design "Cognitive Load Metrics": What would you measure to track an augmented worker\'s mental health? Processing time, recovery periods, emotional variance.', xp: 50},
                {mode: 'execution', task: 'Create a Burnout Prevention Protocol: For augmented workers, what are the rules? Maximum augmentation hours, mandatory rest modes, cognitive cool-down.', xp: 50},
                {mode: 'ideas', task: 'Study Athlete Recovery Science: How do elite athletes manage physical load? What translates to cognitive load management?', xp: 45},
                {mode: 'execution', task: 'Design a "Cognitive Recovery Program": A 7-day protocol for recovering from augmentation overuse. Activities, restrictions, metrics.', xp: 50},
                {mode: 'personality', task: 'Interview 5 High-Performers About Burnout: Ask executives, founders, surgeons about their worst burnout. What would augmentation have done to them?', xp: 50},
                {mode: 'execution', task: 'Build a Burnout Risk Assessment Tool: A questionnaire that predicts augmented worker burnout before it happens. Make it shareable.', xp: 55},
                {mode: 'personality', task: 'Write "The Augmented Worker\'s Bill of Rights": A manifesto for cognitive labor rights in an augmented world. Publish and advocate.', xp: 50},
                {mode: 'execution', task: 'Create an Enterprise Cognitive Wellness Program: Pitch deck and curriculum for companies managing augmented workforces.', xp: 55},
                {mode: 'personality', task: 'Pitch to HR Leaders: Present your cognitive wellness program to companies already thinking about augmentation.', xp: 55},
                {mode: 'ideas', task: 'Predict the First Augmentation Lawsuit: Write a 2031 headline about a worker suing for cognitive injury. What happened? What changed after?', xp: 45}
            ]
        },
        // OPPORTUNITY 5: COGNITIVE IDENTITY & PERSONALITY TUNING
        {
            title: 'ðŸ§‘â€ðŸŽ¨ Personality Tuning & Cognitive Aesthetics',
            mode: 'personality',
            description: 'When you can adjust your own personality â€” more confident, more creative, more calm â€” identity becomes a design choice. Luxury shifts from what you own to how you think.',
            difficulty: 'hard',
            timeframe: '12-24 months',
            quests: [
                {mode: 'ideas', task: 'Define "Personality Parameters": If personality were adjustable, what are the sliders? Openness, confidence, empathy, risk tolerance. Create a model with 15+ dimensions.', xp: 50},
                {mode: 'ideas', task: 'Study Personality Science: Research Big Five, Myers-Briggs critiques, trait vs state psychology. What\'s stable vs malleable about personality?', xp: 45},
                {mode: 'ideas', task: 'Map the Ethics of Personality Tuning: When is it enhancement vs inauthenticity? Create a framework for ethical personality modification.', xp: 50},
                {mode: 'execution', task: 'Design a "Cognitive Aesthetics" Service: Like a personal stylist, but for your mind. What would the service include? Assessment, design, implementation, refinement.', xp: 55},
                {mode: 'ideas', task: 'Research Historical Personality Tech: Therapy, meditation, drugs, coaching â€” all modify personality. What worked? What lessons transfer?', xp: 45},
                {mode: 'execution', task: 'Create "Mental Modes" Catalog: Design 10 purchasable mental states â€” "Deep Focus", "Creative Flow", "Social Warmth", "Calm Authority". Describe each precisely.', xp: 55},
                {mode: 'personality', task: 'Interview 5 People About Their "Ideal Self": What would they change about their personality if they could? Patterns reveal market demand.', xp: 50},
                {mode: 'execution', task: 'Design a "Luxury Mental Mode" Brand: Position premium mental states like luxury goods. Name, pricing, exclusivity, status signaling.', xp: 55},
                {mode: 'ideas', task: 'Define "Cognitive Status Symbols": In a world where wealth is common, what signals status? Mental capabilities, emotional range, experiential depth.', xp: 50},
                {mode: 'execution', task: 'Create an "Identity Design" Methodology: A framework for helping clients design who they want to become. The service model for cognitive aesthetics.', xp: 55},
                {mode: 'personality', task: 'Beta Test with 3 Clients: Offer free "identity design" sessions using current tools (coaching, habit design, environmental change). Prove the model.', xp: 60},
                {mode: 'ideas', task: 'Predict Post-Wealth Status: Write a 2035 article about how the ultra-rich signal status when everyone has money. What replaces yachts and jets?', xp: 50}
            ]
        },
        // OPPORTUNITY 6: COGNITIVE RIGHTS & GOVERNANCE
        {
            title: 'âš–ï¸ Cognitive Rights Law & Governance',
            mode: 'ideas',
            description: 'New rights will need to be invented: thought ownership, mental privacy, cognitive autonomy. The lawyers and policy makers who define these frameworks will shape civilization.',
            difficulty: 'hard',
            timeframe: '6-18 months',
            quests: [
                {mode: 'ideas', task: 'Map Existing Cognitive Rights: What protections exist for the mind today? Mental health privacy, interrogation limits, religious freedom. Create an inventory.', xp: 45},
                {mode: 'ideas', task: 'Study Rights Evolution: How did digital privacy rights develop? GDPR, CCPA, etc. What patterns apply to cognitive rights?', xp: 45},
                {mode: 'ideas', task: 'Define New Rights Categories: List rights that don\'t exist yet but should: thought ownership, mental privacy, cognitive autonomy, augmentation access.', xp: 50},
                {mode: 'execution', task: 'Draft a "Cognitive Bill of Rights": A formal document articulating fundamental cognitive rights for the augmented age. Make it comprehensive.', xp: 55},
                {mode: 'ideas', task: 'Research "Thought Ownership" Implications: If you think of an idea while augmented, who owns it? You, the AI, the platform? Map the IP challenges.', xp: 50},
                {mode: 'execution', task: 'Design a Consent Framework for Neural Interfaces: What does informed consent look like for brain-computer interfaces? Create a model consent process.', xp: 55},
                {mode: 'personality', task: 'Interview 5 Legal Scholars or Ethicists: Ask how they\'d approach cognitive rights. What frameworks are they developing?', xp: 55},
                {mode: 'execution', task: 'Create a "Mental Harm" Legal Framework: How do you define and prove mental harm from neural interfaces? What are the damages? Create the legal theory.', xp: 55},
                {mode: 'ideas', task: 'Map Augmentation Inequality: What happens when cognitive augmentation is expensive? Two classes of minds? Design policy interventions.', xp: 50},
                {mode: 'execution', task: 'Write "The Cognitive Constitution": A comprehensive governance framework for the augmented age. Rights, responsibilities, enforcement.', xp: 60},
                {mode: 'personality', task: 'Present to Policymakers or Think Tanks: Share your cognitive rights framework with people who influence policy. Get feedback, build credibility.', xp: 60},
                {mode: 'ideas', task: 'Predict the First Cognitive Rights Court Case: Write a 2032 headline about a landmark case. What was the violation? What precedent was set?', xp: 50}
            ]
        },
        // OPPORTUNITY 7: DIRECT-TO-BRAIN ENTERTAINMENT
        {
            title: 'ðŸŽ® Direct-to-Brain Entertainment',
            mode: 'personality',
            description: 'When entertainment bypasses screens and goes straight to the brain, the entire media industry transforms. Immersive experiences, memory tourism, dream design.',
            difficulty: 'medium',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map the Entertainment Evolution: From campfire stories to VR â€” how has entertainment gotten more immersive? What\'s the trajectory to direct neural?', xp: 40},
                {mode: 'ideas', task: 'Research Current Immersive Tech: VR, AR, haptics, spatial audio. What are the limitations? What would neural bypass solve?', xp: 45},
                {mode: 'execution', task: 'Design a "Neural Entertainment Format": What would a movie, game, or album be like when delivered directly to the brain? Create a format spec.', xp: 55},
                {mode: 'ideas', task: 'Define "Memory Tourism": Could you experience someone else\'s vacation, concert, or life moment? What are the implications? Design the product.', xp: 50},
                {mode: 'execution', task: 'Create a "Dream Design" Concept: If you could design your dreams, what would the UX be? Categories, customization, safety limits.', xp: 55},
                {mode: 'ideas', task: 'Study Emotion-Driven Storytelling: How do movies and music manipulate emotion? What changes when you can directly trigger emotions?', xp: 45},
                {mode: 'execution', task: 'Design an "Experience Marketplace": Where people buy/sell experiential memories. Rights, pricing, verification, safety.', xp: 55},
                {mode: 'personality', task: 'Interview 5 Entertainment Creators: Ask filmmakers, musicians, game designers how they\'d approach neural entertainment. What excites them? What scares them?', xp: 50},
                {mode: 'execution', task: 'Script a "Neural Entertainment Demo": Write a 3-minute direct-to-brain experience. Describe what the user sees, feels, thinks, remembers.', xp: 55},
                {mode: 'ideas', task: 'Map the Casualties: What entertainment formats die? Movie theaters, headphones, game controllers? Who loses? Who adapts?', xp: 45},
                {mode: 'personality', task: 'Pitch to a Media Company: Present your vision for neural entertainment to a studio, label, or game company. Position yourself as the future.', xp: 60},
                {mode: 'ideas', task: 'Predict the First Neural Hit: Write a 2033 headline about the first billion-dollar direct-to-brain experience. What was it? Why did it resonate?', xp: 50}
            ]
        },
        // OPPORTUNITY 8: WHAT MUST REMAIN HUMAN
        {
            title: 'ðŸ§­ Defining What Must Remain Human',
            mode: 'ideas',
            description: 'The most important opportunity: helping people and institutions decide what should NOT be augmented. Designing constraints, not just capabilities.',
            difficulty: 'hard',
            timeframe: '3-12 months',
            quests: [
                {mode: 'ideas', task: 'Define "Irreducibly Human" Qualities: What makes humans valuable that can\'t be replicated or augmented? Compile a list with philosophical grounding.', xp: 50},
                {mode: 'ideas', task: 'Study Resistance to Past Technologies: How did societies resist printing, electricity, internet? What were they protecting? What lessons apply?', xp: 45},
                {mode: 'ideas', task: 'Map the "Authenticity Premium": Where do people already pay more for human, unaugmented, or natural? Artisan goods, live music, therapy.', xp: 45},
                {mode: 'execution', task: 'Create an "Augmentation Ethics Framework": A decision tree for whether to augment something. When to say no.', xp: 55},
                {mode: 'ideas', task: 'Research Identity Philosophy: What makes you "you" if your memories, skills, and personality are all augmented? Define identity for the neural age.', xp: 50},
                {mode: 'execution', task: 'Design "Human-Only Zones": Like phone-free restaurants but for augmentation. Where would these exist? How would they be enforced?', xp: 50},
                {mode: 'personality', task: 'Interview 5 Philosophers or Theologians: How do they think about human essence in an age of augmentation? What must be protected?', xp: 55},
                {mode: 'execution', task: 'Create a "Constraint Design" Methodology: A framework for helping organizations decide what not to augment. The opposite of capability consulting.', xp: 55},
                {mode: 'personality', task: 'Write "The Human Manifesto": A public document advocating for what must remain human. Gain signatories and attention.', xp: 50},
                {mode: 'execution', task: 'Design "Authenticity Certification": A label for experiences, products, or services that are verifiably unaugmented. Brand, standards, enforcement.', xp: 55},
                {mode: 'personality', task: 'Become the "Stay Human" Advocate: Position yourself as the voice for intentional limits. Speak, write, consult on constraints.', xp: 55},
                {mode: 'ideas', task: 'Predict the Unaugmented Movement: Write a 2034 headline about a cultural backlash against augmentation. What triggered it? What changed?', xp: 50}
            ]
        }
    ]
},

// ============================================================================
// ðŸ’° DEFI MASS ADOPTION - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'defi-100m-users',
    title: 'DeFi reaches 100M+ users globally',
    source: 'DeFiLlama growth trajectory, Ethereum roadmap, stablecoin adoption curves',
    probability: 68,
    timeframe: '2027-2030',
    category: 'crypto',
    threatMode: 'execution',
    threatReason: 'Traditional finance jobs get automated by smart contracts. The winners build the bridges that make DeFi feel like normal banking â€” without the jargon, gas fees, or seed phrases.',
    atRisk: 'Bank tellers, loan officers, compliance staff at traditional institutions, payment processors, remittance companies, anyone whose job is being a trusted middleman',
    opportunities: [
        // OPPORTUNITY 1: INVISIBLE DEFI
        {
            title: 'ðŸ§­ "Invisible DeFi" Consumer Apps',
            mode: 'execution',
            description: 'The winning DeFi apps won\'t mention crypto, blockchain, or wallets. They\'ll just work â€” like Venmo, but on-chain. No jargon, no gas fees, no seed phrases.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Audit Current DeFi UX: Use 5 DeFi apps (Uniswap, Aave, Compound, etc.) as a complete beginner. Document every moment of confusion, every piece of jargon, every friction point.', xp: 45},
                {mode: 'ideas', task: 'Study "Invisible Tech" Precedents: How did email, GPS, and databases become invisible to users? What patterns made complex tech feel simple?', xp: 40},
                {mode: 'ideas', task: 'Define the "Zero Crypto" Interface: Design a financial app where the user never sees: wallet addresses, gas fees, blockchain names, seed phrases. What\'s left? What\'s hidden?', xp: 50},
                {mode: 'execution', task: 'Map the Abstraction Stack: What needs to happen behind the scenes to hide complexity? Account abstraction, gas sponsorship, chain abstraction. Create the technical roadmap.', xp: 55},
                {mode: 'execution', task: 'Design an "Invisible DeFi" Savings App: A user deposits dollars, earns yield, withdraws dollars. They never know it\'s DeFi. Create the full UX flow.', xp: 55},
                {mode: 'ideas', task: 'Identify the Trust Gap: Why do normal people distrust DeFi? List 10 trust barriers and design solutions for each that don\'t require understanding crypto.', xp: 50},
                {mode: 'personality', task: 'Test with 5 Non-Crypto Users: Show them your "invisible DeFi" design. Where do they still get confused? What language still feels foreign?', xp: 55},
                {mode: 'execution', task: 'Create an Onboarding Flow That Builds Trust: Design a 5-minute onboarding that makes someone comfortable depositing $100 without understanding blockchain.', xp: 55},
                {mode: 'execution', task: 'Prototype the MVP: Build a clickable prototype or simple app that demonstrates invisible DeFi principles. Focus on one use case.', xp: 60},
                {mode: 'personality', task: 'Share Your Vision Publicly: Write "The Death of Crypto UX" â€” a manifesto for invisible DeFi. Attract believers and collaborators.', xp: 50},
                {mode: 'execution', task: 'Pitch to a DeFi Protocol: Present your UX vision to a protocol that needs consumer adoption. Offer to redesign their frontend.', xp: 60},
                {mode: 'ideas', task: 'Predict the First Invisible DeFi Unicorn: Write a 2029 headline about a $10B company where users don\'t know they\'re using crypto. What did they build?', xp: 50}
            ]
        },
        // OPPORTUNITY 2: SELF-CUSTODY UX
        {
            title: 'ðŸ” Self-Custody UX (Seedless, Recovery-First)',
            mode: 'execution',
            description: 'Self-custody is DeFi\'s superpower and its biggest adoption blocker. The company that makes self-custody as easy as "Forgot Password?" wins the next billion users.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Self-Custody Failure Modes: How do people lose access to wallets? Seed phrase loss, phishing, death, device failure. Quantify each risk.', xp: 45},
                {mode: 'ideas', task: 'Research Current Recovery Solutions: MPC wallets, social recovery, hardware modules, smart contract wallets. What exists? What are the tradeoffs?', xp: 50},
                {mode: 'ideas', task: 'Study Password Recovery UX: How do banks, email, and social media handle recovery? What can be adapted for crypto without centralization?', xp: 45},
                {mode: 'execution', task: 'Design a "Seedless" Wallet Architecture: No 24 words. No single point of failure. How does it work technically? Create the spec.', xp: 55},
                {mode: 'execution', task: 'Create a Social Recovery Flow: Design UX for setting up guardians, initiating recovery, and preventing fraud. Make it grandma-friendly.', xp: 55},
                {mode: 'ideas', task: 'Solve the Inheritance Problem: When someone dies, how do heirs access crypto? Design a solution that\'s secure but not stuck forever.', xp: 50},
                {mode: 'personality', task: 'Interview 5 People Who Lost Crypto: What happened? How did it feel? What would have saved them? Extract design requirements.', xp: 55},
                {mode: 'execution', task: 'Design Recovery UX for Different Threats: Lost device, phishing attack, death, coercion. Create flows for each scenario.', xp: 55},
                {mode: 'execution', task: 'Prototype a Recovery Experience: Build a demo showing the full recovery flow â€” from "I lost access" to "I\'m back in" in under 10 minutes.', xp: 60},
                {mode: 'personality', task: 'Test with Non-Technical Users: Can your parents set up and recover a wallet? Iterate until the answer is yes.', xp: 55},
                {mode: 'execution', task: 'Create a "Self-Custody Readiness" Assessment: A tool that scores how well someone is protected and guides them to improve.', xp: 50},
                {mode: 'ideas', task: 'Predict the "Forgot Password" Moment: Write a 2028 headline about self-custody becoming as easy as centralized accounts. What breakthrough enabled it?', xp: 50}
            ]
        },
        // OPPORTUNITY 3: DEFI FINANCIAL EDUCATION
        {
            title: 'ðŸŽ“ DeFi Education for Non-Technical Users',
            mode: 'personality',
            description: 'Financial literacy is broken. DeFi literacy doesn\'t exist. The platform that teaches 100M people to manage on-chain money safely will be worth billions.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Audit Current Crypto Education: Review 10 crypto education platforms. What do they assume you already know? Where do beginners actually get lost?', xp: 40},
                {mode: 'ideas', task: 'Map the Knowledge Gap: What does someone need to understand to safely use DeFi? Create the minimum viable curriculum.', xp: 45},
                {mode: 'ideas', task: 'Study Successful Financial Education: How do Khan Academy, Duolingo, and Dave Ramsey teach finance? What makes it stick?', xp: 45},
                {mode: 'execution', task: 'Create a "Risk-First" Curriculum: Start with what can go wrong, not what you can earn. Design education that leads with safety.', xp: 50},
                {mode: 'execution', task: 'Design a DeFi Simulator: A safe environment to practice swaps, lending, and yield farming with fake money. Learn by doing without risk.', xp: 55},
                {mode: 'ideas', task: 'Identify Cultural Translation Needs: How do different cultures think about savings, debt, and risk? Design education that adapts.', xp: 50},
                {mode: 'personality', task: 'Teach 5 Complete Beginners: Walk them through DeFi basics. Document every question, every confusion. Use this to improve your curriculum.', xp: 55},
                {mode: 'execution', task: 'Create a "DeFi Driving Test": A certification that proves someone understands the risks and basics before they invest real money.', xp: 50},
                {mode: 'execution', task: 'Build an AI Financial Coach for DeFi: Design a chatbot that answers questions, warns about risks, and guides safe behavior.', xp: 55},
                {mode: 'personality', task: 'Partner with a Community: Find a non-crypto community (church group, trade union, local club) and offer free DeFi education. Learn from their questions.', xp: 55},
                {mode: 'execution', task: 'Create a "First $100 in DeFi" Course: A complete guide to getting started safely with a small amount. From fiat to earning yield.', xp: 55},
                {mode: 'ideas', task: 'Predict the Financial Literacy Mandate: Write a 2030 headline about governments requiring DeFi literacy before participation. Why did this happen?', xp: 45}
            ]
        },
        // OPPORTUNITY 4: STABLECOIN-NATIVE BANKING
        {
            title: 'ðŸ’µ Stablecoin-Native Banking Alternatives',
            mode: 'execution',
            description: 'Stablecoins are the bridge. A "bank account" that\'s actually USDC on-chain â€” with direct deposit, bill pay, and a debit card â€” replaces traditional banking.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Traditional Banking Functions: Checking, savings, direct deposit, bill pay, debit card, wire transfers. Which can move on-chain today?', xp: 45},
                {mode: 'ideas', task: 'Research Stablecoin Infrastructure: USDC, USDT, DAI, PYUSD. What\'s the on/off-ramp situation? What are the regulatory constraints?', xp: 50},
                {mode: 'execution', task: 'Design "Stablecoin Checking": A product spec for a checking account replacement. Direct deposit, bill pay, debit card, all on stablecoins.', xp: 55},
                {mode: 'ideas', task: 'Analyze the Yield Opportunity: Traditional checking pays 0%. Stablecoin yield is 3-8%. Calculate the value proposition for different customer segments.', xp: 45},
                {mode: 'execution', task: 'Map the Regulatory Path: What licenses are needed? What\'s the compliance strategy? Create a go-to-market regulatory plan.', xp: 55},
                {mode: 'ideas', task: 'Identify the First Customers: Who\'s underserved by traditional banking AND comfortable with digital? Gig workers, remote workers, immigrants?', xp: 50},
                {mode: 'execution', task: 'Design the Debit Card Experience: A card that spends stablecoins but feels like dollars. Auto-conversion, rewards, merchant experience.', xp: 55},
                {mode: 'personality', task: 'Interview 10 People Frustrated with Banks: What do they hate? Fees, delays, holds, rejections. Design stablecoin solutions for each pain point.', xp: 50},
                {mode: 'execution', task: 'Create a Fiat On-Ramp Flow: From paycheck direct deposit to stablecoin balance in the smoothest possible experience. Design it.', xp: 55},
                {mode: 'execution', task: 'Build a Bill Pay Integration: Design how users pay rent, utilities, and subscriptions from stablecoin balances.', xp: 55},
                {mode: 'personality', task: 'Pitch to a Fintech or Crypto Company: Present your stablecoin banking vision. Offer to help them build it.', xp: 60},
                {mode: 'ideas', task: 'Predict Bank Displacement: Write a 2031 headline about the first major bank losing 10% of deposits to stablecoin alternatives. What triggered the shift?', xp: 50}
            ]
        },
        // OPPORTUNITY 5: SMART CONTRACT INSURANCE
        {
            title: 'ðŸ›¡ï¸ Smart Contract Insurance & Risk Products',
            mode: 'ideas',
            description: 'DeFi has billions locked in code that could be exploited. Insurance against hacks, exploits, and failures is the unlock for institutional and mainstream adoption.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map DeFi Risk Categories: Smart contract bugs, oracle failures, governance attacks, economic exploits, rug pulls. Create a comprehensive taxonomy.', xp: 50},
                {mode: 'ideas', task: 'Research Existing DeFi Insurance: Nexus Mutual, InsurAce, Risk Harbor. How do they work? What do they cover? What are the gaps?', xp: 50},
                {mode: 'execution', task: 'Design a Consumer-Friendly Insurance Product: "Protect Your Deposit" â€” one click, clear coverage, simple claims. Create the UX.', xp: 55},
                {mode: 'ideas', task: 'Study Traditional Insurance Economics: How do insurers price risk, manage reserves, handle claims? What translates to DeFi?', xp: 45},
                {mode: 'execution', task: 'Create a Risk Rating System: A "credit score" for DeFi protocols. What factors determine safety? How do you communicate risk to consumers?', xp: 55},
                {mode: 'ideas', task: 'Design Automated Claims: When a hack happens, how do you verify loss and pay out without manual review? Create the smart contract logic.', xp: 55},
                {mode: 'execution', task: 'Build a Protocol Audit Checklist: What should users check before depositing? Turn expert knowledge into a consumer tool.', xp: 50},
                {mode: 'personality', task: 'Interview 5 DeFi Users About Insurance: Do they have it? Why not? What would make them buy? Extract product requirements.', xp: 50},
                {mode: 'execution', task: 'Design a "DeFi Safety Score" Dashboard: Shows users their total exposure, insurance coverage, and risk-adjusted position.', xp: 55},
                {mode: 'ideas', task: 'Solve the Correlated Risk Problem: One big hack affects many protocols. How do you insure against systemic risk? Design the model.', xp: 55},
                {mode: 'execution', task: 'Create an Insurance Sales Flow: Integrated into DeFi deposits â€” "Protect this position?" at the moment of risk. Design the UX.', xp: 50},
                {mode: 'ideas', task: 'Predict the First Major DeFi Insurance Payout: Write a 2028 headline about a $500M claim. What happened? How did it change the industry?', xp: 50}
            ]
        },
        // OPPORTUNITY 6: GLOBAL REMITTANCES
        {
            title: 'ðŸŒ Cross-Border Remittances at Scale',
            mode: 'execution',
            description: 'Remittances are a $700B market with 6% average fees. Stablecoins make it near-free. The company that makes "send money home" as easy as texting wins.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Map Remittance Corridors: USâ†’Mexico, UAEâ†’India, UKâ†’Nigeria. What are the volumes, fees, and pain points for the top 10 corridors?', xp: 45},
                {mode: 'ideas', task: 'Research Current Solutions: Western Union, Wise, Remitly, crypto options. What are the fees, speeds, and UX? Where does DeFi win?', xp: 45},
                {mode: 'execution', task: 'Calculate the DeFi Advantage: For a $500 remittance, compare traditional fees vs stablecoin transfer costs. Make the value proposition undeniable.', xp: 45},
                {mode: 'ideas', task: 'Identify the Last-Mile Problem: Getting stablecoins is easy. Getting cash in a rural village is hard. Map the off-ramp infrastructure gap.', xp: 50},
                {mode: 'execution', task: 'Design a WhatsApp-Based Remittance: Send money by text. No app download. Design how it works technically and experientially.', xp: 55},
                {mode: 'ideas', task: 'Study Trust in Remittances: Families trust specific agents and methods. How do you build trust in a new system? Research the psychology.', xp: 50},
                {mode: 'execution', task: 'Create an Agent Network Model: Local shops that cash out stablecoins. Design the economics, onboarding, and trust system.', xp: 55},
                {mode: 'personality', task: 'Interview 5 Remittance Senders: Why do they use their current method? What would make them switch? Document their concerns.', xp: 55},
                {mode: 'execution', task: 'Design the Recipient Experience: Grandmother in a village gets a notification. Then what? Cash pickup, mobile money, or local store credit?', xp: 55},
                {mode: 'execution', task: 'Build a Corridor-Specific Prototype: Pick one remittance corridor and design the complete end-to-end experience.', xp: 60},
                {mode: 'personality', task: 'Partner with a Diaspora Community: Find a community organization and offer to help them reduce remittance costs. Learn from real users.', xp: 55},
                {mode: 'ideas', task: 'Predict Western Union\'s Decline: Write a 2030 headline about traditional remittance companies losing market share. What was the tipping point?', xp: 45}
            ]
        },
        // OPPORTUNITY 7: ON-CHAIN CREDIT & REPUTATION
        {
            title: 'ðŸ“Š On-Chain Credit Scoring & Reputation',
            mode: 'ideas',
            description: 'Credit scores are broken and exclusionary. On-chain behavior creates a new, global, transparent reputation system. Your wallet history becomes your financial identity.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Audit Traditional Credit Scoring: How do FICO scores work? What do they miss? Why do they exclude billions of people?', xp: 45},
                {mode: 'ideas', task: 'Map On-Chain Reputation Signals: Transaction history, protocol usage, repayment behavior, governance participation. What indicates creditworthiness?', xp: 50},
                {mode: 'execution', task: 'Design an On-Chain Credit Score: What factors? How weighted? How do you prevent gaming? Create the algorithm framework.', xp: 55},
                {mode: 'ideas', task: 'Solve the Cold Start Problem: New wallets have no history. How do you bootstrap reputation? Bridge off-chain data? Design solutions.', xp: 50},
                {mode: 'execution', task: 'Create a "DeFi Credit Report": A dashboard showing your on-chain reputation, history, and creditworthiness. Design the UX.', xp: 55},
                {mode: 'ideas', task: 'Research Privacy-Preserving Reputation: How do you prove creditworthiness without revealing your whole history? ZK proofs, selective disclosure.', xp: 55},
                {mode: 'execution', task: 'Design Reputation-Based Lending: A lending product where your rate depends on on-chain reputation, not traditional credit. Create the model.', xp: 55},
                {mode: 'personality', task: 'Interview 5 People Excluded from Traditional Credit: What\'s their on-chain activity? Could it demonstrate creditworthiness? Document the opportunity.', xp: 50},
                {mode: 'execution', task: 'Build a "Prove Your Reputation" Tool: Let users generate a verifiable credential of their on-chain history to share with lenders.', xp: 55},
                {mode: 'ideas', task: 'Map the Global Credit Gap: 3B people lack credit scores. Which countries/segments could on-chain reputation serve first?', xp: 50},
                {mode: 'execution', task: 'Design a Credit Builder Product: Help users deliberately build on-chain reputation through small, positive actions.', xp: 50},
                {mode: 'ideas', task: 'Predict the Death of FICO: Write a 2032 headline about on-chain reputation replacing traditional credit scores. What enabled the shift?', xp: 50}
            ]
        },
        // OPPORTUNITY 8: DESIGNING TRUST WITHOUT INTERMEDIARIES
        {
            title: 'ðŸ¤ Designing Trust Without Intermediaries',
            mode: 'ideas',
            description: 'The meta-opportunity: DeFi replaces trusted institutions with transparent systems. Someone needs to codify how to design trust at scale without middlemen.',
            difficulty: 'hard',
            timeframe: '6-18 months',
            quests: [
                {mode: 'ideas', task: 'Map How Trust Works Today: Banks, lawyers, notaries, escrow agents â€” what do they actually do? What\'s the trust service they provide?', xp: 45},
                {mode: 'ideas', task: 'Study Trust in DeFi Protocols: How do Uniswap, Aave, and Compound create trust? Code audits, TVL, governance. What are the mechanisms?', xp: 50},
                {mode: 'ideas', task: 'Identify Trust Gaps in DeFi: Where do people still not trust the system? What\'s missing? Regulation, insurance, reputation, recourse?', xp: 50},
                {mode: 'execution', task: 'Create a "Trust Design Framework": A methodology for building trustworthy systems without central authorities. Principles, patterns, anti-patterns.', xp: 55},
                {mode: 'ideas', task: 'Research Mechanism Design: How do economists design incentive systems? What translates to DeFi trust design?', xp: 50},
                {mode: 'execution', task: 'Design Trust Signals for Protocols: What indicators should users check? Audit status, TVL history, governance health, team doxxing. Create the checklist.', xp: 50},
                {mode: 'execution', task: 'Create a "Trust Score" for DeFi: A composite rating that combines all trust signals into one number. Design the methodology.', xp: 55},
                {mode: 'personality', task: 'Interview 10 DeFi Users About Trust: What makes them trust a protocol? What would make them trust more? Extract the psychology.', xp: 55},
                {mode: 'execution', task: 'Design Dispute Resolution for DeFi: When things go wrong, how are disputes resolved without lawyers? Create an on-chain arbitration system.', xp: 55},
                {mode: 'ideas', task: 'Study Failed Trust Systems: Protocols that lost trust after hacks or rug pulls. What could have prevented it? What did we learn?', xp: 45},
                {mode: 'personality', task: 'Write "The Trust Design Manifesto": Principles for building trusted systems without intermediaries. Publish and advocate.', xp: 50},
                {mode: 'ideas', task: 'Predict the Trust Standard: Write a 2030 headline about an industry-wide trust certification for DeFi. Who created it? What does it require?', xp: 50}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽ“ AI TUTORS OUTPERFORM TEACHERS - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'ai-tutors-outperform',
    title: 'AI tutors outperform average human teachers',
    source: 'Khan Academy + GPT-4 studies, Bloom 2-sigma research, EdTech trajectories',
    probability: 75,
    timeframe: '2027-2029',
    category: 'ai',
    threatMode: 'ideas',
    threatReason: 'When AI can teach facts and skills better than humans, the value of teachers shifts entirely to motivation, identity formation, and human connection. Knowledge transfer becomes free.',
    atRisk: 'Traditional teachers focused on content delivery, test prep companies, tutoring centers, educational publishers, anyone selling "what to learn" instead of "who to become"',
    opportunities: [
        {
            title: 'ðŸ§­ Mentorship-First Education',
            mode: 'personality',
            description: 'AI handles knowledge transfer. Humans handle motivation, identity, and meaning. The mentor who helps students figure out WHO they want to become â€” not WHAT they need to know â€” wins.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Separate Teaching from Mentoring: List everything teachers do. Categorize each as "AI can do this" vs "requires human connection." What\'s left for humans?', xp: 45},
                {mode: 'ideas', task: 'Study the Bloom 2-Sigma Problem: Research why 1-on-1 tutoring is so effective. What does AI replicate? What requires a human relationship?', xp: 45},
                {mode: 'ideas', task: 'Define the Mentor\'s Job Description: If AI handles content, what does the human mentor do? Motivation, accountability, identity, emotional support. Write the new role.', xp: 50},
                {mode: 'execution', task: 'Design a Mentorship Framework: A structured approach to student development that assumes AI handles all knowledge transfer. What are the sessions about?', xp: 55},
                {mode: 'personality', task: 'Mentor 3 Students for Free: Practice the mentorship-first model. No teaching content â€” only motivation, goal-setting, and identity work. Document what works.', xp: 55},
                {mode: 'execution', task: 'Create a "Who Do You Want to Become?" Curriculum: A series of exercises that help students discover purpose, not just learn skills.', xp: 50},
                {mode: 'ideas', task: 'Research Identity Formation in Adolescents: What do teenagers actually need from adults? How does identity form? Apply to mentorship design.', xp: 50},
                {mode: 'execution', task: 'Build a Mentor Training Program: How do you train adults to be great mentors (not teachers)? Create the certification curriculum.', xp: 55},
                {mode: 'personality', task: 'Partner with a School or Learning Pod: Offer to provide mentorship alongside their AI tutoring. Prove the model works.', xp: 60},
                {mode: 'execution', task: 'Design Pricing for Mentorship: What\'s the business model? Per session, monthly retainer, cohort-based? Make it sustainable.', xp: 50},
                {mode: 'personality', task: 'Write "The Post-Teacher Manifesto": What education becomes when AI handles knowledge. Publish and attract believers.', xp: 50},
                {mode: 'ideas', task: 'Predict the Last Lecture: Write a 2032 headline about traditional teaching becoming obsolete. What replaced it? Who resisted longest?', xp: 45}
            ]
        },
        {
            title: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Parent-as-Operator Toolkits',
            mode: 'execution',
            description: 'Homeschooling explodes when AI tutors are better than school. Parents need operating systems to manage their kids\' AI-powered education. Not curriculum â€” coordination.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Map the Homeschool Parent\'s Job: If AI teaches, what does the parent do? Scheduling, socialization, motivation, assessment, compliance. List all functions.', xp: 45},
                {mode: 'ideas', task: 'Research Homeschool Pain Points: Interview 5 homeschool parents. What\'s hard? What tools do they wish existed?', xp: 50},
                {mode: 'execution', task: 'Design a "Home Learning OS": Dashboard that tracks AI tutor progress, schedules activities, manages social events, handles compliance. Create the product spec.', xp: 55},
                {mode: 'ideas', task: 'Study Learning Pod Models: How do groups of families share homeschooling? What coordination tools do they need?', xp: 45},
                {mode: 'execution', task: 'Create a Weekly Planning Template: A simple system parents can use to balance AI learning, social activities, and real-world projects.', xp: 45},
                {mode: 'execution', task: 'Design a Socialization Scheduler: Matches homeschool kids for activities, playdates, group projects. Solve the isolation problem.', xp: 50},
                {mode: 'personality', task: 'Run a Parent Workshop: Teach 10 parents how to manage AI-powered home education. Learn from their questions.', xp: 55},
                {mode: 'execution', task: 'Build Progress Reporting for Parents: How do parents know if AI tutoring is working? Design the analytics dashboard.', xp: 50},
                {mode: 'execution', task: 'Create State Compliance Templates: Each state has homeschool requirements. Build templates that make compliance effortless.', xp: 50},
                {mode: 'personality', task: 'Partner with a Homeschool Co-op: Offer your tools to an existing community. Iterate based on real usage.', xp: 55},
                {mode: 'execution', task: 'Design a "Learning Pod in a Box": Everything a group of families needs to start AI-powered collective homeschooling.', xp: 55},
                {mode: 'ideas', task: 'Predict the School Exodus: Write a 2030 headline about mass departure from traditional schools. What triggered it? What replaced them?', xp: 45}
            ]
        },
        {
            title: 'ðŸ† Proof-of-Skill Credentialing Systems',
            mode: 'execution',
            description: 'Degrees prove you sat in chairs. Projects prove you can do things. When AI tutors anyone for free, credentials shift from time-spent to skills-demonstrated.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Audit What Degrees Actually Signal: Why do employers want degrees? Sorting, socialization, persistence, knowledge? Rank by importance.', xp: 45},
                {mode: 'ideas', task: 'Research Alternative Credentials: Lambda School ISAs, Google certificates, portfolio hiring. What works? What doesn\'t? Why?', xp: 50},
                {mode: 'execution', task: 'Design a "Skill Proof" Format: What does a verifiable, portable proof of skill look like? Create the specification.', xp: 55},
                {mode: 'ideas', task: 'Study How Hiring Actually Works: Interview 5 hiring managers. Do they care about degrees? What do they actually evaluate?', xp: 50},
                {mode: 'execution', task: 'Create a Project-Based Assessment: Design a challenge that proves someone has a skill. Objective, verifiable, hard to fake.', xp: 55},
                {mode: 'execution', task: 'Build a Skill Verification Protocol: How do you confirm a project was done by the person claiming it? Anti-cheating, authentication.', xp: 55},
                {mode: 'personality', task: 'Convince 3 Employers to Try Project Hiring: Offer to help them hire based on skill proofs instead of resumes. Document results.', xp: 60},
                {mode: 'execution', task: 'Design a "Portfolio Transcript": A document that replaces traditional transcripts with demonstrated capabilities.', xp: 50},
                {mode: 'ideas', task: 'Map Skills That Matter: For a given career, what skills actually predict success? Create assessment frameworks for 5 careers.', xp: 50},
                {mode: 'execution', task: 'Build a Credential Marketplace: Where people earn and display skill proofs, and employers search for verified capabilities.', xp: 60},
                {mode: 'personality', task: 'Write "Degrees Are Dead": A manifesto for skill-based credentialing. Make the case. Attract employers and learners.', xp: 50},
                {mode: 'ideas', task: 'Predict the Last Diploma: Write a 2035 headline about universities abandoning degrees. What replaced them?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ’» AI WRITES MAJORITY OF CODE - COMPREHENSIVE FORECAST  
// ============================================================================

{
    id: 'ai-writes-code',
    title: 'AI writes majority of code in professional settings',
    source: 'Polymarket AI coding predictions, GitHub Copilot data',
    sourceUrl: 'https://polymarket.com/event/which-company-will-have-the-best-ai-model-for-coding-at-the-end-of-2025',
    probability: 82,
    timeframe: '2026-2027',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Coding as a skill becomes commoditized. The value shifts from "can you write code" to "can you architect systems, review AI output, and translate business problems into technical specs."',
    atRisk: 'Junior developers, coding bootcamp grads, offshore development shops, anyone whose value is "lines of code" rather than "problems solved"',
    opportunities: [
        {
            title: 'ðŸ—ï¸ Code Direction & Architecture Training',
            mode: 'ideas',
            description: 'When AI writes code, humans direct it. The skill becomes specifying WHAT to build, not HOW. System design, requirements, and architecture become the premium skills.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Map the New Developer Skillset: If AI writes code, what do humans do? Specs, architecture, review, debugging, system design. Rank by value.', xp: 45},
                {mode: 'ideas', task: 'Study How Architects Think: Interview 3 senior architects. How do they approach system design? What do they consider that juniors miss?', xp: 50},
                {mode: 'execution', task: 'Create a "Spec-Writing" Course: Teach developers to write specifications that AI can execute perfectly. The skill is precision communication.', xp: 55},
                {mode: 'ideas', task: 'Research Prompt Engineering for Code: What makes an effective code prompt? Study patterns that produce good AI output.', xp: 45},
                {mode: 'execution', task: 'Design Architecture Training for AI-Era: Curriculum that assumes AI handles implementation. Focus on systems thinking, tradeoffs, patterns.', xp: 55},
                {mode: 'execution', task: 'Build a "Requirements to Code" Simulation: Practice environment where learners write specs and AI executes. Grade the specs, not the code.', xp: 55},
                {mode: 'personality', task: 'Train 5 Developers in AI Direction: Teach the new skillset. Document what\'s hard to learn, what clicks quickly.', xp: 55},
                {mode: 'execution', task: 'Create an Architecture Decision Framework: Templates for making and documenting technical decisions that AI implements.', xp: 50},
                {mode: 'ideas', task: 'Define "AI Fluency" for Developers: What does it mean to be great at working with AI? Create the competency model.', xp: 50},
                {mode: 'execution', task: 'Design a Certification for AI-Era Development: Prove someone can architect, spec, and direct AI effectively.', xp: 55},
                {mode: 'personality', task: 'Partner with a Bootcamp: Help them redesign curriculum for AI-era development. Pilot the new approach.', xp: 60},
                {mode: 'ideas', task: 'Predict the Last "Learn to Code" Campaign: Write a 2029 headline about traditional coding education becoming obsolete. What replaced it?', xp: 45}
            ]
        },
        {
            title: 'ðŸ” AI Code QA & Security Auditing',
            mode: 'execution',
            description: 'AI-generated code has bugs, vulnerabilities, and hallucinations. Someone needs to verify it works, is secure, and doesn\'t have subtle errors. QA becomes critical.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Catalog AI Code Failure Modes: What kinds of bugs does AI-generated code have? Subtle logic errors, security holes, performance issues. Create a taxonomy.', xp: 50},
                {mode: 'ideas', task: 'Research AI Code Security: What security vulnerabilities are common in AI-generated code? Study the patterns.', xp: 50},
                {mode: 'execution', task: 'Design an AI Code Review Checklist: What should humans check in AI-generated code? Create a comprehensive review protocol.', xp: 55},
                {mode: 'execution', task: 'Build a "Spot the AI Bug" Training: Exercises that teach developers to find common AI code errors. Sharpen the review skill.', xp: 50},
                {mode: 'ideas', task: 'Study How QA Evolves: Traditional QA tests human code. How does QA change when AI writes most code? Interview QA professionals.', xp: 50},
                {mode: 'execution', task: 'Create an AI Code Security Scanner: Tool or checklist that catches common AI-generated vulnerabilities.', xp: 55},
                {mode: 'execution', task: 'Design an AI Code Audit Service: Scope, pricing, deliverables for auditing AI-generated codebases. Create the service offering.', xp: 55},
                {mode: 'personality', task: 'Audit 3 AI-Generated Projects: Offer free audits to teams using AI coding tools. Document what you find.', xp: 55},
                {mode: 'execution', task: 'Build a Regression Testing Framework: Specifically designed to catch AI code that "looks right but isn\'t."', xp: 55},
                {mode: 'ideas', task: 'Define "AI Code Liability": When AI-generated code fails, who\'s responsible? The developer? The AI company? Map the legal landscape.', xp: 50},
                {mode: 'personality', task: 'Write "The AI Code Quality Manifesto": Standards for responsible AI-assisted development. Advocate for the practices.', xp: 50},
                {mode: 'ideas', task: 'Predict the First AI Code Disaster: Write a 2028 headline about a major failure caused by AI-generated code. What happened? What changed?', xp: 50}
            ]
        },
        {
            title: 'ðŸ­ Legacy Modernization Factories',
            mode: 'execution',
            description: 'Millions of lines of COBOL, ancient Java, and technical debt. AI can finally refactor at scale. The opportunity: modernize legacy systems that companies have been afraid to touch.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map the Legacy Code Landscape: What old technologies are still running critical systems? COBOL, Fortran, old Java. Where\'s the biggest pain?', xp: 45},
                {mode: 'ideas', task: 'Research AI-Assisted Refactoring: What tools exist? What can they do? Where do they fail? Create a capability assessment.', xp: 50},
                {mode: 'execution', task: 'Design a Legacy Assessment Framework: How do you evaluate a legacy codebase for AI-assisted modernization? Complexity, risk, value.', xp: 55},
                {mode: 'ideas', task: 'Study Failed Modernization Projects: Why do legacy rewrites fail? What goes wrong? Learn from history.', xp: 50},
                {mode: 'execution', task: 'Create a Modernization Playbook: Step-by-step process for AI-assisted legacy transformation. From assessment to deployment.', xp: 55},
                {mode: 'execution', task: 'Build a "Strangler Fig" Toolkit: Tools and templates for gradually replacing legacy systems without big-bang rewrites.', xp: 55},
                {mode: 'personality', task: 'Assess 3 Legacy Systems: Offer free assessments to companies stuck on old technology. Build case studies.', xp: 55},
                {mode: 'execution', task: 'Design Pricing for Modernization: Fixed price? Per-line? Risk-sharing? Create sustainable economics.', xp: 50},
                {mode: 'execution', task: 'Create a Legacy-to-Modern Test Suite: Ensure the new system behaves exactly like the old one. Verification methodology.', xp: 55},
                {mode: 'personality', task: 'Partner with a Systems Integrator: They have legacy clients. You have AI expertise. Build the relationship.', xp: 60},
                {mode: 'execution', task: 'Document a Successful Modernization: Complete case study with metrics, challenges, and outcomes.', xp: 55},
                {mode: 'ideas', task: 'Predict the COBOL Sunset: Write a 2030 headline about the last COBOL system being modernized. What finally made it possible?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ’¼ 80% OF JOBS TRANSFORM - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'jobs-transform-80',
    title: '80% of jobs disappear or transform radically',
    source: 'Metaculus forecasts, McKinsey, WEF Future of Jobs',
    sourceUrl: 'https://www.metaculus.com/questions/21427/employment-in-ai-automatable-jobs/',
    probability: 70,
    timeframe: '2030-2040',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'The nature of work changes faster than humans can retrain. Those who build transferable meta-skills and multiple income streams survive. Those who optimize for one job don\'t.',
    atRisk: 'Single-skill workers, mid-career professionals in automatable roles, anyone who hasn\'t updated skills in 5+ years, employees whose value is "reliable execution" vs "creative problem-solving"',
    opportunities: [
        {
            title: 'ðŸ”„ Reskilling-as-a-Service Platforms',
            mode: 'execution',
            description: 'Continuous reskilling becomes mandatory, not optional. Platforms that provide ongoing skill loops â€” assess, learn, apply, repeat â€” replace one-time education.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map the Reskilling Gap: What skills are becoming obsolete? What\'s replacing them? Create a transition map for 10 common jobs.', xp: 50},
                {mode: 'ideas', task: 'Study Successful Reskilling Programs: What works? Corporate training, bootcamps, apprenticeships. What has the best outcomes?', xp: 45},
                {mode: 'execution', task: 'Design a Continuous Skill Assessment: A system that regularly evaluates skills and identifies gaps before they become critical.', xp: 55},
                {mode: 'ideas', task: 'Research the Psychology of Career Change: Why is reskilling hard emotionally? Identity, sunk costs, fear. Design for the psychology.', xp: 50},
                {mode: 'execution', task: 'Create a "Skill Decay" Alert System: Notifies workers when their skills are becoming less valuable. Early warning system.', xp: 50},
                {mode: 'execution', task: 'Design a Reskilling Pathway Generator: Input current skills, output pathways to adjacent high-value skills. Personalized transitions.', xp: 55},
                {mode: 'personality', task: 'Reskill 5 People for Free: Take mid-career professionals through your process. Document what works, what\'s hard.', xp: 55},
                {mode: 'execution', task: 'Build a "Skills Insurance" Product: Subscription that guarantees continuous employability through ongoing reskilling.', xp: 55},
                {mode: 'execution', task: 'Create Corporate Reskilling Programs: B2B offering for companies managing workforce transitions.', xp: 55},
                {mode: 'personality', task: 'Partner with a Company Doing Layoffs: Offer reskilling as an alternative to severance. Prove the model.', xp: 60},
                {mode: 'execution', task: 'Design Outcomes-Based Pricing: Only pay if the reskilling leads to new employment. Align incentives.', xp: 50},
                {mode: 'ideas', task: 'Predict the Reskilling Mandate: Write a 2032 headline about governments requiring continuous reskilling. What triggered the policy?', xp: 45}
            ]
        },
        {
            title: 'ðŸ‘¤ Human Differentiation Training',
            mode: 'personality',
            description: 'When AI does tasks, human value comes from judgment, leadership, creativity, and relationships. Training people in the skills AI can\'t replicate.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Define "Irreplaceable Human Skills": What can\'t AI do? Judgment under uncertainty, emotional intelligence, ethical reasoning, creative leaps. Create the definitive list.', xp: 50},
                {mode: 'ideas', task: 'Study How These Skills Develop: Judgment, leadership, creativity â€” how are they actually learned? Research the development pathways.', xp: 50},
                {mode: 'execution', task: 'Design a "Human Edge" Assessment: Measures someone\'s level of development in AI-proof skills. Benchmarking tool.', xp: 55},
                {mode: 'execution', task: 'Create Training for Each Skill: Judgment training, leadership development, creativity exercises. Curriculum for each human differentiator.', xp: 55},
                {mode: 'ideas', task: 'Research How Experts Develop Judgment: How do doctors, pilots, executives develop good judgment? Extract the training methods.', xp: 50},
                {mode: 'personality', task: 'Train 5 People in Human Differentiation: Pilot your curriculum. What\'s hard to teach? What clicks?', xp: 55},
                {mode: 'execution', task: 'Design Exercises That Can\'t Be AI\'d: Challenges that require genuine human skills â€” ethical dilemmas, ambiguous situations, relationship navigation.', xp: 50},
                {mode: 'execution', task: 'Create a "Human Premium" Certification: Verified proof that someone has developed the skills AI can\'t replicate.', xp: 55},
                {mode: 'personality', task: 'Partner with a Leadership Development Firm: They have clients. You have the AI-era framing. Collaborate.', xp: 55},
                {mode: 'execution', task: 'Build Corporate "Human Edge" Programs: Training for companies that want their workforce to stay valuable.', xp: 55},
                {mode: 'personality', task: 'Write "The Human Advantage": A book or manifesto on what humans do that AI can\'t. Become the authority.', xp: 50},
                {mode: 'ideas', task: 'Predict the "Human Premium" Job Market: Write a 2035 headline about jobs that specifically require verified human skills. What\'s the premium?', xp: 45}
            ]
        },
        {
            title: 'ðŸ’° Portfolio Career Management',
            mode: 'execution',
            description: 'Single jobs become risky. Multiple income streams become mandatory. People need systems to manage 3-5 income sources, balance time, and optimize their career portfolio.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study Portfolio Careers: Who already does this? Freelancers, creators, entrepreneurs with multiple ventures. What are their systems?', xp: 45},
                {mode: 'ideas', task: 'Map Income Stream Types: Employment, freelance, products, investments, royalties. What are the characteristics of each?', xp: 45},
                {mode: 'execution', task: 'Design a "Career Portfolio" Framework: How to think about diversifying income. Risk, correlation, time investment, growth potential.', xp: 55},
                {mode: 'execution', task: 'Create a Career Portfolio Assessment: Evaluates someone\'s current diversification and recommends improvements.', xp: 50},
                {mode: 'ideas', task: 'Research Time Management for Multi-Income: How do people successfully juggle multiple income streams? What systems work?', xp: 50},
                {mode: 'execution', task: 'Build a Portfolio Career Dashboard: Track income, time, and growth across multiple sources. The operating system for diversified work.', xp: 55},
                {mode: 'personality', task: 'Coach 5 People to Diversify Income: Help single-job workers add 1-2 income streams. Document the process.', xp: 55},
                {mode: 'execution', task: 'Design "Income Stream Starter Kits": Templates and guides for launching common additional income sources.', xp: 50},
                {mode: 'execution', task: 'Create a Community for Portfolio Workers: Peer support, resource sharing, accountability for multi-income professionals.', xp: 50},
                {mode: 'personality', task: 'Run a "Diversify Your Income" Workshop: Live session teaching the portfolio career approach. Scale the education.', xp: 55},
                {mode: 'execution', task: 'Build Corporate "Income Diversification" Programs: Help companies support employees in building resilient careers.', xp: 55},
                {mode: 'ideas', task: 'Predict the End of Single-Income Careers: Write a 2033 headline about portfolio careers becoming the norm. What killed single jobs?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽ¬ CREATOR MIDDLE CLASS DISAPPEARS - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'creator-middle-class-dies',
    title: 'Creator middle class disappears (top 1% capture most)',
    source: 'Creator economy data, platform economics, power law distributions',
    probability: 85,
    timeframe: 'Already happening',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'AI floods the zone with infinite content. Algorithms reward the top of the power law. Being "pretty good" earns nothing. You either build a monopoly on attention or you lose.',
    atRisk: 'Mid-tier YouTubers, hobby creators hoping to go full-time, anyone whose strategy is "consistent content" without differentiation',
    opportunities: [
        {
            title: 'ðŸ˜ï¸ Community Monetization Platforms',
            mode: 'execution',
            description: 'When ad revenue concentrates at the top, the middle survives through community. Memberships, events, access, and belonging â€” not views â€” become the revenue model.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study Successful Community Businesses: Patreon, Discord, Circle, Substack. What makes some communities monetize while others don\'t?', xp: 45},
                {mode: 'ideas', task: 'Map Community Revenue Streams: Memberships, events, courses, merchandise, services. What are all the ways communities make money?', xp: 45},
                {mode: 'execution', task: 'Design a "Community Business Model Canvas": Framework for planning a sustainable community-based business.', xp: 50},
                {mode: 'ideas', task: 'Research the Value of Belonging: Why do people pay for communities? Status, connection, identity, access. Understand the psychology.', xp: 50},
                {mode: 'execution', task: 'Create a Community Launch Playbook: Step-by-step guide to starting and monetizing a community from scratch.', xp: 55},
                {mode: 'execution', task: 'Design Community Engagement Systems: Rituals, events, and structures that keep communities active and paying.', xp: 50},
                {mode: 'personality', task: 'Help 3 Creators Launch Communities: Take creators from "audience" to "community." Document what works.', xp: 55},
                {mode: 'execution', task: 'Build Community Analytics: Metrics that predict community health and revenue. What should creators track?', xp: 50},
                {mode: 'execution', task: 'Create Event Templates for Creators: Virtual and IRL event formats that drive revenue and engagement.', xp: 50},
                {mode: 'personality', task: 'Write "The Community Business Manifesto": Why audience isn\'t enough. Make the case for community-first creator businesses.', xp: 50},
                {mode: 'execution', task: 'Design a "Community Revenue Accelerator": Program that helps creators hit $10K/month from community.', xp: 55},
                {mode: 'ideas', task: 'Predict the Platform Shift: Write a 2028 headline about creators abandoning ad-based platforms for community. What triggered the exodus?', xp: 45}
            ]
        },
        {
            title: 'ðŸŽ¯ Niche Authority Development',
            mode: 'personality',
            description: 'Generalist creators lose. The winners own a niche so specifically that they\'re the undisputed authority. Coaching creators to find and dominate micro-niches.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study Niche Authority Examples: Find 10 creators who dominate micro-niches. What do they have in common? How did they find their niche?', xp: 45},
                {mode: 'ideas', task: 'Map the Niche Selection Criteria: What makes a good niche? Passion, expertise, market size, competition, monetization potential. Create the framework.', xp: 50},
                {mode: 'execution', task: 'Design a Niche Discovery Process: Exercises that help creators find their unique intersection of expertise, interest, and market.', xp: 55},
                {mode: 'ideas', task: 'Research "1000 True Fans" Economics: How small can a niche be and still support a creator? Do the math.', xp: 45},
                {mode: 'execution', task: 'Create a "Niche Down" Workshop: Live or recorded program that takes creators through niche selection and positioning.', xp: 50},
                {mode: 'execution', task: 'Design Authority-Building Content Strategies: Content plans that establish niche dominance, not just visibility.', xp: 50},
                {mode: 'personality', task: 'Coach 5 Creators to Niche Down: Take generalist creators and help them specialize. Document the transformation.', xp: 55},
                {mode: 'execution', task: 'Build a Niche Research Toolkit: Tools and templates for evaluating niche opportunities.', xp: 45},
                {mode: 'execution', task: 'Create "From Generalist to Authority" Case Studies: Document creators who made the transition successfully.', xp: 50},
                {mode: 'personality', task: 'Partner with Creator Agencies: They manage talent that needs positioning. Offer niche consulting.', xp: 55},
                {mode: 'execution', task: 'Design a Niche Authority Certification: Verify that a creator has achieved dominance in their space.', xp: 50},
                {mode: 'ideas', task: 'Predict the Generalist Extinction: Write a 2029 headline about generalist creators completely failing. What changed?', xp: 45}
            ]
        },
        {
            title: 'ðŸ¤ Creator Collectives & Shared Resources',
            mode: 'execution',
            description: 'Solo creators can\'t compete with studios. Collectives â€” shared distribution, resources, and bargaining power â€” become how middle-tier creators survive.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study Existing Creator Collectives: Who\'s doing this well? What structures work? MCNs, collectives, co-ops. Analyze the models.', xp: 45},
                {mode: 'ideas', task: 'Map What Creators Can Share: Distribution, equipment, editing, sponsorship sales, legal, accounting. What\'s more efficient together?', xp: 50},
                {mode: 'execution', task: 'Design a Collective Operating Agreement: Legal and governance structure for creator collectives. Templates and frameworks.', xp: 55},
                {mode: 'ideas', task: 'Research Revenue Sharing Models: How do collectives split money fairly? Study examples from music, art, co-ops.', xp: 50},
                {mode: 'execution', task: 'Create a "Collective in a Box": Everything a group of creators needs to form a collective. Legal, operational, financial.', xp: 55},
                {mode: 'execution', task: 'Design Cross-Promotion Systems: How collective members help each other grow. Fair, effective, sustainable.', xp: 50},
                {mode: 'personality', task: 'Launch a Pilot Collective: Bring 5-10 creators together. Run the collective for 6 months. Document learnings.', xp: 60},
                {mode: 'execution', task: 'Build Shared Services for Collectives: Bookkeeping, legal, editing, sponsorship sales that collectives can share.', xp: 55},
                {mode: 'execution', task: 'Create Collective Health Metrics: How do you know if a collective is working? Define and track the KPIs.', xp: 45},
                {mode: 'personality', task: 'Connect Existing Collectives: Build a network of creator collectives. Shared learnings, bargaining power.', xp: 55},
                {mode: 'execution', task: 'Design Collective Sponsorship Packaging: How collectives can offer brands combined reach. Sales materials.', xp: 50},
                {mode: 'ideas', task: 'Predict the Creator Union: Write a 2030 headline about creators organizing. What triggered collective action?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ˜” LONELINESS EPIDEMIC - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'loneliness-epidemic',
    title: 'Loneliness epidemic intensifies',
    source: 'Surgeon General reports, social research, declining community data',
    probability: 90,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'Loneliness is the new smoking. It\'s a health crisis, a productivity crisis, and a meaning crisis. Those who build real connection infrastructure â€” not apps â€” win.',
    atRisk: 'Remote workers, single adults, elderly without community, anyone whose social life depends on work or school structures',
    opportunities: [
        {
            title: 'ðŸ›ï¸ IRL Community Builders',
            mode: 'personality',
            description: 'Online communities don\'t solve loneliness. Physical spaces, regular gatherings, and real relationships do. The opportunity: build the social infrastructure that institutions used to provide.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study What Communities Used to Provide: Churches, clubs, unions, neighborhoods. What social functions did they serve? List them all.', xp: 45},
                {mode: 'ideas', task: 'Research Successful Modern Communities: What IRL communities thrive today? CrossFit, running clubs, maker spaces. What makes them work?', xp: 50},
                {mode: 'execution', task: 'Design a Community Archetype: Detailed blueprint for a specific type of gathering. Purpose, format, frequency, economics.', xp: 55},
                {mode: 'ideas', task: 'Map the Lonely Demographics: Who\'s most lonely? Remote workers, new parents, retirees, transplants. Quantify the segments.', xp: 45},
                {mode: 'execution', task: 'Create a "Launch a Community" Playbook: Step-by-step guide to starting an IRL community from scratch.', xp: 55},
                {mode: 'personality', task: 'Host 10 Gatherings: Start a community. Run it for 3 months. Document what works, what\'s hard, what people actually want.', xp: 60},
                {mode: 'execution', task: 'Design Community Rituals: The specific practices that turn strangers into community. Opening rituals, naming ceremonies, traditions.', xp: 50},
                {mode: 'execution', task: 'Build Community Economics: How does an IRL community sustain itself financially? Membership, events, sponsorship. Create the model.', xp: 50},
                {mode: 'ideas', task: 'Research Third Places: Ray Oldenburg\'s concept. What makes a great third place? Apply to community design.', xp: 45},
                {mode: 'execution', task: 'Create a "Community Franchise" Model: Templates for others to launch the same community format in their city.', xp: 55},
                {mode: 'personality', task: 'Train 5 Community Leaders: Take people through your playbook. Help them launch communities. Build a network.', xp: 55},
                {mode: 'ideas', task: 'Predict the Community Revival: Write a 2032 headline about IRL communities replacing social media. What triggered the shift?', xp: 45}
            ]
        },
        {
            title: 'ðŸ’‘ Relationship Coaching & Matchmaking',
            mode: 'personality',
            description: 'Dating apps create paradox of choice and infinite swiping. Real matchmaking â€” human judgment, curation, accountability â€” becomes the premium service.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study Why Dating Apps Fail: Research the psychology. Paradox of choice, gamification, misaligned incentives. Understand the problem.', xp: 45},
                {mode: 'ideas', task: 'Research Traditional Matchmaking: How did matchmakers work historically? What made them effective? What translates to today?', xp: 45},
                {mode: 'execution', task: 'Design a Modern Matchmaking Service: Not an app. Human judgment, curated introductions, accountability. Create the service model.', xp: 55},
                {mode: 'ideas', task: 'Map Matchmaking Economics: What do people pay for matchmaking? What\'s the success rate? Is it a sustainable business?', xp: 50},
                {mode: 'execution', task: 'Create an Intake Process: How do you assess someone\'s relationship readiness, preferences, and patterns? Design the methodology.', xp: 50},
                {mode: 'execution', task: 'Design Pre-Date Coaching: Preparing people for success before introductions. Mindset, expectations, authenticity.', xp: 50},
                {mode: 'personality', task: 'Make 10 Introductions: Practice matchmaking with friends or clients. Track outcomes. Learn what predicts success.', xp: 55},
                {mode: 'execution', task: 'Build a Relationship Coaching Curriculum: For singles who aren\'t ready to be matched yet. Self-work first.', xp: 50},
                {mode: 'execution', task: 'Create Post-Match Support: What happens after the introduction? Debrief, coaching, course-correction.', xp: 45},
                {mode: 'personality', task: 'Partner with Therapists or Coaches: They have clients who want relationships. Build referral relationships.', xp: 55},
                {mode: 'execution', task: 'Design Group Events for Matchmaking: Curated gatherings where matches can meet organically. Event formats.', xp: 50},
                {mode: 'ideas', task: 'Predict the Dating App Decline: Write a 2030 headline about dating apps losing to human matchmaking. What changed?', xp: 45}
            ]
        },
        {
            title: 'ðŸ§˜ Loneliness Wellness & Prevention',
            mode: 'execution',
            description: 'Loneliness becomes a health metric like blood pressure. Screening, intervention, and ongoing support for social health. Healthcare meets social infrastructure.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research Loneliness Health Impacts: What does loneliness do to the body? Inflammation, heart disease, dementia. Quantify the health crisis.', xp: 50},
                {mode: 'ideas', task: 'Study Loneliness Interventions: What actually reduces loneliness? Social skills training, befriending programs, community connection. What\'s evidence-based?', xp: 50},
                {mode: 'execution', task: 'Design a Loneliness Screening Tool: Assessment that identifies at-risk individuals before crisis. For employers, healthcare, or self-assessment.', xp: 55},
                {mode: 'execution', task: 'Create a "Social Health Plan": Like a fitness plan, but for connection. Weekly activities, accountability, progress tracking.', xp: 55},
                {mode: 'ideas', task: 'Research Corporate Loneliness Costs: What does employee loneliness cost companies? Absenteeism, turnover, health costs. Build the business case.', xp: 50},
                {mode: 'execution', task: 'Design a Corporate Social Wellness Program: Loneliness prevention for employees. Screening, interventions, community building.', xp: 55},
                {mode: 'personality', task: 'Pilot with 20 Individuals: Run people through your loneliness intervention. Measure outcomes. Iterate.', xp: 55},
                {mode: 'execution', task: 'Build a "Social Health Coach" Training: Train people to specialize in loneliness intervention. Certification program.', xp: 55},
                {mode: 'execution', task: 'Create Healthcare Integration: How does loneliness screening fit into regular healthcare? Design the clinical pathway.', xp: 55},
                {mode: 'personality', task: 'Partner with an Employer or Health System: Pilot your corporate program. Get data on outcomes.', xp: 60},
                {mode: 'execution', task: 'Design Peer Support Networks: Training lonely people to support each other. Scalable intervention.', xp: 50},
                {mode: 'ideas', task: 'Predict the Loneliness Prescription: Write a 2031 headline about doctors prescribing social connection. What made it medical?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ“„ RESUMES BECOME OBSOLETE - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'resumes-obsolete',
    title: 'Traditional resumes become obsolete',
    source: 'Skills-based hiring trends, AI screening failures, portfolio movement',
    probability: 72,
    timeframe: '2028-2032',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'Resumes measure the past. AI can fake credentials. The only thing that matters is demonstrated ability. Those who can SHOW their work beat those who DESCRIBE it.',
    atRisk: 'Job seekers relying on credentials, resume writers, traditional recruiters, anyone whose career strategy is "build the perfect resume"',
    opportunities: [
        {
            title: 'ðŸŽ¨ Personal Brand Studios',
            mode: 'personality',
            description: 'Your career is a brand. Your portfolio is the product. Studios that help professionals develop and distribute their personal brand become essential career infrastructure.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study Successful Personal Brands: Find 10 professionals who got jobs/clients through personal brand. What did they build? How did it work?', xp: 45},
                {mode: 'ideas', task: 'Define Personal Brand Components: Portfolio, narrative, distribution channels, reputation signals. What makes a complete personal brand?', xp: 50},
                {mode: 'execution', task: 'Create a Personal Brand Assessment: Evaluates someone\'s current brand and identifies gaps. Diagnostic tool.', xp: 50},
                {mode: 'execution', task: 'Design a "Brand Sprint" Process: Condensed workshop that helps someone define their professional brand. Framework and exercises.', xp: 55},
                {mode: 'ideas', task: 'Research Distribution Channels by Industry: Where should a lawyer build brand vs an engineer vs a designer? Map the channels per profession.', xp: 50},
                {mode: 'execution', task: 'Create Portfolio Templates by Role: What should a product manager\'s portfolio look like vs a marketer\'s? Design the formats.', xp: 50},
                {mode: 'personality', task: 'Build 5 Personal Brands: Take professionals through your process. Document before/after. Show outcomes.', xp: 55},
                {mode: 'execution', task: 'Design Content Systems for Professionals: Sustainable ways to create and distribute brand-building content. Not influencer â€” professional.', xp: 50},
                {mode: 'execution', task: 'Create a "LinkedIn to Portfolio" Migration: Help professionals shift from resume-style LinkedIn to portfolio-style presence.', xp: 50},
                {mode: 'personality', task: 'Partner with Recruiters: They see failed resumes. You fix personal brands. Build referral relationships.', xp: 55},
                {mode: 'execution', task: 'Design Personal Brand Maintenance: Ongoing services to keep brands current. Retainer model.', xp: 50},
                {mode: 'ideas', task: 'Predict the Resume\'s Death: Write a 2030 headline about companies banning resumes. What replaced them?', xp: 45}
            ]
        },
        {
            title: 'ðŸ§ª Simulation-Based Hiring Platforms',
            mode: 'execution',
            description: 'Don\'t tell me what you can do â€” show me. Platforms that let candidates demonstrate skills through realistic simulations replace resume screening.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research Work Sample Tests: What companies use work samples in hiring? What\'s the evidence on predictive validity vs resumes?', xp: 50},
                {mode: 'ideas', task: 'Map Skills by Simulation-Ability: Which skills can be assessed through simulation? Which require other methods? Create a framework.', xp: 50},
                {mode: 'execution', task: 'Design a Simulation for One Role: Pick a job. Create a realistic work simulation that predicts performance. Full specification.', xp: 55},
                {mode: 'ideas', task: 'Study Anti-Cheating Measures: If hiring is simulation-based, how do you prevent fraud? Research verification methods.', xp: 50},
                {mode: 'execution', task: 'Create a Simulation Design Methodology: Process for creating valid, fair, predictive work simulations. Reusable framework.', xp: 55},
                {mode: 'execution', task: 'Build a Scoring Rubric System: How do you objectively evaluate simulation performance? Design the assessment framework.', xp: 50},
                {mode: 'personality', task: 'Test with 5 Hiring Managers: Have them evaluate candidates through your simulation vs traditional methods. Compare outcomes.', xp: 55},
                {mode: 'execution', task: 'Design the Candidate Experience: How does it feel to do a hiring simulation? Make it respectful of time, clear, and useful even if rejected.', xp: 50},
                {mode: 'execution', task: 'Create a Simulation Library: Pre-built simulations for common roles. Product manager, engineer, marketer, sales.', xp: 55},
                {mode: 'personality', task: 'Partner with a Company to Replace Resume Screening: Pilot simulation-first hiring. Measure time-to-hire, quality, candidate experience.', xp: 60},
                {mode: 'execution', task: 'Build Skills Verification Credentials: After passing a simulation, candidates get a verifiable credential. Portable proof.', xp: 55},
                {mode: 'ideas', task: 'Predict the Simulation Standard: Write a 2031 headline about simulation-based hiring becoming required. What made it standard?', xp: 45}
            ]
        },
        {
            title: 'ðŸ“Š Skills Verification Marketplaces',
            mode: 'execution',
            description: 'A marketplace where skills are verified, rated, and searchable. Employers search for proven capabilities, not credentials. LinkedIn rebuilt for the skills economy.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Analyze LinkedIn\'s Failures: Why doesn\'t LinkedIn effectively verify skills? What are the structural problems? Design around them.', xp: 45},
                {mode: 'ideas', task: 'Research Existing Skills Platforms: Upwork, Toptal, Braintrust. How do they verify skills? What works? What doesn\'t?', xp: 50},
                {mode: 'execution', task: 'Design a Skills Taxonomy: Comprehensive, consistent way to describe professional skills. The data model for the marketplace.', xp: 55},
                {mode: 'execution', task: 'Create Multiple Verification Methods: Assessments, peer review, work samples, credentials. Different methods for different skills.', xp: 55},
                {mode: 'ideas', task: 'Research Reputation Systems: How do eBay, Airbnb, and Stack Overflow build trust? Apply to professional reputation.', xp: 50},
                {mode: 'execution', task: 'Design the Employer Search Experience: How do employers find candidates by verified skill? Search, filter, comparison. Create the UX.', xp: 50},
                {mode: 'execution', task: 'Build a Skill Endorsement System: Meaningful endorsements that carry weight. Not LinkedIn\'s worthless clicks.', xp: 50},
                {mode: 'personality', task: 'Onboard 50 Professionals: Verify their skills through your system. Build the initial marketplace supply.', xp: 55},
                {mode: 'execution', task: 'Create a Skills API: Let other platforms use verified skills data. Become the infrastructure layer.', xp: 55},
                {mode: 'personality', task: 'Convince 5 Employers to Hire Through Skills: Not resumes. Measure satisfaction, time-to-hire, quality.', xp: 60},
                {mode: 'execution', task: 'Design Skills-Based Salary Data: What should verified skills command? Build the compensation benchmark.', xp: 50},
                {mode: 'ideas', task: 'Predict LinkedIn\'s Response: Write a 2029 headline about LinkedIn pivoting to skills verification. What forced the change?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽ¤ PERFECT VOICE CLONING - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'voice-cloning-trivial',
    title: 'Perfect voice cloning becomes trivially easy',
    source: 'ElevenLabs, Resemble AI, open source voice models',
    probability: 95,
    timeframe: 'Already happening',
    category: 'ai',
    threatMode: 'personality',
    threatReason: 'Your voice is no longer proof of identity. Trust in audio collapses. Those who build verification systems and new trust infrastructure win.',
    atRisk: 'Call centers relying on voice verification, families without safe words, anyone who trusts phone calls, audio-based authentication systems',
    opportunities: [
        {
            title: 'ðŸ” Voice Authentication & Verification',
            mode: 'execution',
            description: 'Voice is no longer proof of identity. New verification systems â€” challenge-response, liveness detection, multi-factor â€” become essential infrastructure.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Voice Fraud Vectors: How can cloned voices be used maliciously? Family scams, corporate fraud, authentication bypass. Create a threat taxonomy.', xp: 50},
                {mode: 'ideas', task: 'Research Current Voice Auth: How do banks and call centers verify identity by voice? What breaks with perfect cloning?', xp: 45},
                {mode: 'execution', task: 'Design a Challenge-Response Protocol: Questions or tasks that cloned voices can\'t answer. Real-time verification methods.', xp: 55},
                {mode: 'ideas', task: 'Study Liveness Detection: What distinguishes live speech from recordings or synthesis? Breathing, hesitation, ambient noise.', xp: 50},
                {mode: 'execution', task: 'Create a Family Safety Protocol: Simple system families can use to verify calls are real. Safe words, callback procedures.', xp: 45},
                {mode: 'execution', task: 'Design Enterprise Voice Security: Protocol for businesses to verify voice communications. Training, procedures, technology.', xp: 55},
                {mode: 'personality', task: 'Test with 10 Families: Implement your safety protocol. Does it work? Is it usable? Iterate.', xp: 55},
                {mode: 'execution', task: 'Build a "Voice Verification" Checklist: Simple steps anyone can take to verify a voice call is legitimate.', xp: 45},
                {mode: 'execution', task: 'Create Corporate Training on Voice Fraud: Curriculum for employees on recognizing and preventing voice clone attacks.', xp: 50},
                {mode: 'personality', task: 'Partner with a Bank or Call Center: Help them redesign voice verification. Pilot new protocols.', xp: 60},
                {mode: 'execution', task: 'Design a Voice Provenance System: Way to cryptographically sign and verify authentic voice recordings.', xp: 55},
                {mode: 'ideas', task: 'Predict the First Major Voice Clone Fraud: Write a 2027 headline about a massive voice cloning scam. What was stolen? What changed?', xp: 50}
            ]
        },
        {
            title: 'ðŸ” Deepfake Detection for Calls',
            mode: 'execution',
            description: 'Real-time detection of synthetic voices during phone calls. Protect banks, families, and enterprises from voice clone fraud.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research Deepfake Detection Tech: What methods detect synthetic audio? Spectral analysis, artifact detection, ML classifiers. Survey the field.', xp: 50},
                {mode: 'ideas', task: 'Study Detection Arms Race: How do detection methods evolve as synthesis improves? What\'s the long-term trajectory?', xp: 50},
                {mode: 'execution', task: 'Design Detection UX: How do you alert someone mid-call that the voice may be fake? Without causing panic. Create the interface.', xp: 50},
                {mode: 'execution', task: 'Build a Detection Prototype: Simple tool that analyzes audio for synthetic markers. Even if imperfect, start somewhere.', xp: 55},
                {mode: 'ideas', task: 'Map the Customer Segments: Who needs this most? Banks, elderly, executives, high-net-worth. Prioritize by urgency.', xp: 45},
                {mode: 'execution', task: 'Create a Consumer Protection App: Phone app that monitors calls for deepfake indicators. MVP feature set.', xp: 55},
                {mode: 'execution', task: 'Design Enterprise Integration: How does detection plug into call center software? API specifications.', xp: 55},
                {mode: 'personality', task: 'Test with Real Synthetic Voices: Generate cloned voices and test your detection. Measure accuracy.', xp: 55},
                {mode: 'execution', task: 'Build an Alert and Response Protocol: When deepfake is detected, then what? Design the workflow.', xp: 50},
                {mode: 'personality', task: 'Partner with a Telecom or Bank: Pilot your detection system. Get real-world data.', xp: 60},
                {mode: 'execution', task: 'Create Detection Accuracy Benchmarks: How do you measure and communicate detection reliability?', xp: 50},
                {mode: 'ideas', task: 'Predict Detection Becoming Standard: Write a 2029 headline about deepfake detection being required on all calls. What regulation passed?', xp: 45}
            ]
        },
        {
            title: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Family Safety Protocols & Training',
            mode: 'personality',
            description: 'Families need playbooks for the voice clone era. Safe words, verification procedures, and training to protect against impersonation scams.',
            difficulty: 'easy',
            timeframe: '1-3 months',
            quests: [
                {mode: 'ideas', task: 'Research Family Voice Scams: Document real cases of voice cloning used against families. What happened? How did it work?', xp: 40},
                {mode: 'execution', task: 'Create a Family Safe Word System: Protocol for establishing and using verification phrases. Simple enough for grandparents.', xp: 45},
                {mode: 'execution', task: 'Design a Family Security Workshop: 30-minute training any family can do together. Materials, exercises, protocols.', xp: 50},
                {mode: 'ideas', task: 'Identify Most Vulnerable Family Members: Who gets targeted? Elderly, children, caregivers. Tailor protection strategies.', xp: 45},
                {mode: 'execution', task: 'Build a "Voice Clone Drill": Practice exercise where families test their verification protocols.', xp: 45},
                {mode: 'personality', task: 'Run 5 Family Workshops: Deliver your training. Learn what resonates, what confuses, what sticks.', xp: 55},
                {mode: 'execution', task: 'Create Shareable Safety Guides: One-pagers families can print and reference. Fridge-worthy.', xp: 40},
                {mode: 'execution', task: 'Design Emergency Response Steps: If someone thinks they\'ve been scammed, what do they do? Create the playbook.', xp: 45},
                {mode: 'personality', task: 'Partner with Senior Centers: Elderly are most vulnerable. Offer free training to senior communities.', xp: 50},
                {mode: 'execution', task: 'Build a Family Security Assessment: Questionnaire that identifies a family\'s vulnerability and recommends steps.', xp: 45},
                {mode: 'personality', task: 'Create Viral Safety Content: TikTok, YouTube explaining voice clone risks. Reach millions of families.', xp: 50},
                {mode: 'ideas', task: 'Predict Family Safety Becoming Curriculum: Write a 2028 headline about schools teaching voice clone safety. What incident triggered it?', xp: 40}
            ]
        }
    ]
},

// ============================================================================
// ðŸŒ REAL-TIME PERFECT TRANSLATION - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'perfect-translation',
    title: 'Real-time perfect language translation eliminates barriers',
    source: 'Meta SeamlessM4T, Google Translate trajectory, AI audio models',
    probability: 80,
    timeframe: '2026-2028',
    category: 'ai',
    threatMode: 'ideas',
    threatReason: 'Language stops being a moat. Anyone can sell anywhere, hire anyone, access any market. The winners understand that culture â€” not language â€” becomes the real barrier.',
    atRisk: 'Translators, language teachers, companies whose moat was local-language expertise, anyone who thinks knowing English is a competitive advantage',
    opportunities: [
        {
            title: 'ðŸŽ­ Cultural Nuance Consulting',
            mode: 'personality',
            description: 'Translation becomes free. Cultural understanding doesn\'t. The consultant who helps navigate humor, taboos, business customs, and local aesthetics wins.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Map What Translation Misses: Humor, sarcasm, status signals, taboos, religious sensitivities. What doesn\'t translate even with perfect words?', xp: 50},
                {mode: 'ideas', task: 'Research Cultural Business Failures: Companies that failed in new markets due to cultural misunderstanding. What went wrong?', xp: 45},
                {mode: 'execution', task: 'Create a Cultural Due Diligence Framework: Checklist for entering a new cultural market. Beyond language to meaning.', xp: 55},
                {mode: 'ideas', task: 'Study How Culture Varies: Hofstede dimensions, Meyer\'s Culture Map. What are the key variables that differ across cultures?', xp: 50},
                {mode: 'execution', task: 'Design Cultural Adaptation Guides: For specific markets â€” Japan, Brazil, Germany, India. What do outsiders get wrong?', xp: 55},
                {mode: 'personality', task: 'Interview 10 People from Different Cultures: What do foreigners misunderstand about their culture? Collect the insights.', xp: 55},
                {mode: 'execution', task: 'Build a "Cultural Red Flags" Detector: Common mistakes companies make when entering new cultures. Warning system.', xp: 50},
                {mode: 'execution', task: 'Create Cultural Training for Remote Teams: Global teams need cultural fluency. Design the curriculum.', xp: 50},
                {mode: 'personality', task: 'Consult for 3 Companies Expanding Internationally: Help them navigate cultural challenges. Build case studies.', xp: 55},
                {mode: 'execution', task: 'Design Pricing for Cultural Consulting: Retainer, project-based, training? Create sustainable business model.', xp: 45},
                {mode: 'personality', task: 'Write "Beyond Translation": Thought leadership on cultural intelligence in the AI era. Become the authority.', xp: 50},
                {mode: 'ideas', task: 'Predict Cultural Intelligence as Job Requirement: Write a 2030 headline about cultural fluency becoming mandatory for global roles.', xp: 45}
            ]
        },
        {
            title: 'ðŸŒ Global Sales & Customer Success',
            mode: 'execution',
            description: 'One salesperson can now sell to the entire world. Companies need global sales operations â€” one person covering 20 markets instead of 20 people.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Map the Global Sales Stack: What tools enable one person to sell globally? Translation, scheduling, payment, compliance. Create the toolkit.', xp: 45},
                {mode: 'ideas', task: 'Research Global Sales Leaders: Who\'s already doing this well? What\'s their process? Interview or study 5 examples.', xp: 50},
                {mode: 'execution', task: 'Design a Global Sales Playbook: How to run sales across time zones, languages, and cultures. The methodology.', xp: 55},
                {mode: 'execution', task: 'Create Market Prioritization Framework: Which global markets to enter first? Demand, competition, payment infrastructure.', xp: 50},
                {mode: 'ideas', task: 'Study Cross-Border Payment Solutions: Stripe Atlas, Wise, local payment methods. What enables global revenue collection?', xp: 45},
                {mode: 'execution', task: 'Build Global Sales Templates: Outreach, proposals, contracts that work across cultures. Modular and adaptable.', xp: 50},
                {mode: 'personality', task: 'Close 5 Deals in Non-English Markets: Use translation tools. Document what works, what breaks.', xp: 60},
                {mode: 'execution', task: 'Design Follow-the-Sun Customer Success: One team covering global customers 24/7 through handoffs. Create the ops model.', xp: 55},
                {mode: 'execution', task: 'Create Global Sales Training: Teach salespeople to sell across languages and cultures effectively.', xp: 50},
                {mode: 'personality', task: 'Partner with a SaaS Company Going Global: Help them build global sales ops. Prove the model.', xp: 55},
                {mode: 'execution', task: 'Build a Global Sales Dashboard: Track performance across markets, languages, regions.', xp: 50},
                {mode: 'ideas', task: 'Predict the End of Regional Sales Teams: Write a 2029 headline about global sales consolidation. What enabled it?', xp: 45}
            ]
        },
        {
            title: 'âœˆï¸ Translation-Driven Travel Experiences',
            mode: 'execution',
            description: 'Travel anywhere without language barriers. New travel experiences emerge for people who can now visit any country and communicate freely.',
            difficulty: 'easy',
            timeframe: '1-6 months',
            quests: [
                {mode: 'ideas', task: 'Map Travel Language Friction: Where does language barrier hurt travel most? Navigation, restaurants, emergencies, local experiences. List the pain points.', xp: 40},
                {mode: 'ideas', task: 'Research Translation Travel Tech: What devices and apps exist? AirPods, dedicated devices, phone apps. Test and compare.', xp: 45},
                {mode: 'execution', task: 'Design a "Language-Free Travel" Guide: How to set up your tech stack for seamless international travel. Step-by-step.', xp: 45},
                {mode: 'execution', task: 'Create Destination Guides for Non-Speakers: "Visit Japan Without Japanese" â€” local tips, tech setup, cultural basics.', xp: 50},
                {mode: 'ideas', task: 'Identify New Travel Markets: What destinations were avoided due to language? Where does perfect translation unlock demand?', xp: 45},
                {mode: 'execution', task: 'Design Deep Local Experiences: Tours and experiences that were impossible without local language. Now accessible.', xp: 50},
                {mode: 'personality', task: 'Take a Trip Using Only Translation: Visit a country where you don\'t speak the language. Document the experience.', xp: 55},
                {mode: 'execution', task: 'Build a Translation Travel Checklist: Everything travelers need to prepare for language-barrier-free travel.', xp: 40},
                {mode: 'execution', task: 'Create "Local Connection" Experiences: Pair travelers with locals for authentic experiences, translation-enabled.', xp: 50},
                {mode: 'personality', task: 'Partner with a Travel Agency: Help them offer language-barrier-free packages. New market opportunity.', xp: 55},
                {mode: 'execution', task: 'Design Emergency Protocols: What happens when translation fails in a crisis? Backup systems for travelers.', xp: 45},
                {mode: 'ideas', task: 'Predict the Tourism Explosion: Write a 2028 headline about translation transforming global tourism. Which destinations boomed?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽµ AI MUSIC INDISTINGUISHABLE FROM HUMAN - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'ai-music-indistinguishable',
    title: 'AI generates music indistinguishable from human artists',
    source: 'Suno, Udio, MusicLM trajectories',
    probability: 88,
    timeframe: '2026-2027',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'When anyone can generate a hit song, the music itself becomes worthless. The value shifts to artist identity, story, live performance, and human connection.',
    atRisk: 'Session musicians, jingle writers, stock music creators, artists without strong personal brands, anyone whose value is "making sounds"',
    opportunities: [
        {
            title: 'ðŸŽ¤ Artist Brand & Story Studios',
            mode: 'personality',
            description: 'The music is free. The artist is the product. Studios that build compelling artist identities, stories, and brands become essential.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study Artists with Strong Brands: Taylor Swift, BeyoncÃ©, Tyler the Creator. What makes their brand work? It\'s not just the music.', xp: 50},
                {mode: 'ideas', task: 'Analyze Brand Components: Origin story, visual identity, values, fan relationship, narrative arc. What makes an artist brand?', xp: 50},
                {mode: 'execution', task: 'Create an Artist Brand Framework: Methodology for developing a compelling artist identity. The brand-building process.', xp: 55},
                {mode: 'ideas', task: 'Research Fan Psychology: Why do fans connect with artists? Parasocial relationships, identity, belonging. Understand the psychology.', xp: 50},
                {mode: 'execution', task: 'Design a "Brand Audit" for Artists: Assessment that identifies gaps in an artist\'s brand and positioning.', xp: 50},
                {mode: 'execution', task: 'Build Storytelling Templates: Frameworks for artist origin stories, comeback narratives, evolution arcs.', xp: 50},
                {mode: 'personality', task: 'Brand 3 Emerging Artists: Apply your framework. Help them develop distinctive identities.', xp: 55},
                {mode: 'execution', task: 'Create Visual Identity Systems: Templates and processes for artist visual branding â€” covers, social, merch.', xp: 50},
                {mode: 'execution', task: 'Design Fan Relationship Strategies: How artists build and maintain genuine fan connections at scale.', xp: 50},
                {mode: 'personality', task: 'Partner with a Label or Manager: They need brand development. Offer your services.', xp: 55},
                {mode: 'execution', task: 'Create "Human Artist" Certification: A badge that verifies the human behind the art. Authenticity premium.', xp: 50},
                {mode: 'ideas', task: 'Predict the First AI Artist Scandal: Write a 2028 headline about a beloved "artist" revealed as AI. What happened to fans?', xp: 45}
            ]
        },
        {
            title: 'ðŸŽª Live Experience & Performance',
            mode: 'execution',
            description: 'AI can\'t play a live show. The live experience becomes the primary revenue and connection point. Building the infrastructure for premium live music.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Live Music Economics: How do artists make money from live shows? Tickets, merch, VIP, sponsorship. Understand the model.', xp: 45},
                {mode: 'ideas', task: 'Study Premium Live Experiences: What makes a concert unforgettable? Beyond the music â€” production, intimacy, exclusivity.', xp: 50},
                {mode: 'execution', task: 'Design "Intimate Experience" Formats: Small-venue, high-touch live experiences. 50-person concerts, house shows, private performances.', xp: 55},
                {mode: 'execution', task: 'Create Live Show Templates: Production elements, fan interactions, setlist structures that maximize connection.', xp: 50},
                {mode: 'ideas', task: 'Map the Venue Landscape: What venues exist for intimate shows? Homes, galleries, warehouses, private clubs. Create a database.', xp: 45},
                {mode: 'execution', task: 'Design VIP Experience Tiers: Meet and greets, soundchecks, dinners with artists. Premium live add-ons.', xp: 50},
                {mode: 'execution', task: 'Build a House Concert Network: Platform connecting artists with hosts for private shows. The Airbnb of concerts.', xp: 55},
                {mode: 'personality', task: 'Produce 5 Live Experiences: Book and run intimate shows. Test formats, pricing, artist fit.', xp: 55},
                {mode: 'execution', task: 'Create Live-Stream Hybrid Events: Combine in-person intimacy with global reach. The best of both.', xp: 50},
                {mode: 'personality', task: 'Partner with 10 Artists: Build a roster of artists who want to do premium live experiences.', xp: 55},
                {mode: 'execution', task: 'Design Subscription Live Experiences: Monthly intimate shows for paying members. Recurring revenue model.', xp: 55},
                {mode: 'ideas', task: 'Predict Live Music Premium: Write a 2030 headline about live concert tickets costing 10x recorded music. Why did this happen?', xp: 45}
            ]
        },
        {
            title: 'ðŸŽ§ Personalized Soundtrack Platforms',
            mode: 'execution',
            description: 'AI generates personalized music for every moment â€” workout, focus, sleep, mood. Infinite soundtrack for your life.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Functional Music Use Cases: When do people use music functionally? Focus, sleep, workout, meditation, productivity. List all contexts.', xp: 45},
                {mode: 'ideas', task: 'Research Music-Brain Science: How does music affect focus, relaxation, energy? What parameters matter? BPM, key, instrumentation.', xp: 50},
                {mode: 'execution', task: 'Design a "Mood Engine": System that generates appropriate music based on user state and activity. Specification.', xp: 55},
                {mode: 'execution', task: 'Create Context-Aware Triggers: Music that adapts to calendar, location, time of day, heart rate. The intelligence layer.', xp: 55},
                {mode: 'ideas', task: 'Study Existing Functional Music: Brain.fm, Endel, Focus@Will. What do they do well? What\'s missing?', xp: 45},
                {mode: 'execution', task: 'Build a Personalization Model: How music adapts to individual preferences over time. Learning system design.', xp: 55},
                {mode: 'execution', task: 'Design the User Experience: How do users interact with infinite personalized music? Not playlists. Something new.', xp: 50},
                {mode: 'personality', task: 'Test with 20 Users: Give them AI-generated personalized soundtracks. Measure satisfaction, effectiveness.', xp: 55},
                {mode: 'execution', task: 'Create B2B Applications: Personalized music for gyms, offices, spas, retail. The commercial opportunity.', xp: 50},
                {mode: 'execution', task: 'Build Integration APIs: Let other apps use personalized soundtrack generation. Platform play.', xp: 55},
                {mode: 'execution', task: 'Design Ethical Guidelines: What are the risks of music-based mood manipulation? Create responsible use principles.', xp: 50},
                {mode: 'ideas', task: 'Predict the Personal Soundtrack Era: Write a 2029 headline about everyone having AI-generated life soundtracks. What changed?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// âš–ï¸ AI HANDLES 80% OF LEGAL WORK - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'ai-legal-80-percent',
    title: 'AI handles 80% of routine legal work',
    source: 'Harvey AI, CoCounsel adoption, legal tech investment',
    probability: 70,
    timeframe: '2030-2035',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Routine legal work becomes automated â€” contracts, research, compliance, discovery. Human lawyers become strategists and relationship managers, not document processors.',
    atRisk: 'Junior associates, paralegals, document review attorneys, legal researchers, solo practitioners competing on price',
    opportunities: [
        {
            title: 'ðŸ¤ Legal Strategy & Negotiation Boutiques',
            mode: 'personality',
            description: 'AI does the research. Humans do the judgment. Boutique firms focused on high-stakes strategy, negotiation, and courtroom presence.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Legal Work by Automation Potential: What legal tasks can AI do? What requires human judgment? Create the hierarchy.', xp: 50},
                {mode: 'ideas', task: 'Research High-Value Legal Moments: When does human legal skill matter most? Negotiation, trial, deal-making, crisis. Identify the leverage points.', xp: 50},
                {mode: 'execution', task: 'Design a "Strategy-Only" Law Firm Model: No document work, no research. Pure strategy and presence. What does the firm look like?', xp: 55},
                {mode: 'ideas', task: 'Study Elite Negotiators: What makes great legal negotiators effective? Beyond knowledge to psychology and presence.', xp: 50},
                {mode: 'execution', task: 'Create a Legal Strategy Framework: Methodology for approaching high-stakes legal situations. The strategic playbook.', xp: 55},
                {mode: 'execution', task: 'Design "AI-Augmented Strategy" Workflow: How strategists use AI research to inform human judgment. The integration.', xp: 50},
                {mode: 'personality', task: 'Interview 5 Elite Litigators: What do they do that can\'t be automated? Extract the human value.', xp: 55},
                {mode: 'execution', task: 'Build a Client Communication System: High-touch client relationships for strategic matters. The service model.', xp: 50},
                {mode: 'execution', task: 'Create Pricing for Strategic Services: Value-based pricing for high-stakes legal strategy. Not hourly.', xp: 50},
                {mode: 'personality', task: 'Partner with AI Legal Tools: They handle automation. You handle strategy. Build the partnership.', xp: 55},
                {mode: 'execution', task: 'Design a "Human Counsel" Premium: Certification that strategic advice comes from experienced humans.', xp: 50},
                {mode: 'ideas', task: 'Predict the Associate Extinction: Write a 2032 headline about law firms eliminating junior associates. What replaced the training pipeline?', xp: 45}
            ]
        },
        {
            title: 'ðŸ¢ Legal Ops Automation Firms',
            mode: 'execution',
            description: 'Help law firms and legal departments implement AI automation. The system integrators of legal tech transformation.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map the Legal Tech Stack: What AI legal tools exist? Harvey, CoCounsel, Kira, Luminance. Create the landscape map.', xp: 50},
                {mode: 'ideas', task: 'Research Legal Department Pain Points: Where does legal spend the most time on low-value work? Contracts, compliance, discovery.', xp: 50},
                {mode: 'execution', task: 'Design a Legal Automation Assessment: Framework for evaluating a legal team\'s automation opportunities. The diagnostic.', xp: 55},
                {mode: 'execution', task: 'Create Implementation Playbooks: Step-by-step guides for implementing common legal AI tools.', xp: 55},
                {mode: 'ideas', task: 'Study Change Management in Legal: Lawyers are conservative. How do you drive adoption? Research what works.', xp: 50},
                {mode: 'execution', task: 'Build ROI Calculators: Tools that quantify the value of legal automation. Make the business case.', xp: 50},
                {mode: 'personality', task: 'Implement 3 Legal Automation Projects: Work with law firms or legal teams. Build case studies.', xp: 60},
                {mode: 'execution', task: 'Design Legal AI Training Programs: Teach lawyers to work with AI tools effectively. Curriculum.', xp: 50},
                {mode: 'execution', task: 'Create Integration Architectures: How legal AI tools connect with existing systems. Technical specs.', xp: 55},
                {mode: 'personality', task: 'Partner with Legal AI Vendors: They build tools. You implement them. Build the channel.', xp: 55},
                {mode: 'execution', task: 'Design Ongoing Optimization Services: Retainer for continuously improving legal automation.', xp: 50},
                {mode: 'ideas', task: 'Predict the Legal Tech Consolidation: Write a 2030 headline about legal tech winners. Who survived?', xp: 45}
            ]
        },
        {
            title: 'ðŸ“‹ Self-Serve Legal for SMBs',
            mode: 'execution',
            description: 'Small businesses can\'t afford lawyers but need legal help. AI-powered self-serve legal products for contracts, compliance, and common issues.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Map SMB Legal Needs: What legal issues do small businesses face? Contracts, employment, IP, compliance. Prioritize by frequency and pain.', xp: 45},
                {mode: 'ideas', task: 'Research Existing Self-Serve Legal: LegalZoom, Rocket Lawyer, Clerky. What works? What\'s missing? Find the gaps.', xp: 45},
                {mode: 'execution', task: 'Design a Contract Generation System: AI that creates customized contracts from simple inputs. Spec the product.', xp: 55},
                {mode: 'execution', task: 'Create "Legal Health Check" for SMBs: Assessment that identifies legal risks and gaps. Lead generation tool.', xp: 50},
                {mode: 'ideas', task: 'Study SMB Legal Buying Behavior: How do small businesses currently get legal help? What do they avoid? Why?', xp: 45},
                {mode: 'execution', task: 'Build Plain-English Legal Explanations: Translate legal concepts for non-lawyers. The content library.', xp: 45},
                {mode: 'execution', task: 'Design a Compliance Monitoring System: Automated tracking of regulatory requirements for SMBs. By industry.', xp: 55},
                {mode: 'personality', task: 'Test with 10 Small Businesses: Give them your self-serve tools. What\'s useful? What\'s confusing?', xp: 55},
                {mode: 'execution', task: 'Create Industry-Specific Packages: Legal templates for restaurants, agencies, e-commerce. Vertical focus.', xp: 50},
                {mode: 'execution', task: 'Design Escalation to Human Lawyers: When self-serve isn\'t enough, connect to attorneys. The hybrid model.', xp: 50},
                {mode: 'personality', task: 'Partner with Accountants or Bookkeepers: They serve SMBs who need legal. Build referral relationships.', xp: 55},
                {mode: 'ideas', task: 'Predict SMB Legal Transformation: Write a 2029 headline about small businesses handling legal without lawyers. What enabled it?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽ‰ EXPERIENCE ECONOMY GROWS - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'experience-economy-grows',
    title: 'Experience economy continues explosive growth',
    source: 'Consumer spending data, post-COVID trends, millennial/Gen-Z preferences',
    probability: 92,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'People want memories, not things. Those who can create transformative experiences win. Those selling commodities lose.',
    atRisk: 'Retailers focused on products, service businesses without experiential elements, anyone competing on price alone',
    opportunities: [
        {
            title: 'ðŸŽ¨ Experience Design Studios',
            mode: 'ideas',
            description: 'Designing memorable experiences for brands, venues, and events. The architects of transformation.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study Peak Experience Psychology: What makes experiences memorable? Peak-end rule, surprise, emotion, social sharing. Understand the science.', xp: 50},
                {mode: 'ideas', task: 'Analyze Great Experiences: Disney, Meow Wolf, Sleep No More, Secret Cinema. What makes them work? Deconstruct the elements.', xp: 50},
                {mode: 'execution', task: 'Create an Experience Design Framework: Methodology for designing memorable experiences. The creative process.', xp: 55},
                {mode: 'ideas', task: 'Map Experience Types: Entertainment, learning, transformation, escape, connection. Categorize the landscape.', xp: 45},
                {mode: 'execution', task: 'Design a "Memory Moment" Toolkit: Templates for creating peak moments within experiences. The building blocks.', xp: 50},
                {mode: 'execution', task: 'Build an Experience Brief Template: How to capture client needs for experience design. The discovery process.', xp: 45},
                {mode: 'personality', task: 'Design 3 Experiences: For brands, venues, or events. Create and document the designs.', xp: 55},
                {mode: 'execution', task: 'Create Experience Measurement: How do you know an experience worked? Metrics beyond attendance.', xp: 50},
                {mode: 'execution', task: 'Design Scalable Experience Formats: Experiences that can be replicated across locations. Franchisable.', xp: 55},
                {mode: 'personality', task: 'Partner with Event Agencies: They need experience design capability. Offer your services.', xp: 55},
                {mode: 'execution', task: 'Build a Portfolio of Experience Designs: Case studies showing your approach and results.', xp: 50},
                {mode: 'ideas', task: 'Predict the Experience Requirement: Write a 2030 headline about experiences becoming mandatory for brands. What made it essential?', xp: 45}
            ]
        },
        {
            title: 'ðŸ•ï¸ Micro-Retreats & Local Adventures',
            mode: 'execution',
            description: 'People want transformation but lack time and money for big trips. Micro-retreats â€” 2-hour to 2-day local experiences â€” fill the gap.',
            difficulty: 'easy',
            timeframe: '1-6 months',
            quests: [
                {mode: 'ideas', task: 'Research Micro-Retreat Demand: Who wants short transformative experiences? What are they looking for? Survey or interview 20 people.', xp: 45},
                {mode: 'ideas', task: 'Map Local Experience Opportunities: What transformative experiences could happen within 1 hour of your city? Underutilized spaces, activities.', xp: 45},
                {mode: 'execution', task: 'Design 5 Micro-Retreat Formats: 2-hour, half-day, full-day, overnight. Different themes and transformations.', xp: 55},
                {mode: 'execution', task: 'Create Venue Partnership Templates: Agreements with spaces that can host micro-retreats. Farms, studios, nature areas.', xp: 45},
                {mode: 'ideas', task: 'Study Successful Micro-Experiences: What local experiences already work? Escape rooms, cooking classes, sound baths. What makes them succeed?', xp: 45},
                {mode: 'execution', task: 'Build a Facilitator Training: How to lead transformative micro-experiences. The guide curriculum.', xp: 50},
                {mode: 'personality', task: 'Run 10 Micro-Retreats: Test your formats. Learn what sells, what transforms, what people share.', xp: 55},
                {mode: 'execution', task: 'Create Marketing for Local Experiences: How to reach people seeking local transformation. Channels and messaging.', xp: 45},
                {mode: 'execution', task: 'Design Corporate Micro-Retreats: Team experiences for companies. Different value proposition, higher prices.', xp: 50},
                {mode: 'personality', task: 'Build a Facilitator Network: Train others to run your formats. Scale beyond yourself.', xp: 55},
                {mode: 'execution', task: 'Create a Micro-Retreat Platform: Marketplace connecting seekers with local experiences.', xp: 55},
                {mode: 'ideas', task: 'Predict the Local Experience Boom: Write a 2028 headline about micro-retreats replacing traditional vacations. Why?', xp: 40}
            ]
        },
        {
            title: 'ðŸ¢ Corporate Offsites as Product',
            mode: 'execution',
            description: 'Remote companies need intentional gathering. Corporate offsites become a product category with specialized designers, venues, and facilitators.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Corporate Offsite Failures: What goes wrong? Bad venues, no agenda, too much work, not enough bonding. List the pitfalls.', xp: 45},
                {mode: 'ideas', task: 'Study Great Company Retreats: What do companies like Zapier, GitLab, Basecamp do? Analyze successful remote-company gatherings.', xp: 50},
                {mode: 'execution', task: 'Create an Offsite Design Framework: Methodology for designing effective team gatherings. The planning process.', xp: 55},
                {mode: 'execution', task: 'Build an Offsite Checklist: Everything from venue selection to follow-up. The comprehensive guide.', xp: 45},
                {mode: 'ideas', task: 'Map Offsite Types: Strategy, bonding, celebration, onboarding, crisis. Different gatherings need different designs.', xp: 45},
                {mode: 'execution', task: 'Design Facilitation Agendas: Templates for different offsite goals. Plug-and-play programming.', xp: 50},
                {mode: 'personality', task: 'Facilitate 5 Corporate Offsites: Run team gatherings. Build case studies and testimonials.', xp: 55},
                {mode: 'execution', task: 'Create Venue Evaluation Criteria: What makes a great offsite venue? Scoring system for selection.', xp: 45},
                {mode: 'execution', task: 'Design Remote-First Offsite Principles: What\'s different when the team is normally distributed? Specific considerations.', xp: 50},
                {mode: 'personality', task: 'Partner with Venues: Hotels, retreat centers, unique spaces. Build preferred relationships.', xp: 55},
                {mode: 'execution', task: 'Build an Offsite ROI Calculator: Prove the value of gathering to finance-minded executives.', xp: 50},
                {mode: 'ideas', task: 'Predict the Gathering Mandate: Write a 2029 headline about in-person gathering becoming required for remote teams. What happened?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ§  MENTAL HEALTH DEMAND EXCEEDS SUPPLY - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'mental-health-demand-crisis',
    title: 'Mental health demand far exceeds supply of providers',
    source: 'WHO data, therapist shortage statistics, youth mental health crisis',
    probability: 95,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'There aren\'t enough therapists. Period. Technology and new models must extend care to millions who can\'t access traditional therapy.',
    atRisk: 'Traditional private practice therapists competing on availability, mental health systems that don\'t scale, anyone ignoring the crisis',
    opportunities: [
        {
            title: 'ðŸ‘¥ Group Therapy & Cohort Programs',
            mode: 'execution',
            description: 'One therapist, eight clients. Group therapy scales while maintaining effectiveness. Building group programs for specific populations.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Group Therapy Effectiveness: When does group work better than individual? What conditions, populations, issues?', xp: 50},
                {mode: 'ideas', task: 'Study Successful Group Models: AA, DBT groups, support groups. What makes them work? Structure, facilitation, culture.', xp: 50},
                {mode: 'execution', task: 'Design a Group Therapy Format: 8-week cohort program for a specific issue. Curriculum, exercises, progression.', xp: 55},
                {mode: 'ideas', task: 'Identify Underserved Populations: Who can\'t access mental health care? New parents, shift workers, rural residents. Find the gaps.', xp: 45},
                {mode: 'execution', task: 'Create Facilitator Training: How to lead effective therapy groups. The clinical curriculum.', xp: 55},
                {mode: 'execution', task: 'Build Group Matching Systems: How do you put the right people together? Assessment and grouping methodology.', xp: 50},
                {mode: 'personality', task: 'Run 3 Pilot Groups: Test your format. Measure outcomes. Iterate based on feedback.', xp: 55},
                {mode: 'execution', task: 'Design Virtual Group Protocols: Online groups that maintain intimacy and effectiveness.', xp: 50},
                {mode: 'execution', task: 'Create Pricing for Group Programs: Make it accessible while sustainable. The economic model.', xp: 45},
                {mode: 'personality', task: 'Partner with Employers or Insurers: They want scalable mental health. Offer group solutions.', xp: 55},
                {mode: 'execution', task: 'Build a Group Program Marketplace: Platform connecting people to appropriate group programs.', xp: 55},
                {mode: 'ideas', task: 'Predict Group Therapy Mainstream: Write a 2030 headline about group therapy becoming primary care model. What changed?', xp: 45}
            ]
        },
        {
            title: 'ðŸ’ª Preventative Mental Fitness',
            mode: 'execution',
            description: 'Don\'t wait for crisis. Build mental fitness before problems emerge. The gym membership model for mental health.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Mental Fitness Concept: What does "mental fitness" mean? Resilience, emotional regulation, stress management. Define the domain.', xp: 45},
                {mode: 'ideas', task: 'Study Prevention Science: What interventions prevent mental health problems? Before crisis, not after.', xp: 50},
                {mode: 'execution', task: 'Create a Mental Fitness Assessment: Measure someone\'s baseline mental fitness. The diagnostic.', xp: 50},
                {mode: 'execution', task: 'Design a Mental Fitness Program: Daily/weekly practices that build mental strength. The workout routine for the mind.', xp: 55},
                {mode: 'ideas', task: 'Analyze the Peloton Model: How did fitness become subscription? Apply lessons to mental fitness.', xp: 45},
                {mode: 'execution', task: 'Build a Mental Fitness App Concept: Features, content, progression. The product specification.', xp: 55},
                {mode: 'personality', task: 'Pilot with 30 People: Run them through your mental fitness program. Measure outcomes.', xp: 55},
                {mode: 'execution', task: 'Create Corporate Mental Fitness: Workplace programs that build team mental fitness. B2B opportunity.', xp: 50},
                {mode: 'execution', task: 'Design Mental Fitness Metrics: How do you know it\'s working? Track and visualize progress.', xp: 45},
                {mode: 'personality', task: 'Partner with Gyms or Wellness Centers: They do physical fitness. Add mental. Build the relationship.', xp: 55},
                {mode: 'execution', task: 'Create Mental Fitness Certification: Train coaches to deliver mental fitness programs.', xp: 55},
                {mode: 'ideas', task: 'Predict Mental Fitness Mandate: Write a 2031 headline about mental fitness becoming required like physical fitness. What triggered it?', xp: 45}
            ]
        },
        {
            title: 'ðŸ¥ Therapist-Extender Tools',
            mode: 'execution',
            description: 'Help therapists see more patients effectively. AI triage, between-session support, supervision tools that extend each therapist\'s capacity.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Therapist Time Usage: What do therapists spend time on? Sessions, notes, admin, coordination. Find the time sinks.', xp: 45},
                {mode: 'ideas', task: 'Research AI in Mental Health: What tools exist? Woebot, Wysa, Talkspace. What works? What\'s missing?', xp: 50},
                {mode: 'execution', task: 'Design Between-Session Support: AI or human support between therapy sessions. Extends the therapeutic relationship.', xp: 55},
                {mode: 'execution', task: 'Create AI Triage for Therapy: System that assesses new patients and matches to appropriate care. Save therapist time.', xp: 55},
                {mode: 'ideas', task: 'Study Therapist Burnout: Why do therapists burn out? How can tools help with sustainability?', xp: 50},
                {mode: 'execution', task: 'Build Note-Taking Automation: AI that helps therapists with documentation. Save hours per week.', xp: 50},
                {mode: 'execution', task: 'Design Supervision Efficiency Tools: Help supervisors oversee more therapists effectively.', xp: 50},
                {mode: 'personality', task: 'Test with 5 Therapists: Give them your tools. Measure time saved, satisfaction, patient outcomes.', xp: 55},
                {mode: 'execution', task: 'Create Patient Progress Tracking: Dashboard that helps therapists monitor all patients between sessions.', xp: 50},
                {mode: 'personality', task: 'Partner with a Therapy Practice: Pilot your tools in a real clinical setting.', xp: 60},
                {mode: 'execution', task: 'Design Ethical Guidelines: What should AI do vs not do in mental health? Create responsible use framework.', xp: 50},
                {mode: 'ideas', task: 'Predict the Therapist Multiplier: Write a 2030 headline about therapists seeing 3x more patients with AI. How did it work?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽ“ COLLEGE ROI QUESTIONED - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'college-roi-questioned',
    title: 'College ROI increasingly questioned',
    source: 'Student debt data, alternative credential growth, employer hiring shifts',
    probability: 88,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'ideas',
    threatReason: 'When college costs $200K and AI can teach for free, the degree loses its monopoly. Those who build alternative paths win.',
    atRisk: 'Traditional universities slow to adapt, students blindly following the degree path, education debt-dependent businesses',
    opportunities: [
        {
            title: 'ðŸ› ï¸ Alternative Credential & Apprenticeships',
            mode: 'execution',
            description: 'Build the alternative to college. Apprenticeships, bootcamps, credentials that prove ability without the degree.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Alternative Credential Landscape: Bootcamps, certifications, apprenticeships, portfolios. What exists? What works?', xp: 45},
                {mode: 'ideas', task: 'Research Employer Acceptance: Which employers hire without degrees? What do they look for instead? Interview 10 hiring managers.', xp: 55},
                {mode: 'execution', task: 'Design an Apprenticeship Program: Structure for learning-while-earning. Curriculum, employer partnerships, progression.', xp: 55},
                {mode: 'ideas', task: 'Study Successful Non-Degree Paths: People who built great careers without college. What did they do instead?', xp: 45},
                {mode: 'execution', task: 'Create a "College Alternative" Guide: For high school students and parents. The decision framework.', xp: 50},
                {mode: 'execution', task: 'Build Employer Partnerships: Companies willing to hire from your alternative program. Create the pipeline.', xp: 55},
                {mode: 'personality', task: 'Place 10 People Without Degrees: Help non-college candidates get hired. Build case studies.', xp: 60},
                {mode: 'execution', task: 'Design Credential Stacking: How multiple smaller credentials add up to career readiness. The architecture.', xp: 50},
                {mode: 'execution', task: 'Create ROI Comparison Tools: Calculator showing college vs alternatives for specific careers.', xp: 45},
                {mode: 'personality', task: 'Partner with High Schools: Help students explore alternatives before defaulting to college.', xp: 55},
                {mode: 'execution', task: 'Build an Alternative Credential Platform: Marketplace connecting learners with non-degree programs.', xp: 55},
                {mode: 'ideas', task: 'Predict the College Reckoning: Write a 2032 headline about major universities closing. What replaced them?', xp: 50}
            ]
        },
        {
            title: 'ðŸ’¼ Employer-Led Training Pipelines',
            mode: 'execution',
            description: 'Companies train their own talent instead of requiring degrees. Building the infrastructure for employer-led education.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research Corporate Training History: When did companies train employees? What changed? Why did they outsource to colleges?', xp: 45},
                {mode: 'ideas', task: 'Study Successful Corporate Universities: AT&T, McDonald\'s Hamburger University, Google Career Certificates. What works?', xp: 50},
                {mode: 'execution', task: 'Design a "Hire to Train" Program: Structure where companies hire then train, instead of requiring pre-trained candidates.', xp: 55},
                {mode: 'ideas', task: 'Calculate the Economics: Is it cheaper to train internally or require degrees? Build the business case.', xp: 50},
                {mode: 'execution', task: 'Create Training Curriculum Templates: Modular training programs companies can customize. Building blocks.', xp: 55},
                {mode: 'execution', task: 'Design Assessment for Trainability: What predicts success in training programs? Better than degree screening.', xp: 50},
                {mode: 'personality', task: 'Convince 3 Companies to Try "Hire to Train": Pilot the model. Document results.', xp: 60},
                {mode: 'execution', task: 'Build Training Infrastructure: LMS, assessment, certification for employer-led education.', xp: 55},
                {mode: 'execution', task: 'Create Industry-Specific Programs: Training pipelines for tech, healthcare, trades. Vertical focus.', xp: 50},
                {mode: 'personality', task: 'Partner with Workforce Development: Government agencies funding job training. Access the resources.', xp: 55},
                {mode: 'execution', task: 'Design Career Progression Within Training: Not just entry-level. Ongoing development pathways.', xp: 50},
                {mode: 'ideas', task: 'Predict the Corporate University Boom: Write a 2030 headline about companies becoming primary educators. Why did this happen?', xp: 45}
            ]
        },
        {
            title: 'ðŸ“ Portfolio-First Career Accelerators',
            mode: 'personality',
            description: 'Build a portfolio, not a resume. Programs that help people create proof of work that gets them hired.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Study Portfolio-Based Hiring: Which fields hire on portfolio? Design, development, writing. What makes portfolios work?', xp: 45},
                {mode: 'ideas', task: 'Research Portfolio Requirements: What do employers actually want to see? Interview 10 hiring managers across fields.', xp: 50},
                {mode: 'execution', task: 'Create a Portfolio Development Curriculum: Structured program to build hire-worthy portfolios. The process.', xp: 55},
                {mode: 'execution', task: 'Design Portfolio Templates by Role: What should a PM portfolio include vs a marketer? Role-specific guidance.', xp: 50},
                {mode: 'ideas', task: 'Identify Portfolio-Friendly Projects: Real projects people can do to build portfolios. The project library.', xp: 45},
                {mode: 'execution', task: 'Build Portfolio Review System: Feedback mechanism to improve portfolios. Peer and expert review.', xp: 50},
                {mode: 'personality', task: 'Run a Portfolio Accelerator Cohort: 8 weeks to a job-ready portfolio. Test with 10 people.', xp: 55},
                {mode: 'execution', task: 'Create Portfolio-to-Job Pipelines: Connect people with strong portfolios to employers who value them.', xp: 55},
                {mode: 'execution', task: 'Design Portfolio Hosting: Platform optimized for showcasing work to employers. The portfolio infrastructure.', xp: 50},
                {mode: 'personality', task: 'Partner with Employers: Build relationships with companies that hire on portfolio.', xp: 55},
                {mode: 'execution', task: 'Create Portfolio Success Metrics: Track how portfolios lead to jobs. Prove the model.', xp: 45},
                {mode: 'ideas', task: 'Predict the Portfolio Standard: Write a 2029 headline about portfolios replacing resumes as hiring default. What drove the change?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ’° UBI EXPERIMENTS EXPAND - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'ubi-experiments-expand',
    title: 'Universal Basic Income experiments expand globally',
    source: 'Pilot program data, AI displacement projections, political momentum',
    probability: 75,
    timeframe: '2026-2030',
    category: 'work',
    threatMode: 'ideas',
    threatReason: 'When survival is guaranteed, purpose becomes the scarcity. Those who help people find meaning, contribution, and growth in a post-work world win.',
    atRisk: 'Businesses dependent on economic desperation, anyone whose pitch is "work or starve," institutions that assume employment equals purpose',
    opportunities: [
        {
            title: 'ðŸŽ¯ Purpose Economy Platforms',
            mode: 'personality',
            description: 'When income is guaranteed, people still need purpose. Platforms that connect people to meaningful projects, communities, and missions.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Purpose Psychology: What gives people meaning? Work, contribution, growth, connection. Study the literature.', xp: 50},
                {mode: 'ideas', task: 'Study Post-Retirement Purpose: How do retirees find meaning? What works, what fails? Lessons for UBI world.', xp: 45},
                {mode: 'execution', task: 'Design a Purpose Marketplace: Platform connecting people to meaningful projects that need help. Not jobs â€” missions.', xp: 55},
                {mode: 'ideas', task: 'Map Contribution Opportunities: What needs doing that isn\'t paid? Community projects, mentorship, care, creativity.', xp: 50},
                {mode: 'execution', task: 'Create a Purpose Assessment: Help people identify what gives them meaning. The diagnostic tool.', xp: 50},
                {mode: 'execution', task: 'Build Purpose-Finding Curriculum: Program that helps people discover and pursue meaningful contribution.', xp: 55},
                {mode: 'personality', task: 'Help 10 People Find Purpose: Work with unemployed or underemployed people. Test your approaches.', xp: 55},
                {mode: 'execution', task: 'Design Recognition Systems: How do you reward contribution when money isn\'t the currency? Status, impact, growth.', xp: 50},
                {mode: 'execution', task: 'Create Community Purpose Projects: Local initiatives that give people meaningful work. Replicable models.', xp: 50},
                {mode: 'personality', task: 'Partner with UBI Pilots: Work with existing basic income experiments. Provide purpose infrastructure.', xp: 60},
                {mode: 'execution', task: 'Build Purpose Metrics: How do you measure meaning and fulfillment? Create the assessment framework.', xp: 45},
                {mode: 'ideas', task: 'Predict the Purpose Crisis: Write a 2032 headline about widespread meaninglessness despite guaranteed income. What was missing?', xp: 50}
            ]
        },
        {
            title: 'ðŸ˜ï¸ Local Creator & Service Micro-Economies',
            mode: 'execution',
            description: 'UBI enables local economic experimentation. Neighborhood economies, time banks, local currencies, and hyperlocal services emerge.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Alternative Economies: Time banks, local currencies, mutual aid, gift economies. What exists? What works?', xp: 45},
                {mode: 'ideas', task: 'Study Successful Local Economies: Ithaca Hours, Bristol Pound, time banking networks. Analyze the models.', xp: 50},
                {mode: 'execution', task: 'Design a Neighborhood Economy: Framework for hyperlocal exchange â€” services, skills, goods. The blueprint.', xp: 55},
                {mode: 'execution', task: 'Create a Local Service Marketplace: Platform for neighbors to exchange services. Beyond TaskRabbit â€” community-first.', xp: 55},
                {mode: 'ideas', task: 'Map Underutilized Local Resources: What skills, tools, spaces exist in neighborhoods that aren\'t being shared?', xp: 45},
                {mode: 'execution', task: 'Build Time Banking Infrastructure: System for tracking and exchanging time-based contributions.', xp: 50},
                {mode: 'personality', task: 'Launch a Pilot in One Neighborhood: Test your local economy model. Document what works.', xp: 55},
                {mode: 'execution', task: 'Design Trust Systems for Local Exchange: How do neighbors build trust for economic exchange? Reputation, verification.', xp: 50},
                {mode: 'execution', task: 'Create Local Economy Starter Kits: Everything a neighborhood needs to launch their own micro-economy.', xp: 50},
                {mode: 'personality', task: 'Connect Local Economy Experiments: Build a network of neighborhoods trying this. Shared learnings.', xp: 55},
                {mode: 'execution', task: 'Design Local Currency Models: When and how local currencies make sense. The implementation guide.', xp: 50},
                {mode: 'ideas', task: 'Predict the Local Economy Renaissance: Write a 2030 headline about neighborhood economies booming. What enabled it?', xp: 45}
            ]
        },
        {
            title: 'ðŸ§˜ Mental Health & Meaning Infrastructure',
            mode: 'personality',
            description: 'Guaranteed income doesn\'t guarantee happiness. Mental health and meaning support becomes essential infrastructure for UBI societies.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Lottery Winner Psychology: What happens to people who get sudden unearned income? Mental health, purpose, relationships.', xp: 50},
                {mode: 'ideas', task: 'Study UBI Pilot Mental Health Data: What happened to participants\' wellbeing? Stress, purpose, social connection.', xp: 50},
                {mode: 'execution', task: 'Design UBI-Era Mental Health Programs: Support specifically for the challenges of guaranteed income. Unique needs.', xp: 55},
                {mode: 'ideas', task: 'Map the "Meaning Void" Risks: What psychological problems emerge when work isn\'t required? Depression, isolation, purposelessness.', xp: 50},
                {mode: 'execution', task: 'Create Transition Support Programs: Help people shift from work-defined identity to chosen purpose.', xp: 55},
                {mode: 'execution', task: 'Build Community Connection Systems: Combat isolation that could come from not having workplace community.', xp: 50},
                {mode: 'personality', task: 'Interview 20 Long-Term Unemployed: What are the mental health challenges? What helped? Learn from experience.', xp: 55},
                {mode: 'execution', task: 'Design Daily Structure Tools: Help people create productive routines without work requirements.', xp: 45},
                {mode: 'execution', task: 'Create Peer Support Networks: Connect people navigating UBI-era life challenges together.', xp: 50},
                {mode: 'personality', task: 'Partner with Mental Health Organizations: They\'ll need UBI-specific expertise. Build the relationship.', xp: 55},
                {mode: 'execution', task: 'Build "Life Design" Programs: Curriculum for creating fulfilling lives without traditional work.', xp: 55},
                {mode: 'ideas', task: 'Predict the Meaning Industry: Write a 2033 headline about purpose-finding becoming a major industry. What drove demand?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ  HOUSING AFFORDABILITY CRISIS - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'housing-affordability-crisis',
    title: 'Housing affordability crisis worsens in major metros',
    source: 'Housing cost data, wage stagnation, construction deficit',
    probability: 90,
    timeframe: 'Already happening',
    category: 'finance',
    threatMode: 'execution',
    threatReason: 'Traditional homeownership becomes impossible for most. Those who build alternative housing models, creative financing, and new ways to live win.',
    atRisk: 'Traditional real estate agents, mortgage-dependent businesses, anyone whose model assumes people can afford houses',
    opportunities: [
        {
            title: 'ðŸ˜ï¸ Alternative Housing Models',
            mode: 'execution',
            description: 'Co-living, modular housing, ADUs, tiny homes, manufactured housing. Building the infrastructure for housing that people can actually afford.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Alternative Housing Types: Co-living, modular, ADU, tiny home, manufactured. What exists? What\'s the economics of each?', xp: 50},
                {mode: 'ideas', task: 'Research Successful Alternative Housing: Which models actually work at scale? Common, Factory OS, Boxabl. Analyze the winners.', xp: 50},
                {mode: 'execution', task: 'Design a Co-Living Model: Shared housing for specific demographic. Layout, economics, community design.', xp: 55},
                {mode: 'ideas', task: 'Study Zoning and Regulatory Barriers: What prevents alternative housing? Where is it allowed? Map the opportunities.', xp: 50},
                {mode: 'execution', task: 'Create an ADU Development Guide: Step-by-step for homeowners to add units. Permits, financing, design.', xp: 50},
                {mode: 'execution', task: 'Build Alternative Housing Financial Models: How do investors, developers, and residents make these work?', xp: 55},
                {mode: 'personality', task: 'Interview 10 Alternative Housing Residents: What works? What\'s hard? What would make it better?', xp: 50},
                {mode: 'execution', task: 'Design a Modular Housing Product: Spec for factory-built housing that\'s affordable and attractive.', xp: 55},
                {mode: 'execution', task: 'Create a "Housing Innovation" Pitch Deck: For investors or municipalities. Make the case for alternative models.', xp: 50},
                {mode: 'personality', task: 'Partner with a Developer or Municipality: Pilot an alternative housing project. Build the case study.', xp: 60},
                {mode: 'execution', task: 'Build a Housing Model Comparison Tool: Help people evaluate which alternative housing fits them.', xp: 45},
                {mode: 'ideas', task: 'Predict Housing Model Shift: Write a 2032 headline about alternative housing becoming mainstream. What triggered adoption?', xp: 45}
            ]
        },
        {
            title: 'ðŸ’³ Rent-to-Own & Shared Equity Platforms',
            mode: 'execution',
            description: 'New financing models that let people build equity without traditional mortgages. Shared equity, rent-to-own, fractional ownership.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research Alternative Ownership Models: Rent-to-own, shared equity, land trusts, fractional ownership. How does each work?', xp: 50},
                {mode: 'ideas', task: 'Study Successful Programs: Divvy, Landed, Unison. What makes these models work? Where do they struggle?', xp: 50},
                {mode: 'execution', task: 'Design a Rent-to-Own Program: Structure, terms, protections for both parties. The complete model.', xp: 55},
                {mode: 'ideas', task: 'Map the Regulatory Landscape: What rules govern alternative ownership? Where is innovation possible?', xp: 45},
                {mode: 'execution', task: 'Create Shared Equity Agreements: Legal templates for shared ownership arrangements.', xp: 55},
                {mode: 'execution', task: 'Build ROI Calculators: Help people compare traditional mortgage vs alternative ownership paths.', xp: 50},
                {mode: 'personality', task: 'Interview 10 People Locked Out of Ownership: What would help them? What have they tried? Understand the need.', xp: 50},
                {mode: 'execution', task: 'Design Investor Structures: How do investors participate in shared equity? Returns, risks, liquidity.', xp: 55},
                {mode: 'execution', task: 'Create Consumer Education: Help people understand and evaluate alternative ownership options.', xp: 45},
                {mode: 'personality', task: 'Partner with a Housing Organization: Test your models with real homebuyers. Prove it works.', xp: 60},
                {mode: 'execution', task: 'Build a Matching Platform: Connect people who need alternative ownership with programs that offer it.', xp: 55},
                {mode: 'ideas', task: 'Predict Traditional Mortgage Decline: Write a 2030 headline about alternative ownership overtaking mortgages. What changed?', xp: 45}
            ]
        },
        {
            title: 'ðŸšš Remote Relocation Services',
            mode: 'execution',
            description: 'Help people escape expensive cities for affordable areas. Move optimization, remote work setup, community finding.',
            difficulty: 'easy',
            timeframe: '1-6 months',
            quests: [
                {mode: 'ideas', task: 'Map Affordable Markets: Where is housing affordable with good quality of life? Create a database of opportunity locations.', xp: 45},
                {mode: 'ideas', task: 'Research Relocation Barriers: Why don\'t more people move? Job, family, fear, logistics. Understand the friction.', xp: 45},
                {mode: 'execution', task: 'Create a "Should I Move?" Framework: Decision tool for evaluating relocation. Cost, quality of life, opportunity.', xp: 50},
                {mode: 'execution', task: 'Design a Relocation Package: End-to-end service for moving to an affordable area. What\'s included?', xp: 55},
                {mode: 'ideas', task: 'Study Remote Work Requirements: What do people need to work remotely from a new location? Infrastructure, setup.', xp: 45},
                {mode: 'execution', task: 'Build Location Comparison Tools: Side-by-side comparison of cost of living, amenities, community.', xp: 50},
                {mode: 'personality', task: 'Help 5 People Relocate: Guide them through the process. Document what works, what\'s hard.', xp: 55},
                {mode: 'execution', task: 'Create Community Finding Services: Help relocators find their people in new cities. The social infrastructure.', xp: 50},
                {mode: 'execution', task: 'Design "Trial Living" Programs: Try a city before committing. Short-term stays with community integration.', xp: 50},
                {mode: 'personality', task: 'Partner with Affordable Cities: They want to attract remote workers. Build the relationship.', xp: 55},
                {mode: 'execution', task: 'Build a Relocation Community: Connect people who\'ve moved with people considering it. Peer support.', xp: 50},
                {mode: 'ideas', task: 'Predict the Urban Exodus: Write a 2029 headline about mass migration from expensive cities. What triggered it?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ’¼ GIG/FREELANCE BECOMES DOMINANT - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'gig-freelance-dominant',
    title: 'Gig and freelance work becomes dominant for 50%+ of workers',
    source: 'Labor statistics, platform growth, corporate cost-cutting',
    probability: 72,
    timeframe: '2030-2035',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Employment becomes a minority arrangement. Those who build infrastructure for independent workers â€” benefits, finance, community â€” win.',
    atRisk: 'Traditional employers competing for talent, HR departments, anyone whose model assumes employees',
    opportunities: [
        {
            title: 'ðŸ¥ Benefits & Insurance for Independents',
            mode: 'execution',
            description: 'Freelancers need health insurance, retirement, disability â€” all the things employees get. Building the benefits infrastructure for independents.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Freelancer Benefits Gaps: What benefits do freelancers lack? Health, retirement, disability, parental leave. Quantify the problem.', xp: 50},
                {mode: 'ideas', task: 'Research Existing Solutions: Freelancers Union, Catch, Stride. What exists? What\'s missing? Find the gaps.', xp: 50},
                {mode: 'execution', task: 'Design a Freelancer Benefits Bundle: Package of essential benefits for independent workers. What\'s included, how it works.', xp: 55},
                {mode: 'ideas', task: 'Study Benefits Portability: How can benefits move with workers across gigs? The infrastructure challenge.', xp: 50},
                {mode: 'execution', task: 'Create a Benefits Comparison Tool: Help freelancers evaluate and choose benefits options.', xp: 45},
                {mode: 'execution', task: 'Build Group Buying Power: Aggregate freelancers for better insurance rates. The collective model.', xp: 55},
                {mode: 'personality', task: 'Interview 20 Freelancers About Benefits: What do they have? What do they need? What would they pay?', xp: 50},
                {mode: 'execution', task: 'Design Retirement Solutions: How do freelancers save for retirement without employer 401k? Create the product.', xp: 55},
                {mode: 'execution', task: 'Create Emergency Safety Nets: Disability, illness, income gaps. Insurance products for freelance risks.', xp: 55},
                {mode: 'personality', task: 'Partner with Insurance Companies: They need freelancer distribution. Build the relationship.', xp: 55},
                {mode: 'execution', task: 'Build a Freelancer Benefits Platform: One-stop shop for independent worker benefits.', xp: 55},
                {mode: 'ideas', task: 'Predict Portable Benefits Law: Write a 2031 headline about legislation requiring portable benefits. What triggered it?', xp: 45}
            ]
        },
        {
            title: 'ðŸ’° Freelancer Finance Tooling',
            mode: 'execution',
            description: 'Freelancer finances are complex â€” variable income, quarterly taxes, no payroll. Building the financial operating system for independents.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Map Freelancer Financial Pain Points: Irregular income, tax complexity, no benefits, cash flow. List all the challenges.', xp: 45},
                {mode: 'ideas', task: 'Research Existing Tools: Quickbooks Self-Employed, Bonsai, Cushion. What works? What\'s missing?', xp: 45},
                {mode: 'execution', task: 'Design an Income Smoothing System: Turn variable freelance income into predictable monthly pay. The product.', xp: 55},
                {mode: 'execution', task: 'Create Tax Automation: Quarterly estimates, deduction tracking, year-end prep. Seamless tax management.', xp: 55},
                {mode: 'ideas', task: 'Study Freelancer Cash Flow Patterns: When does money come in? When do expenses hit? Understand the rhythm.', xp: 45},
                {mode: 'execution', task: 'Build Emergency Fund Automation: Automatically save for income gaps. The safety net feature.', xp: 50},
                {mode: 'personality', task: 'Test with 10 Freelancers: Give them your tools. What helps? What confuses?', xp: 55},
                {mode: 'execution', task: 'Design Retirement Auto-Contribution: Set and forget retirement saving for variable income. The mechanism.', xp: 50},
                {mode: 'execution', task: 'Create Invoice and Payment Optimization: Get paid faster, manage late payers. Cash flow management.', xp: 50},
                {mode: 'personality', task: 'Partner with Freelance Platforms: Upwork, Fiverr, Toptal. Offer financial tools to their users.', xp: 55},
                {mode: 'execution', task: 'Build a Freelancer Financial Dashboard: All income, expenses, taxes, savings in one view.', xp: 55},
                {mode: 'ideas', task: 'Predict Freelancer Finance Becoming Category: Write a 2029 headline about freelancer fintech becoming huge. What drove growth?', xp: 45}
            ]
        },
        {
            title: 'ðŸ¤ Reputation & Trust for Hiring',
            mode: 'execution',
            description: 'How do you trust a freelancer you\'ve never worked with? Reputation systems, verification, and trust infrastructure for the gig economy.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Trust Signals for Freelancers: What indicates a good freelancer? Reviews, portfolio, credentials, referrals. List all signals.', xp: 45},
                {mode: 'ideas', task: 'Research Platform Reputation Systems: Upwork, Airbnb, eBay. How do they build trust? What works?', xp: 50},
                {mode: 'execution', task: 'Design a Portable Reputation System: Reputation that follows freelancers across platforms. The standard.', xp: 55},
                {mode: 'ideas', task: 'Study Reputation Gaming: How do people fake reviews and credentials? Design defenses.', xp: 50},
                {mode: 'execution', task: 'Create Verification Services: Background checks, skill verification, identity confirmation for freelancers.', xp: 55},
                {mode: 'execution', task: 'Build Reference Collection Systems: Automated way to gather and verify client references.', xp: 50},
                {mode: 'personality', task: 'Interview 10 Hiring Managers: What makes them trust freelancers? What are their concerns?', xp: 50},
                {mode: 'execution', task: 'Design Work Sample Verification: Prove that portfolio pieces are actually the freelancer\'s work.', xp: 55},
                {mode: 'execution', task: 'Create a "Trusted Freelancer" Credential: Rigorous verification that means something. Premium trust.', xp: 55},
                {mode: 'personality', task: 'Partner with Freelance Platforms: Offer trust infrastructure. Build the relationships.', xp: 55},
                {mode: 'execution', task: 'Build a Trust Graph: Network of verified relationships and successful projects. Social proof at scale.', xp: 55},
                {mode: 'ideas', task: 'Predict Trust Becoming Currency: Write a 2030 headline about reputation scores determining freelancer rates. What happened?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ“´ DIGITAL DETOX & OFFLINE EXPERIENCES - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'digital-detox-grows',
    title: 'Digital detox and offline experiences grow significantly',
    source: 'Screen time backlash, mental health awareness, wellness trends',
    probability: 85,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'Constant connectivity becomes recognized as harmful. Those who provide genuine offline experiences, analog products, and digital boundaries win.',
    atRisk: 'Businesses dependent on screen time, social media companies, anyone whose model is more engagement',
    opportunities: [
        {
            title: 'ðŸ•ï¸ Screen-Free Retreats & Experiences',
            mode: 'execution',
            description: 'Vacations and experiences where phones are literally not allowed. Premium offline time as a luxury product.',
            difficulty: 'easy',
            timeframe: '1-6 months',
            quests: [
                {mode: 'ideas', task: 'Research Screen-Free Retreat Market: Who\'s doing this? Camp Grounded, Digital Detox retreats. What works?', xp: 45},
                {mode: 'ideas', task: 'Study the Psychology of Disconnection: What happens when people unplug? Withdrawal, then what? Understand the journey.', xp: 50},
                {mode: 'execution', task: 'Design a Screen-Free Retreat: Format, activities, rules, duration. The complete experience design.', xp: 55},
                {mode: 'ideas', task: 'Identify the Target Customer: Who pays for digital detox? Executives, parents, burned-out professionals. Profile them.', xp: 45},
                {mode: 'execution', task: 'Create Device Collection Protocols: How do you actually get people to give up phones? The logistics of disconnection.', xp: 45},
                {mode: 'execution', task: 'Design Analog Activities: What do people do without screens? Crafts, conversation, nature, games. The programming.', xp: 50},
                {mode: 'personality', task: 'Run 3 Pilot Retreats: Test your format. Get feedback. Iterate.', xp: 55},
                {mode: 'execution', task: 'Build Re-Entry Support: Help people maintain boundaries after the retreat ends. The lasting change.', xp: 50},
                {mode: 'execution', task: 'Create Corporate Digital Detox: Team retreats focused on disconnecting. B2B opportunity.', xp: 50},
                {mode: 'personality', task: 'Partner with Retreat Centers: They have venues. You have the program. Build relationships.', xp: 55},
                {mode: 'execution', task: 'Design Tiered Offerings: Weekend, week-long, intensive. Different depths of disconnection.', xp: 50},
                {mode: 'ideas', task: 'Predict Digital Detox Mainstream: Write a 2029 headline about screen-free vacations becoming standard. What drove adoption?', xp: 45}
            ]
        },
        {
            title: 'ðŸŽ¨ Analog Clubs & Craft Communities',
            mode: 'personality',
            description: 'Book clubs, knitting circles, woodworking groups, board game nights. In-person communities centered on non-digital activities.',
            difficulty: 'easy',
            timeframe: '1-6 months',
            quests: [
                {mode: 'ideas', task: 'Map Analog Activities: What do people do offline? Crafts, sports, games, reading, cooking. List the categories.', xp: 40},
                {mode: 'ideas', task: 'Research Successful Analog Communities: What makes a great book club, craft circle, or maker space? The success factors.', xp: 45},
                {mode: 'execution', task: 'Design an Analog Club Format: Structure, frequency, activities, membership. The blueprint for community.', xp: 50},
                {mode: 'execution', task: 'Create "Club in a Box" Kits: Everything someone needs to start an analog club. Materials, guides, templates.', xp: 50},
                {mode: 'ideas', task: 'Identify Underserved Analog Interests: What activities lack community? Where\'s the demand without supply?', xp: 45},
                {mode: 'personality', task: 'Start 3 Analog Clubs: Test different formats. Learn what works, what struggles.', xp: 55},
                {mode: 'execution', task: 'Build a Club Finding Platform: Help people find analog communities near them. The directory.', xp: 50},
                {mode: 'execution', task: 'Design Intergenerational Formats: Connect young and old through analog activities. Bridge the digital divide.', xp: 50},
                {mode: 'execution', task: 'Create Club Leader Training: Help people start and run thriving analog communities.', xp: 50},
                {mode: 'personality', task: 'Partner with Libraries or Community Centers: They have space and want programming. Build relationships.', xp: 55},
                {mode: 'execution', task: 'Design Revenue Models for Clubs: How do analog communities sustain themselves? Membership, events, supplies.', xp: 45},
                {mode: 'ideas', task: 'Predict the Analog Renaissance: Write a 2030 headline about analog activities booming. What triggered the return?', xp: 45}
            ]
        },
        {
            title: 'ðŸ“µ Digital Boundary Coaching',
            mode: 'personality',
            description: 'Help people set and maintain healthy digital boundaries. Screen time management, notification control, intentional technology use.',
            difficulty: 'easy',
            timeframe: '1-6 months',
            quests: [
                {mode: 'ideas', task: 'Research Digital Wellness: What does healthy technology use look like? Screen time research, attention studies.', xp: 45},
                {mode: 'ideas', task: 'Map Digital Boundary Challenges: Why is it hard to disconnect? Addiction, FOMO, work expectations. Understand the barriers.', xp: 45},
                {mode: 'execution', task: 'Create a Digital Audit Tool: Assessment of someone\'s current technology habits. The diagnostic.', xp: 50},
                {mode: 'execution', task: 'Design a "Digital Boundaries" Program: Structured approach to healthier tech use. The coaching curriculum.', xp: 55},
                {mode: 'ideas', task: 'Study Successful Habit Changers: How do people actually change digital habits? What interventions work?', xp: 45},
                {mode: 'execution', task: 'Build Accountability Systems: How do you help people stick to digital boundaries? The support structure.', xp: 50},
                {mode: 'personality', task: 'Coach 10 People on Digital Boundaries: Apply your method. Learn what works, what fails.', xp: 55},
                {mode: 'execution', task: 'Create Corporate Digital Wellness: Help companies set healthy digital culture. B2B opportunity.', xp: 50},
                {mode: 'execution', task: 'Design Family Digital Agreements: Frameworks for families to set shared technology rules.', xp: 45},
                {mode: 'execution', task: 'Build a Digital Boundary App: Ironic, but tools that help enforce disconnection. The product.', xp: 50},
                {mode: 'personality', task: 'Partner with Wellness Programs: They need digital health expertise. Offer your services.', xp: 55},
                {mode: 'ideas', task: 'Predict Digital Hygiene Becoming Standard: Write a 2028 headline about digital boundaries becoming like dental hygiene. What happened?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ”§ SKILLED TRADES COMMAND PREMIUM - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'skilled-trades-premium',
    title: 'Skilled trades command premium as supply shrinks',
    source: 'Trade shortage data, demographic trends, wage growth in trades',
    probability: 92,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Everyone went to college, no one became a plumber. Skilled trades become scarce and expensive. Those who train, organize, or support tradespeople win.',
    atRisk: 'Homeowners needing repairs, businesses needing construction, anyone competing for trade labor',
    opportunities: [
        {
            title: 'ðŸŽ“ Modern Trade Training Schools',
            mode: 'execution',
            description: 'Trade schools redesigned for the modern era. Shorter programs, better marketing, career support, and modern apprenticeships.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research Trade Training Gap: What\'s the shortage? Electricians, plumbers, HVAC. Quantify the demand vs supply.', xp: 50},
                {mode: 'ideas', task: 'Study Successful Trade Programs: What makes apprenticeships work? Germany\'s system, union programs. Analyze the models.', xp: 50},
                {mode: 'execution', task: 'Design a Modern Apprenticeship: Paid learning, mentorship, credentials. The updated model.', xp: 55},
                {mode: 'ideas', task: 'Understand Trade Training Barriers: Why don\'t more people enter trades? Stigma, awareness, cost. Solve the barriers.', xp: 50},
                {mode: 'execution', task: 'Create Trade Career Marketing: Make trades appealing to young people. Counter the "college for everyone" message.', xp: 50},
                {mode: 'execution', task: 'Build Employer Partnerships: Companies that need tradespeople and will hire graduates. Create the pipeline.', xp: 55},
                {mode: 'personality', task: 'Interview 10 Successful Tradespeople: How did they learn? What would they tell young people? Gather stories.', xp: 50},
                {mode: 'execution', task: 'Design Short-Form Trade Training: Accelerated programs for career changers. Faster paths to earning.', xp: 55},
                {mode: 'execution', task: 'Create Financial Models: Show the ROI of trade careers vs college. Make the economic case.', xp: 45},
                {mode: 'personality', task: 'Partner with High Schools: Introduce trade paths before everyone defaults to college.', xp: 55},
                {mode: 'execution', task: 'Build a Trade Career Platform: Connect aspiring tradespeople with training, apprenticeships, and jobs.', xp: 55},
                {mode: 'ideas', task: 'Predict the Trade Prestige Shift: Write a 2030 headline about trades becoming aspirational careers. What changed?', xp: 45}
            ]
        },
        {
            title: 'ðŸ’¼ Trade Business Operations',
            mode: 'execution',
            description: 'Plumbers are great at plumbing, terrible at running businesses. Provide the back-office, scheduling, and growth tools trades businesses need.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Map Trade Business Pain Points: What\'s hard about running a trade business? Scheduling, invoicing, hiring, marketing.', xp: 45},
                {mode: 'ideas', task: 'Research Existing Solutions: Jobber, Housecall Pro, ServiceTitan. What\'s good? What\'s missing?', xp: 45},
                {mode: 'execution', task: 'Create a Trade Business Starter Kit: Everything a tradesperson needs to run the business side. Tools, templates, systems.', xp: 55},
                {mode: 'execution', task: 'Design Scheduling Optimization: Help trade businesses fit more jobs in less time. Efficiency tools.', xp: 50},
                {mode: 'ideas', task: 'Study Trade Business Failures: Why do trade businesses fail? Identify the operational killers.', xp: 45},
                {mode: 'execution', task: 'Build a Trade Business Dashboard: All the metrics a trade business owner needs in one place.', xp: 50},
                {mode: 'personality', task: 'Consult for 5 Trade Businesses: Help them improve operations. Build case studies.', xp: 55},
                {mode: 'execution', task: 'Create Hiring Systems for Trades: Help trade businesses find and vet employees. The recruitment toolkit.', xp: 50},
                {mode: 'execution', task: 'Design Marketing for Trade Businesses: Local SEO, reviews, referrals. Growth without complexity.', xp: 50},
                {mode: 'personality', task: 'Partner with Trade Associations: They have members who need help. Build the relationship.', xp: 55},
                {mode: 'execution', task: 'Build a Fractional COO Service: Ongoing operations support for trade businesses. Retainer model.', xp: 55},
                {mode: 'ideas', task: 'Predict Trade Business Professionalization: Write a 2029 headline about trade businesses becoming sophisticated. What enabled it?', xp: 45}
            ]
        },
        {
            title: 'â­ Premium Home Services Brands',
            mode: 'personality',
            description: 'Build the "Apple" of home services. Premium trade services with consistent quality, transparent pricing, and great customer experience.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research Premium Service Models: What makes a service feel premium? Luxury hotels, high-end retail. Extract the principles.', xp: 50},
                {mode: 'ideas', task: 'Study Home Services Frustrations: Why do people hate dealing with contractors? Pricing, reliability, communication. List the pain.', xp: 50},
                {mode: 'execution', task: 'Design Premium Service Standards: What does a "luxury" plumber look like? Uniforms, communication, cleanliness. The spec.', xp: 55},
                {mode: 'execution', task: 'Create Transparent Pricing Models: Fixed prices for common jobs. End the mystery of "I\'ll give you an estimate."', xp: 50},
                {mode: 'execution', task: 'Build a Service Guarantee: What do you promise? On-time, satisfaction, warranty. Design the guarantee.', xp: 50},
                {mode: 'personality', task: 'Test Premium Positioning with 10 Customers: Charge more, deliver more. Does it work? What do they value?', xp: 55},
                {mode: 'execution', task: 'Design Customer Communication Systems: Updates, scheduling, follow-up. Professional client experience.', xp: 50},
                {mode: 'execution', task: 'Create Tradesperson Training: Teach tradespeople to deliver premium service. The upskilling program.', xp: 55},
                {mode: 'execution', task: 'Build Brand Identity: Name, look, values for a premium home services brand.', xp: 50},
                {mode: 'personality', task: 'Recruit Premium Tradespeople: Find tradespeople who want to deliver exceptional service. Build the team.', xp: 55},
                {mode: 'execution', task: 'Design Franchise or Licensing Model: Scale premium service beyond one market.', xp: 55},
                {mode: 'ideas', task: 'Predict the Premium Trades Explosion: Write a 2030 headline about luxury home services becoming a category. What happened?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ½ï¸ RESTAURANT AUTOMATION - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'restaurant-automation-mainstream',
    title: 'Restaurant automation becomes mainstream',
    source: 'Labor costs, robot deployment data, QSR investments',
    probability: 78,
    timeframe: '2026-2028',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Robots flip burgers and AI takes orders. Human restaurant value shifts to hospitality, experience, and high-touch service that machines can\'t replicate.',
    atRisk: 'Fast food workers, QSR franchisees slow to automate, anyone whose value is speed not experience',
    opportunities: [
        {
            title: 'ðŸ‘¨â€ðŸ³ High-Touch Human Service Premium Dining',
            mode: 'personality',
            description: 'When fast food is automated, human service becomes luxury. Restaurants where the human interaction IS the product.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Human Service Value: What do humans provide that robots can\'t? Warmth, personality, surprise, care. Define the value.', xp: 50},
                {mode: 'ideas', task: 'Study High-Touch Hospitality: Great restaurants, Japanese service, luxury hotels. What makes human service special?', xp: 50},
                {mode: 'execution', task: 'Design a Human-First Restaurant Concept: Where the staff interaction is central to the experience. The vision.', xp: 55},
                {mode: 'ideas', task: 'Identify Service Moments That Matter: When does human touch transform a meal? Greeting, recommendation, problem-solving.', xp: 45},
                {mode: 'execution', task: 'Create Service Training for Human Premium: Teach hospitality skills that robots can\'t replicate.', xp: 55},
                {mode: 'execution', task: 'Design "Anti-Automation" Branding: How do you market human service as a feature? The positioning.', xp: 50},
                {mode: 'personality', task: 'Interview 10 Diners About Service: What service moments do they remember? What would they pay more for?', xp: 50},
                {mode: 'execution', task: 'Build a Service Excellence Playbook: Replicable systems for delivering exceptional human hospitality.', xp: 50},
                {mode: 'execution', task: 'Design Pricing for Human Premium: How much more will people pay for human service? Test the elasticity.', xp: 50},
                {mode: 'personality', task: 'Partner with Restaurant Operators: Help them differentiate on human service. Consulting opportunity.', xp: 55},
                {mode: 'execution', task: 'Create a "Human Hospitality" Certification: Verify restaurants that prioritize human connection.', xp: 50},
                {mode: 'ideas', task: 'Predict the Human Service Premium: Write a 2030 headline about human-served restaurants becoming luxury. What drove it?', xp: 45}
            ]
        },
        {
            title: 'ðŸ¤– Restaurant Automation Integration',
            mode: 'execution',
            description: 'Help restaurants implement automation effectively. The system integrators of robot kitchens and AI ordering.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Restaurant Automation Tech: Cooking robots, AI ordering, automated inventory. What\'s available? What\'s coming?', xp: 50},
                {mode: 'ideas', task: 'Research Successful Automation: Which restaurants have automated well? Sweetgreen, Chipotle. Analyze implementations.', xp: 50},
                {mode: 'execution', task: 'Create an Automation Readiness Assessment: What makes a restaurant ready for automation? The diagnostic.', xp: 55},
                {mode: 'execution', task: 'Design Integration Playbooks: Step-by-step for implementing common automation systems.', xp: 55},
                {mode: 'ideas', task: 'Study Automation Failures: What goes wrong? Technology, staff, customer reaction. Learn from mistakes.', xp: 50},
                {mode: 'execution', task: 'Build ROI Calculators: Help restaurants evaluate automation investments. Make the business case.', xp: 50},
                {mode: 'personality', task: 'Help 3 Restaurants Automate: Hands-on implementation. Build case studies.', xp: 60},
                {mode: 'execution', task: 'Create Staff Transition Programs: Help restaurant workers adapt to automated environments.', xp: 50},
                {mode: 'execution', task: 'Design Hybrid Human-Robot Workflows: How do humans and machines work together in restaurants?', xp: 55},
                {mode: 'personality', task: 'Partner with Automation Vendors: They need implementation help. Build relationships.', xp: 55},
                {mode: 'execution', task: 'Build a Restaurant Automation Consultancy: Ongoing service for restaurants implementing technology.', xp: 55},
                {mode: 'ideas', task: 'Predict Full Automation Threshold: Write a 2029 headline about the first fully automated restaurant chain. What was the tipping point?', xp: 45}
            ]
        },
        {
            title: 'ðŸ  Ghost Kitchen Brand Studios',
            mode: 'execution',
            description: 'Delivery-only restaurants need great brands, not great locations. Creating virtual restaurant brands optimized for delivery.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Ghost Kitchen Landscape: Who\'s succeeding? CloudKitchens, Kitchen United, virtual brands. Analyze the market.', xp: 45},
                {mode: 'ideas', task: 'Study Virtual Brand Success Factors: What makes a delivery-only brand work? Menu, packaging, positioning.', xp: 50},
                {mode: 'execution', task: 'Create a Virtual Brand Development Framework: Process for creating ghost kitchen brands from concept to launch.', xp: 55},
                {mode: 'execution', task: 'Design Delivery-Optimized Menus: Food that travels well, photographs well, and has good margins.', xp: 50},
                {mode: 'ideas', task: 'Analyze Delivery Platform Dynamics: How do Uber Eats, DoorDash algorithms work? Optimize for visibility.', xp: 50},
                {mode: 'execution', task: 'Build Brand Identity Systems: Logos, packaging, photography for virtual restaurants.', xp: 50},
                {mode: 'personality', task: 'Launch 3 Virtual Brands: Create and test ghost kitchen concepts. Learn what works.', xp: 55},
                {mode: 'execution', task: 'Create Kitchen Efficiency Designs: Layouts and workflows for ghost kitchen operations.', xp: 50},
                {mode: 'execution', task: 'Design Multi-Brand Kitchen Models: One kitchen, multiple delivery brands. Operational complexity.', xp: 55},
                {mode: 'personality', task: 'Partner with Ghost Kitchen Operators: They need brands to fill capacity. Build relationships.', xp: 55},
                {mode: 'execution', task: 'Build a Virtual Brand Portfolio: Multiple brands you own or license to operators.', xp: 55},
                {mode: 'ideas', task: 'Predict Ghost Kitchen Consolidation: Write a 2028 headline about virtual restaurant brand winners. Who dominated?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ‘ï¸ AI SURVEILLANCE EXPANDS - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'ai-surveillance-expands',
    title: 'AI surveillance expands significantly in democratic countries',
    source: 'Government AI adoption, corporate surveillance tools, privacy erosion trends',
    probability: 80,
    timeframe: '2026-2030',
    category: 'ai',
    threatMode: 'personality',
    threatReason: 'Privacy becomes a luxury, not a right. Those who help people protect their privacy, manage their digital footprint, and navigate surveillance win.',
    atRisk: 'Anyone with something to hide, activists, journalists, people who value privacy, anyone who thinks "I have nothing to hide"',
    opportunities: [
        {
            title: 'ðŸ”’ Privacy-as-Luxury Products',
            mode: 'execution',
            description: 'Secure devices, private communications, anti-tracking tools. Privacy becomes a premium product for those who can afford it.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Privacy Threat Landscape: What data is collected? By whom? How is it used? Create a comprehensive threat model.', xp: 50},
                {mode: 'ideas', task: 'Research Privacy Tools: Signal, ProtonMail, VPNs, Faraday bags. What exists? What\'s the UX like?', xp: 45},
                {mode: 'execution', task: 'Design a "Privacy Stack" for Consumers: Complete toolkit for protecting privacy. Devices, software, practices.', xp: 55},
                {mode: 'ideas', task: 'Study Privacy Buyer Psychology: Who pays for privacy? What do they fear? Understand the customer.', xp: 50},
                {mode: 'execution', task: 'Create Privacy Setup Services: Help people implement privacy tools. The white-glove onboarding.', xp: 50},
                {mode: 'execution', task: 'Build a Privacy Score Assessment: Measure someone\'s current privacy posture. The diagnostic.', xp: 50},
                {mode: 'personality', task: 'Help 10 Clients Implement Privacy: Set up comprehensive privacy protection. Document the process.', xp: 55},
                {mode: 'execution', task: 'Design Privacy-First Products: Devices and services built for privacy. Product specifications.', xp: 55},
                {mode: 'execution', task: 'Create Enterprise Privacy Programs: Help companies protect employee and customer privacy.', xp: 55},
                {mode: 'personality', task: 'Partner with Security Companies: They have privacy-conscious clients. Build relationships.', xp: 55},
                {mode: 'execution', task: 'Build a Privacy Subscription Service: Ongoing privacy management and updates.', xp: 50},
                {mode: 'ideas', task: 'Predict Privacy Becoming Luxury: Write a 2030 headline about privacy being only for the rich. What happened?', xp: 50}
            ]
        },
        {
            title: 'ðŸŽ­ Reputation & Footprint Management',
            mode: 'personality',
            description: 'Manage your digital footprint in a surveillance world. What\'s findable, what\'s not, what narrative does the data tell?',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Map the Digital Footprint: What data exists about a typical person? Social, financial, location, communication. Audit the trail.', xp: 45},
                {mode: 'ideas', task: 'Research Reputation Management: What do PR firms do for celebrities? What translates to regular people?', xp: 45},
                {mode: 'execution', task: 'Create a Digital Footprint Audit: Process for discovering what\'s findable about someone online.', xp: 50},
                {mode: 'execution', task: 'Design Footprint Reduction Strategies: How to minimize digital trail. Data deletion, account removal, privacy settings.', xp: 55},
                {mode: 'ideas', task: 'Study Data Broker Landscape: Who has your data? How do you get removed? Map the industry.', xp: 50},
                {mode: 'execution', task: 'Build Data Removal Services: Systematically remove data from brokers and databases.', xp: 55},
                {mode: 'personality', task: 'Audit 10 Clients\' Digital Footprints: Find what exists. Help them decide what to address.', xp: 55},
                {mode: 'execution', task: 'Create Positive Footprint Strategies: Not just removing bad, but building the narrative you want.', xp: 50},
                {mode: 'execution', task: 'Design Ongoing Monitoring: Alert when new data appears. Continuous reputation protection.', xp: 50},
                {mode: 'personality', task: 'Partner with HR Departments: They care about employee digital footprints. Offer services.', xp: 55},
                {mode: 'execution', task: 'Build a Footprint Management Platform: Tools for monitoring and managing digital presence.', xp: 55},
                {mode: 'ideas', task: 'Predict Footprint Scoring: Write a 2029 headline about employers using digital footprint scores. What are the implications?', xp: 45}
            ]
        },
        {
            title: 'ðŸ‘ï¸ Civic Oversight & Transparency Tools',
            mode: 'ideas',
            description: 'Watching the watchers. Tools and organizations that monitor government and corporate surveillance and advocate for privacy rights.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map Surveillance Programs: What surveillance exists? Government, corporate, local. Document what\'s known.', xp: 50},
                {mode: 'ideas', task: 'Study Privacy Advocacy History: ACLU, EFF, Privacy International. What tactics work for protecting rights?', xp: 50},
                {mode: 'execution', task: 'Create Surveillance Transparency Tools: Make surveillance visible to ordinary people. Dashboards, reports.', xp: 55},
                {mode: 'ideas', task: 'Research FOIA and Transparency Laws: What information can be requested? How to use legal tools.', xp: 45},
                {mode: 'execution', task: 'Design "Know Your Surveillance" Campaigns: Educate people about what\'s watching them.', xp: 50},
                {mode: 'execution', task: 'Build a Surveillance Database: Searchable information about surveillance programs and vendors.', xp: 55},
                {mode: 'personality', task: 'File 10 FOIA Requests: Request surveillance information. Document what you learn.', xp: 50},
                {mode: 'execution', task: 'Create Policy Recommendations: What laws should exist to limit surveillance? Develop the framework.', xp: 55},
                {mode: 'personality', task: 'Build Coalition of Privacy Advocates: Connect organizations working on surveillance issues.', xp: 55},
                {mode: 'execution', task: 'Design Accountability Mechanisms: How do you hold surveillance programs accountable?', xp: 55},
                {mode: 'personality', task: 'Partner with Journalists: They investigate surveillance. Support their work with tools and data.', xp: 55},
                {mode: 'ideas', task: 'Predict the Privacy Backlash: Write a 2031 headline about a major anti-surveillance movement. What triggered it?', xp: 50}
            ]
        }
    ]
},

// ============================================================================
// ðŸ“š CONTINUOUS LEARNING ESSENTIAL - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'continuous-learning-essential',
    title: 'Continuous learning becomes essential for career survival',
    source: 'Skill half-life data, AI disruption pace, employer expectations',
    probability: 95,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'ideas',
    threatReason: 'Skills expire in years, not decades. Those who can\'t keep learning get left behind. Those who build learning systems and habits win.',
    atRisk: 'Workers who stopped learning after school, anyone who thinks their skills are "done," people in rapidly changing fields without learning habits',
    opportunities: [
        {
            title: 'ðŸ“± Learning Operating System Products',
            mode: 'execution',
            description: 'Not courses â€” systems. Products that help people maintain continuous learning habits, track skills, and stay current.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Research Learning Habit Formation: How do people build lasting learning habits? Atomic Habits, behavior design. Study what works.', xp: 50},
                {mode: 'ideas', task: 'Map Current Learning Tools: Duolingo, Blinkist, Coursera, YouTube. What exists? What\'s the gap in habit systems?', xp: 45},
                {mode: 'execution', task: 'Design a Learning OS: Not content â€” the system for continuous learning. Habits, tracking, accountability.', xp: 55},
                {mode: 'execution', task: 'Create a Daily Learning Routine: Minimum viable learning habit. 15 minutes that compound over years.', xp: 45},
                {mode: 'ideas', task: 'Study Learning Retention: How do you remember what you learn? Spaced repetition, application. Optimize for retention.', xp: 50},
                {mode: 'execution', task: 'Build a Skills Tracker: What skills are you developing? How are you progressing? The personal dashboard.', xp: 50},
                {mode: 'personality', task: 'Test Your System with 20 People: Do they learn? Do they stick with it? Iterate based on real use.', xp: 55},
                {mode: 'execution', task: 'Design Learning Content Curation: Not more content â€” finding the right content for each person.', xp: 50},
                {mode: 'execution', task: 'Create Learning Accountability Features: Social support, streaks, commitments. The motivation layer.', xp: 50},
                {mode: 'personality', task: 'Partner with HR Departments: They want employees learning continuously. Offer your system.', xp: 55},
                {mode: 'execution', task: 'Build Enterprise Learning OS: Company-wide systems for continuous learning culture.', xp: 55},
                {mode: 'ideas', task: 'Predict Learning as Vital Sign: Write a 2030 headline about learning velocity becoming a key career metric. What changed?', xp: 45}
            ]
        },
        {
            title: 'ðŸŽ“ Corporate Upskilling Programs',
            mode: 'execution',
            description: 'Companies need their workforce to continuously learn. Building and delivering corporate learning programs that actually work.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research Corporate Learning Failures: Why do most corporate training programs fail? Engagement, relevance, application. Diagnose the problem.', xp: 50},
                {mode: 'ideas', task: 'Study Successful Upskilling: Which companies do this well? Google, AT&T, Amazon. What makes their programs work?', xp: 50},
                {mode: 'execution', task: 'Design an Upskilling Framework: Methodology for building effective corporate learning programs.', xp: 55},
                {mode: 'execution', task: 'Create Skills Gap Assessment: Identify what skills a company needs vs has. The diagnostic.', xp: 50},
                {mode: 'ideas', task: 'Map Manager Role in Learning: How do managers enable or block learning? Design for manager support.', xp: 50},
                {mode: 'execution', task: 'Build Learning Cohort Models: Group-based learning that creates accountability and community.', xp: 55},
                {mode: 'personality', task: 'Run 3 Corporate Upskilling Programs: Deliver for real companies. Build case studies.', xp: 60},
                {mode: 'execution', task: 'Design Measurement for Learning: How do you prove learning programs work? Metrics beyond completion rates.', xp: 50},
                {mode: 'execution', task: 'Create Manager Training for Learning Culture: Help managers support employee development.', xp: 50},
                {mode: 'personality', task: 'Partner with HR Tech Companies: They need learning content and methodology. Build relationships.', xp: 55},
                {mode: 'execution', task: 'Build an Upskilling Consultancy: Ongoing service for companies managing workforce development.', xp: 55},
                {mode: 'ideas', task: 'Predict the CLO Rise: Write a 2029 headline about Chief Learning Officers becoming critical executives. What drove the change?', xp: 45}
            ]
        },
        {
            title: 'ðŸ¤– AI-Guided Personalized Learning',
            mode: 'execution',
            description: 'AI that knows what you need to learn, finds the resources, and adapts to how you learn. Personalized learning paths at scale.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research Personalized Learning: What does effective personalization look like? Adaptive systems, recommendations. Study the field.', xp: 50},
                {mode: 'ideas', task: 'Map Learning Style Variations: How do people differ in learning? Visual, hands-on, reading. What personalizations matter?', xp: 45},
                {mode: 'execution', task: 'Design a Learning Recommendation Engine: AI that suggests what to learn next based on goals and gaps.', xp: 55},
                {mode: 'execution', task: 'Create Skill Goal Setting Systems: Help people define what they want to learn and why. The motivation layer.', xp: 50},
                {mode: 'ideas', task: 'Study Content Discovery: How do you find the best learning resources? Curation, reviews, recommendations.', xp: 45},
                {mode: 'execution', task: 'Build Learning Path Generation: AI that creates customized learning journeys from available content.', xp: 55},
                {mode: 'personality', task: 'Test with 30 Learners: Does personalized AI guidance improve outcomes? Measure and iterate.', xp: 55},
                {mode: 'execution', task: 'Design Progress Adaptation: AI that adjusts based on how someone is doing. Speed up, slow down, change approach.', xp: 55},
                {mode: 'execution', task: 'Create Learning Coach Chatbot: AI that answers questions, provides encouragement, keeps people on track.', xp: 55},
                {mode: 'personality', task: 'Partner with Content Providers: They have content. You have the personalization. Build integrations.', xp: 55},
                {mode: 'execution', task: 'Build an AI Learning Platform: Full system for personalized continuous learning.', xp: 60},
                {mode: 'ideas', task: 'Predict AI Tutors for Adults: Write a 2030 headline about AI learning coaches becoming standard. What enabled mass adoption?', xp: 45}
            ]
        }
    ]
},

// ============================================================================
// ðŸ¤– AI & TECHNOLOGY
// ============================================================================

// --- AI MODEL LEADERSHIP ---
{
    id: 'google-ai-dominance',
    title: 'Google maintains AI model leadership through 2026',
    source: 'Polymarket',
    probability: 87,
    timeframe: '2026',
    category: 'ai',
    threatMode: 'ideas',
    threatReason: 'Google\'s dominance means their ecosystem becomes the default. Those not building on Google AI infrastructure may find themselves at a disadvantage.',
    atRisk: 'Developers locked into other AI ecosystems; companies betting heavily on OpenAI or Anthropic',
    opportunities: [
        {
            title: 'ðŸ”§ Google AI Integration Specialist',
            mode: 'execution',
            description: 'Help businesses integrate Google AI tools (Gemini, Vertex AI). Most companies are overwhelmed by options.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Get certified in Google Cloud AI. Complete at least the foundational courses.', xp: 35},
                {mode: 'execution', task: 'Build 3 small projects using different Google AI APIs. Document what each does well.', xp: 40},
                {mode: 'ideas', task: 'Compare Google AI to competitors (OpenAI, Anthropic) for 5 common use cases. Create a comparison chart.', xp: 40},
                {mode: 'execution', task: 'Create a "Which Google AI Tool Should You Use?" decision tree for businesses.', xp: 45},
                {mode: 'personality', task: 'Share your comparison publicly. See what resonates with business owners.', xp: 40},
                {mode: 'personality', task: 'Offer free 30-min consultations to 5 businesses about their AI needs.', xp: 50},
                {mode: 'execution', task: 'Build a case study from one of your consultations. Show before/after.', xp: 50},
                {mode: 'execution', task: 'Create a service package with clear pricing and deliverables.', xp: 45},
                {mode: 'personality', task: 'Get testimonials from your free consultations.', xp: 45},
                {mode: 'execution', task: 'Land your first paid integration client.', xp: 55}
            ]
        }
    ]
},

{
    id: 'agi-before-2027',
    title: 'OpenAI announces AGI achievement before 2027',
    source: 'Polymarket prediction market',
    sourceUrl: 'https://polymarket.com/predictions/openai',
    probability: 9,
    timeframe: '2026-2027',
    category: 'ai',
    threatMode: 'ideas',
    threatReason: 'Even a 9% chance of AGI announcement would trigger massive market shifts. Early positioning matters.',
    atRisk: 'Anyone not thinking about post-AGI career paths',
    opportunities: [
        {
            title: 'ðŸ§  AGI Preparedness Consultant',
            mode: 'ideas',
            description: 'Help individuals and businesses think through AGI scenarios. Most people are in denial or paralyzed.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Read 3 foundational AGI texts: Superintelligence, Life 3.0, The Alignment Problem. Take notes.', xp: 40},
                {mode: 'ideas', task: 'Follow 20 AGI researchers on Twitter. Learn the debates and terminology.', xp: 30},
                {mode: 'execution', task: 'Create a personal "AGI Scenarios" document: best case, worst case, most likely case.', xp: 45},
                {mode: 'ideas', task: 'Identify 10 professions and analyze how each would be affected by AGI. Write 1 paragraph each.', xp: 45},
                {mode: 'execution', task: 'Create a framework: "How to Assess Your AGI Exposure" that anyone can use.', xp: 50},
                {mode: 'personality', task: 'Share your framework publicly. Engage with feedback and criticism.', xp: 45},
                {mode: 'personality', task: 'Run a workshop or discussion group on AGI preparedness.', xp: 55},
                {mode: 'execution', task: 'Refine your framework based on real conversations and feedback.', xp: 45},
                {mode: 'personality', task: 'Connect with futurists, consultants, and thought leaders in this space.', xp: 50},
                {mode: 'execution', task: 'Offer paid AGI preparedness consulting to forward-thinking companies.', xp: 60}
            ]
        }
    ]
},

{
    id: 'gpt-6-release',
    title: 'GPT-6 released by end of 2026',
    source: 'Polymarket prediction market',
    sourceUrl: 'https://polymarket.com/event/gpt-6-released-by',
    probability: 85,
    timeframe: '2026',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Each GPT generation makes previous workflows obsolete. Those who adapt fastest win.',
    atRisk: 'People with workflows built around older models who don\'t update',
    opportunities: [
        {
            title: 'ðŸ“š AI Model Update Tracker',
            mode: 'ideas',
            description: 'Be the first to document and explain new AI model capabilities. Huge demand from businesses trying to keep up.',
            difficulty: 'easy',
            timeframe: '1-3 months',
            quests: [
                {mode: 'execution', task: 'Set up alerts for major AI announcements (OpenAI, Google, Anthropic, Meta).', xp: 25},
                {mode: 'execution', task: 'Create a template for quickly analyzing new model releases.', xp: 35},
                {mode: 'execution', task: 'When a new model drops, publish analysis within 24 hours. Speed matters.', xp: 45},
                {mode: 'personality', task: 'Build an audience that relies on you for AI updates. Start a newsletter or social account.', xp: 45},
                {mode: 'execution', task: 'Create comparison charts: old model vs new model for key use cases.', xp: 40},
                {mode: 'personality', task: 'Engage with comments and questions. Become a trusted voice.', xp: 40},
                {mode: 'execution', task: 'Reach 1,000 followers/subscribers in the AI space.', xp: 50},
                {mode: 'ideas', task: 'Identify which businesses need this information most urgently.', xp: 35},
                {mode: 'personality', task: 'Offer "AI Update Briefings" to companies that can\'t keep up.', xp: 50},
                {mode: 'execution', task: 'Get your first paid briefing client.', xp: 55}
            ]
        }
    ]
},

{
    id: 'claude-5-release',
    title: 'Claude 5 released by March 31, 2026',
    source: 'Polymarket prediction market',
    sourceUrl: 'https://polymarket.com/predictions/ai',
    probability: 95,
    timeframe: 'Q1 2026',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Anthropic\'s safety-focused approach may become the enterprise standard. Early adopters get competitive advantage.',
    atRisk: 'Enterprises locked into less safety-conscious AI providers',
    opportunities: [
        {
            title: 'ðŸ›¡ï¸ Enterprise AI Safety Consultant',
            mode: 'ideas',
            description: 'Help enterprises implement AI with proper safety guardrails. Anthropic\'s approach is becoming the standard.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Study Anthropic\'s Constitutional AI and safety research. Understand their approach deeply.', xp: 40},
                {mode: 'ideas', task: 'Research enterprise AI failures and lawsuits. What went wrong? Document patterns.', xp: 45},
                {mode: 'execution', task: 'Create an "Enterprise AI Safety Checklist" covering deployment, monitoring, and governance.', xp: 50},
                {mode: 'personality', task: 'Share your checklist with CIOs and CTOs. Get feedback on what they actually worry about.', xp: 50},
                {mode: 'execution', task: 'Develop case studies of companies that got AI safety right vs wrong.', xp: 45},
                {mode: 'personality', task: 'Connect with compliance officers and legal teams at large companies.', xp: 55},
                {mode: 'execution', task: 'Create training materials for non-technical executives on AI risk.', xp: 50},
                {mode: 'personality', task: 'Speak at a business or tech event about enterprise AI safety.', xp: 55},
                {mode: 'execution', task: 'Develop a consulting package: assessment, recommendations, implementation support.', xp: 50},
                {mode: 'execution', task: 'Land your first enterprise safety consulting engagement.', xp: 60}
            ]
        }
    ]
},

{
    id: 'openai-hardware',
    title: 'OpenAI launches consumer hardware product by end of 2026',
    source: 'Polymarket prediction market',
    sourceUrl: 'https://polymarket.com/predictions/openai',
    probability: 59,
    timeframe: '2026',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'AI moving into physical devices changes the game. Software-only AI companies may lose ground.',
    atRisk: 'Companies betting AI stays software-only',
    opportunities: [
        {
            title: 'ðŸ”Œ AI Hardware Reviewer/Analyst',
            mode: 'personality',
            description: 'Be the trusted voice for AI hardware reviews before the market gets crowded.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Research existing AI hardware (Humane Pin, Rabbit R1, Meta glasses). What works? What doesn\'t?', xp: 35},
                {mode: 'execution', task: 'If possible, buy or borrow one AI hardware device. Do a thorough review.', xp: 45},
                {mode: 'execution', task: 'Create content reviewing AI hardware. Video, blog, or social thread.', xp: 40},
                {mode: 'personality', task: 'Build an audience interested in AI hardware. Start before the flood of devices hits.', xp: 45},
                {mode: 'ideas', task: 'Predict what OpenAI\'s hardware might do. Write your analysis.', xp: 40},
                {mode: 'execution', task: 'Create a framework for evaluating AI hardware: utility, privacy, battery, integration.', xp: 45},
                {mode: 'personality', task: 'Connect with tech journalists and YouTubers in this space.', xp: 50},
                {mode: 'execution', task: 'When new AI hardware drops, publish reviews quickly.', xp: 45},
                {mode: 'personality', task: 'Get quoted or referenced by a larger publication.', xp: 55},
                {mode: 'execution', task: 'Monetize through affiliate links, sponsorships, or consulting.', xp: 50}
            ]
        }
    ]
},

{
    id: 'ai-bubble-burst',
    title: 'AI industry experiences major downturn by end of 2026',
    source: 'Polymarket prediction market',
    sourceUrl: 'https://polymarket.com/predictions/ai',
    probability: 15,
    timeframe: '2026',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'If the bubble bursts, AI-dependent businesses fail. Diversified skills become essential.',
    atRisk: 'Startups with AI as only differentiator; employees at AI-only companies',
    opportunities: [
        {
            title: 'ðŸ—ï¸ AI-Proof Business Builder',
            mode: 'execution',
            description: 'Build businesses that use AI but don\'t depend on it. Sustainable regardless of AI hype cycles.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Identify 10 business models that existed before AI and still work. What makes them resilient?', xp: 35},
                {mode: 'ideas', task: 'Study the dot-com bust. Which companies survived? Why?', xp: 40},
                {mode: 'execution', task: 'Design a business that uses AI for efficiency but could survive without it.', xp: 50},
                {mode: 'ideas', task: 'Identify your "AI-free fallback" â€” what would you do if AI tools disappeared?', xp: 40},
                {mode: 'execution', task: 'Build version 1 of your resilient business. Focus on fundamentals.', xp: 55},
                {mode: 'personality', task: 'Find 10 customers who value your core offering, not just the AI wrapper.', xp: 50},
                {mode: 'execution', task: 'Ensure your business makes money without AI hype. Unit economics matter.', xp: 50},
                {mode: 'personality', task: 'Build relationships with customers who would stick around post-hype.', xp: 45},
                {mode: 'execution', task: 'Document your "AI-resilient" business model. Share learnings.', xp: 45},
                {mode: 'execution', task: 'Reach profitability without depending on AI buzz.', xp: 60}
            ]
        }
    ]
},

{
    id: 'ai-coding-dominance',
    title: 'AI writes majority of code in professional settings by 2027',
    source: 'Industry Consensus / Dario Amodei',
    probability: 60,
    timeframe: '2026-2027',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Coding becomes directing. Junior developer roles transform completely.',
    atRisk: 'Developers who compete on syntax rather than system design and problem-solving',
    opportunities: [
        {
            title: 'ðŸŽ¯ AI Code Director',
            mode: 'execution',
            description: 'Master the art of directing AI coding tools. Build things 10x faster than traditional developers.',
            difficulty: 'medium',
            timeframe: '2-4 months',
            quests: [
                {mode: 'execution', task: 'Use 3 AI coding tools (Cursor, Copilot, Claude) for real projects. Compare them.', xp: 35},
                {mode: 'ideas', task: 'Identify what AI coding tools do well vs poorly. Document patterns.', xp: 40},
                {mode: 'execution', task: 'Build a complete project primarily using AI. Track time vs traditional coding.', xp: 50},
                {mode: 'execution', task: 'Develop your own "AI coding workflow" â€” prompts, review process, iteration.', xp: 45},
                {mode: 'personality', task: 'Share your workflow publicly. Help others learn.', xp: 45},
                {mode: 'execution', task: 'Build 3 projects with your optimized AI workflow. Create a portfolio.', xp: 50},
                {mode: 'ideas', task: 'Identify which types of projects benefit most from AI coding.', xp: 40},
                {mode: 'personality', task: 'Offer to build MVPs for startups using your AI-accelerated approach.', xp: 50},
                {mode: 'execution', task: 'Get your first paid AI-accelerated development client.', xp: 55},
                {mode: 'execution', task: 'Deliver 3 projects faster and cheaper than traditional developers.', xp: 55}
            ]
        }
    ]
},

{
    id: 'full-length-ai-movies',
    title: 'Full-length AI-generated movies become mainstream',
    source: 'Industry Consensus',
    probability: 45,
    timeframe: '2-3 years',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Film production costs collapse. Story, taste, and distribution become the differentiators.',
    atRisk: 'Technical film roles (VFX, editing) without creative direction skills',
    opportunities: [
        {
            title: 'ðŸŽ¬ AI Film Director',
            mode: 'ideas',
            description: 'Learn to direct AI film tools now. Be ready when feature films become possible.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'execution', task: 'Create your first AI video using Runway, Pika, or Sora. Just 30 seconds.', xp: 30},
                {mode: 'ideas', task: 'Study 10 successful AI short films. What makes them work? Take notes.', xp: 40},
                {mode: 'execution', task: 'Write a 2-page script for a 3-minute short. Keep it visually simple.', xp: 40},
                {mode: 'execution', task: 'Create your first 2-3 minute AI short film.', xp: 50},
                {mode: 'personality', task: 'Share your film publicly. Get feedback from 20 people.', xp: 45},
                {mode: 'execution', task: 'Make version 2 based on feedback. Show improvement.', xp: 45},
                {mode: 'ideas', task: 'Develop your unique style. What\'s your visual signature?', xp: 40},
                {mode: 'personality', task: 'Enter an AI film festival or competition.', xp: 50},
                {mode: 'execution', task: 'Build a portfolio of 5 short films.', xp: 55},
                {mode: 'personality', task: 'Collaborate with other AI filmmakers. Build your network.', xp: 50}
            ]
        }
    ]
},

{
    id: 'ai-medical-diagnosis',
    title: 'AI diagnoses diseases better than average doctors',
    source: 'Multiple Studies',
    probability: 75,
    timeframe: '2-3 years',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Diagnostic accuracy becomes commodity. Patient care and communication become differentiators.',
    atRisk: 'Diagnostic specialists without strong patient relationship skills',
    opportunities: [
        {
            title: 'ðŸ©º AI Health Navigator',
            mode: 'personality',
            description: 'Help patients understand and navigate AI-assisted healthcare decisions.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research how AI is being used in diagnostics today. What\'s working? What scares patients?', xp: 40},
                {mode: 'ideas', task: 'Identify top 10 patient concerns about AI in healthcare.', xp: 40},
                {mode: 'execution', task: 'Create a guide: "Questions to Ask When AI Is Part of Your Diagnosis"', xp: 45},
                {mode: 'personality', task: 'Share your guide with patient advocacy groups.', xp: 45},
                {mode: 'personality', task: 'Talk to 10 patients about their AI healthcare experiences.', xp: 50},
                {mode: 'execution', task: 'Refine your guide based on real patient concerns.', xp: 40},
                {mode: 'execution', task: 'Develop a service: accompany patients, help interpret AI results.', xp: 50},
                {mode: 'personality', task: 'Connect with doctors who could refer patients needing support.', xp: 55},
                {mode: 'execution', task: 'Get your first 3 paid clients.', xp: 55},
                {mode: 'personality', task: 'Get testimonials and referrals.', xp: 50}
            ]
        }
    ]
},

// ============================================================================
// ðŸ’¼ FUTURE OF WORK
// ============================================================================

{
    id: 'jobs-80-transform',
    title: '80% of jobs will disappear or transform radically',
    source: 'Vinod Khosla',
    probability: 45,
    timeframe: '10-15 years',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Most "doing" gets automated. Value shifts to judgment, creativity, and connection.',
    atRisk: 'Anyone whose job is primarily following processes or handling information',
    opportunities: [
        {
            title: 'ðŸ”„ Career Transition Coach',
            mode: 'personality',
            description: 'Help people navigate career changes in an AI-disrupted world.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research which jobs are most at risk. Create list of 20.', xp: 30},
                {mode: 'ideas', task: 'Research which jobs are growing because of AI. Create list of 20.', xp: 30},
                {mode: 'execution', task: 'Create framework: "How to Assess If Your Job Is At Risk"', xp: 40},
                {mode: 'personality', task: 'Interview 5 people who successfully transitioned careers. What worked?', xp: 45},
                {mode: 'execution', task: 'Create step-by-step career transition playbook.', xp: 45},
                {mode: 'personality', task: 'Offer free transition coaching to 3 worried people.', xp: 50},
                {mode: 'execution', task: 'Document results. What helped? What didn\'t?', xp: 40},
                {mode: 'personality', task: 'Write about your coaching experience. Share stories.', xp: 45},
                {mode: 'execution', task: 'Create coaching package with pricing.', xp: 45},
                {mode: 'personality', task: 'Get your first paid coaching client.', xp: 55}
            ]
        }
    ]
},

{
    id: 'workweek-shrinks',
    title: '2-3 day workweeks become normal for many professions',
    source: 'Bill Gates',
    probability: 35,
    timeframe: '10-15 years',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Productivity gains don\'t require 40 hours. Filling time meaningfully becomes key.',
    atRisk: 'People whose identity is wrapped up in "being busy"',
    opportunities: [
        {
            title: 'ðŸ§˜ Meaningful Time Designer',
            mode: 'ideas',
            description: 'Help people figure out what to do with newfound free time.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Study what people do with unexpected free time. Interview 10.', xp: 35},
                {mode: 'ideas', task: 'Research purpose and meaning frameworks (Ikigai, etc).', xp: 35},
                {mode: 'execution', task: 'Create workshop: "Designing Your Ideal Week"', xp: 45},
                {mode: 'personality', task: 'Run workshop with 10 friends for free.', xp: 45},
                {mode: 'execution', task: 'Refine based on feedback.', xp: 40},
                {mode: 'personality', task: 'Get testimonials from people who found clarity.', xp: 45},
                {mode: 'execution', task: 'Create supporting materials: worksheets, prompts.', xp: 40},
                {mode: 'execution', task: 'Price your workshop.', xp: 40},
                {mode: 'personality', task: 'Partner with companies doing 4-day weeks.', xp: 50},
                {mode: 'execution', task: 'Get first paid workshop booking.', xp: 55}
            ]
        }
    ]
},

{
    id: 'first-trillionaire-ai',
    title: 'First trillionaire comes from AI â€” possibly tiny team',
    source: 'Mark Cuban',
    probability: 50,
    timeframe: '10-15 years',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Winner-take-all intensifies. Small teams capture massive value.',
    atRisk: 'Mid-sized companies without AI leverage',
    opportunities: [
        {
            title: 'ðŸ¢ Micro-Startup Builder',
            mode: 'execution',
            description: 'Build small, profitable businesses using AI leverage. Aim for $10k-100k/month.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'List 10 problems that could be solved with software.', xp: 30},
                {mode: 'ideas', task: 'Research micro-SaaS success stories. What patterns?', xp: 35},
                {mode: 'execution', task: 'Pick one idea. Validate: would 10 people pay $50/month?', xp: 40},
                {mode: 'personality', task: 'Talk to 20 potential customers. Just learn.', xp: 45},
                {mode: 'execution', task: 'Build MVP using AI coding tools.', xp: 50},
                {mode: 'personality', task: 'Get 5 beta users. Free for feedback.', xp: 45},
                {mode: 'execution', task: 'Improve based on feedback. Ship 10 updates.', xp: 50},
                {mode: 'execution', task: 'Add payments. Get first paying customer.', xp: 55},
                {mode: 'execution', task: 'Reach $1k MRR.', xp: 60},
                {mode: 'personality', task: 'Document journey. Build in public.', xp: 50}
            ]
        }
    ]
},

{
    id: 'remote-work-default',
    title: 'Remote/hybrid becomes default for knowledge work',
    source: 'Industry Consensus',
    probability: 85,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'Casual relationship-building disappears. Intentional networking essential.',
    atRisk: 'People who relied on office proximity for advancement',
    opportunities: [
        {
            title: 'ðŸŒ Remote Work Optimizer',
            mode: 'execution',
            description: 'Help companies and individuals optimize remote work.',
            difficulty: 'easy',
            timeframe: '1-3 months',
            quests: [
                {mode: 'ideas', task: 'Document what makes YOUR remote work effective.', xp: 30},
                {mode: 'ideas', task: 'Research common remote work problems.', xp: 30},
                {mode: 'execution', task: 'Create "Remote Work Audit" checklist.', xp: 40},
                {mode: 'personality', task: 'Offer free audits to 5 people or teams.', xp: 45},
                {mode: 'execution', task: 'Create solutions for top 5 problems you find.', xp: 45},
                {mode: 'personality', task: 'Write about findings. Share tips publicly.', xp: 40},
                {mode: 'execution', task: 'Package audit + recommendations as service.', xp: 45},
                {mode: 'personality', task: 'Target specific niche: startups? agencies?', xp: 40},
                {mode: 'execution', task: 'Get first paid engagement.', xp: 50},
                {mode: 'personality', task: 'Get testimonials and referrals.', xp: 45}
            ]
        }
    ]
},

{
    id: 'gig-economy-dominant',
    title: 'Gig/freelance becomes dominant for 50%+ workers',
    source: 'Various Studies',
    probability: 40,
    timeframe: '10-15 years',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Job security disappears. Self-management essential.',
    atRisk: 'People dependent on employer-provided stability',
    opportunities: [
        {
            title: 'ðŸ“‹ Freelancer Success Coach',
            mode: 'personality',
            description: 'Help people transition from employment to freelancing.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'execution', task: 'Document your freelancing journey (or interview 5 freelancers).', xp: 35},
                {mode: 'ideas', task: 'Identify top 10 mistakes new freelancers make.', xp: 35},
                {mode: 'execution', task: 'Create "First 90 Days Freelancing" checklist.', xp: 40},
                {mode: 'personality', task: 'Help 3 people free through their first month.', xp: 50},
                {mode: 'execution', task: 'Document what worked in your coaching.', xp: 40},
                {mode: 'execution', task: 'Create guide: "Employee to Freelancer in 90 Days"', xp: 50},
                {mode: 'personality', task: 'Share success stories from people you helped.', xp: 45},
                {mode: 'execution', task: 'Set up coaching program with pricing.', xp: 45},
                {mode: 'personality', task: 'Partner with communities of aspiring freelancers.', xp: 50},
                {mode: 'execution', task: 'Get 5 paid coaching clients.', xp: 55}
            ]
        }
    ]
},

{
    id: 'ubi-experiments-expand',
    title: 'UBI experiments expand globally',
    source: 'Ray Dalio / Sam Altman',
    probability: 55,
    timeframe: '5-10 years',
    category: 'work',
    threatMode: 'ideas',
    threatReason: 'When basic needs covered, purpose becomes scarce resource.',
    atRisk: 'Those who haven\'t thought about what they\'d do without work pressure',
    opportunities: [
        {
            title: 'ðŸŽ¯ Purpose Discovery Coach',
            mode: 'personality',
            description: 'Help people figure out what they want when survival isn\'t the driver.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research purpose frameworks. Try each on yourself.', xp: 35},
                {mode: 'ideas', task: 'Interview 10 people who feel they\'ve found purpose.', xp: 40},
                {mode: 'execution', task: 'Create your own purpose-discovery workshop.', xp: 45},
                {mode: 'personality', task: 'Run workshop with 5 friends for free.', xp: 45},
                {mode: 'execution', task: 'Refine based on what worked.', xp: 40},
                {mode: 'personality', task: 'Run version 2 with 10 strangers.', xp: 50},
                {mode: 'execution', task: 'Create supporting materials.', xp: 45},
                {mode: 'personality', task: 'Get testimonials from people who found clarity.', xp: 50},
                {mode: 'execution', task: 'Price your workshop and coaching.', xp: 45},
                {mode: 'execution', task: 'Get first paid client.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸ“ˆ FINANCE & ECONOMICS
// ============================================================================

{
    id: 'us-recession-2026',
    title: 'US recession by end of 2026',
    source: 'Polymarket',
    probability: 23,
    timeframe: '2026',
    category: 'finance',
    threatMode: 'execution',
    threatReason: 'Economic uncertainty makes diversified income streams essential.',
    atRisk: 'Those dependent on single income source in vulnerable industry',
    opportunities: [
        {
            title: 'ðŸ’° Recession-Proof Income Builder',
            mode: 'execution',
            description: 'Build multiple income streams that survive downturns.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research which businesses thrived in 2008 recession. What patterns?', xp: 35},
                {mode: 'ideas', task: 'Identify 5 income streams you could realistically build.', xp: 35},
                {mode: 'execution', task: 'Start building income stream #1. Focus on something that helps people save money.', xp: 45},
                {mode: 'execution', task: 'Get first $100 from income stream #1.', xp: 50},
                {mode: 'ideas', task: 'Analyze what worked. Document the process.', xp: 35},
                {mode: 'execution', task: 'Start building income stream #2 in different sector.', xp: 45},
                {mode: 'execution', task: 'Get first $100 from income stream #2.', xp: 50},
                {mode: 'execution', task: 'Create systems so income streams require less time.', xp: 45},
                {mode: 'personality', task: 'Share your diversification journey. Help others.', xp: 40},
                {mode: 'execution', task: 'Reach $1,000/month from diversified sources.', xp: 60}
            ]
        }
    ]
},

{
    id: 'bitcoin-price-2026',
    title: 'Bitcoin hits $100,000 in 2026',
    source: 'Polymarket',
    probability: 55,
    timeframe: '2026',
    category: 'crypto',
    threatMode: 'ideas',
    threatReason: 'Crypto volatility continues. Understanding both upside and downside essential.',
    atRisk: 'People all-in on crypto OR completely ignoring it',
    opportunities: [
        {
            title: 'ðŸ“Š Crypto Risk Educator',
            mode: 'ideas',
            description: 'Help regular people understand crypto risk without hype or FUD.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Study crypto cycles. What patterns repeat? Document.', xp: 40},
                {mode: 'ideas', task: 'Research how regular people lose money in crypto. Top 10 mistakes.', xp: 40},
                {mode: 'execution', task: 'Create guide: "Crypto Risk for Normal People"', xp: 45},
                {mode: 'personality', task: 'Share guide publicly. Avoid both hype and FUD.', xp: 45},
                {mode: 'execution', task: 'Create simple risk assessment framework.', xp: 45},
                {mode: 'personality', task: 'Help 10 people assess their crypto exposure.', xp: 50},
                {mode: 'execution', task: 'Refine framework based on real conversations.', xp: 40},
                {mode: 'personality', task: 'Build audience of crypto-curious normal people.', xp: 50},
                {mode: 'execution', task: 'Create paid course or consulting offer.', xp: 50},
                {mode: 'execution', task: 'Get first paid client.', xp: 55}
            ]
        }
    ]
},

{
    id: 'fed-rate-decisions',
    title: 'Fed maintains tight monetary policy through 2026',
    source: 'Polymarket',
    probability: 65,
    timeframe: '2026',
    category: 'finance',
    threatMode: 'execution',
    threatReason: 'High rates favor savers and established businesses. Startups face headwinds.',
    atRisk: 'Growth-stage companies dependent on cheap capital',
    opportunities: [
        {
            title: 'ðŸ¦ High-Rate Business Strategist',
            mode: 'ideas',
            description: 'Help businesses adapt strategies for high-interest environment.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Study how businesses adapted to 1980s high rates. Lessons?', xp: 40},
                {mode: 'ideas', task: 'Research which business models thrive vs struggle in high-rate environments.', xp: 40},
                {mode: 'execution', task: 'Create framework: "Is Your Business High-Rate Resilient?"', xp: 50},
                {mode: 'personality', task: 'Share framework with business owners. Get feedback.', xp: 45},
                {mode: 'execution', task: 'Develop specific recommendations for different business types.', xp: 50},
                {mode: 'personality', task: 'Offer free strategy sessions to 5 businesses.', xp: 50},
                {mode: 'execution', task: 'Document results. Build case studies.', xp: 45},
                {mode: 'personality', task: 'Write about high-rate business strategy. Build credibility.', xp: 50},
                {mode: 'execution', task: 'Create consulting service package.', xp: 50},
                {mode: 'execution', task: 'Land first paid strategy engagement.', xp: 60}
            ]
        }
    ]
},

{
    id: 'nvidia-largest-company',
    title: 'NVIDIA becomes world\'s largest company',
    source: 'Polymarket',
    probability: 48,
    timeframe: '2026',
    category: 'finance',
    threatMode: 'execution',
    threatReason: 'Compute becomes critical infrastructure. GPU access determines capability.',
    atRisk: 'Companies without compute strategy',
    opportunities: [
        {
            title: 'ðŸ–¥ï¸ Compute Strategy Consultant',
            mode: 'ideas',
            description: 'Help businesses plan their AI compute needs and strategy.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research GPU pricing, cloud compute options, and trends.', xp: 40},
                {mode: 'execution', task: 'Build a model: "How Much Compute Does Your AI Need?"', xp: 50},
                {mode: 'ideas', task: 'Compare cloud providers (AWS, GCP, Azure) for AI workloads.', xp: 45},
                {mode: 'execution', task: 'Create compute cost calculator for common use cases.', xp: 50},
                {mode: 'personality', task: 'Share your analysis with CTOs and technical leaders.', xp: 50},
                {mode: 'execution', task: 'Develop recommendations for different company sizes.', xp: 45},
                {mode: 'personality', task: 'Offer free compute strategy sessions to 5 companies.', xp: 55},
                {mode: 'execution', task: 'Build case studies from your sessions.', xp: 50},
                {mode: 'execution', task: 'Create consulting package.', xp: 50},
                {mode: 'execution', task: 'Land first paid compute strategy engagement.', xp: 60}
            ]
        }
    ]
},

{
    id: 'ai-wealth-inequality',
    title: 'AI significantly exacerbates wealth inequality',
    source: 'Ray Dalio',
    probability: 65,
    timeframe: '5-10 years',
    category: 'finance',
    threatMode: 'execution',
    threatReason: 'Capital and skills compound faster. Those without AI leverage fall behind.',
    atRisk: 'Middle-income workers without AI skills or capital access',
    opportunities: [
        {
            title: 'ðŸŽ“ AI Skills for Underserved',
            mode: 'personality',
            description: 'Teach AI skills to people who might otherwise be left behind.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Identify one underserved group that could benefit from AI skills.', xp: 35},
                {mode: 'execution', task: 'Create beginner-friendly AI curriculum (5-10 lessons).', xp: 45},
                {mode: 'personality', task: 'Find one organization serving your target group. Pitch free pilot.', xp: 50},
                {mode: 'execution', task: 'Run your first class.', xp: 45},
                {mode: 'personality', task: 'Get feedback and testimonials.', xp: 40},
                {mode: 'execution', task: 'Refine curriculum based on what worked.', xp: 40},
                {mode: 'personality', task: 'Document success stories.', xp: 50},
                {mode: 'execution', task: 'Pitch to 5 more organizations.', xp: 50},
                {mode: 'personality', task: 'Apply for grants to expand program.', xp: 55},
                {mode: 'execution', task: 'Teach 100 people through your program.', xp: 60}
            ]
        }
    ]
},

{
    id: 'intelligence-value-zero',
    title: 'Economic value of raw intelligence approaches zero',
    source: 'Sam Altman',
    probability: 30,
    timeframe: '10-20 years',
    category: 'finance',
    threatMode: 'ideas',
    threatReason: 'When intelligence is free, scarcity shifts to wisdom, judgment, and connection.',
    atRisk: 'Anyone selling "smarts" rather than judgment or human connection',
    opportunities: [
        {
            title: 'ðŸ¤ High-Touch Service Provider',
            mode: 'personality',
            description: 'Double down on services where human connection IS the product.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Identify services where human relationship is irreplaceable. List 10.', xp: 30},
                {mode: 'ideas', task: 'Assess your skills. Which high-touch service could you provide?', xp: 35},
                {mode: 'execution', task: 'Get relevant training if needed.', xp: 45},
                {mode: 'personality', task: 'Offer free sessions to 5 people for testimonials.', xp: 50},
                {mode: 'execution', task: 'Define your service clearly: who, how, what outcome.', xp: 40},
                {mode: 'personality', task: 'Build referral relationships with 3 complementary providers.', xp: 50},
                {mode: 'execution', task: 'Set up booking and payment.', xp: 40},
                {mode: 'personality', task: 'Get first 3 paying clients.', xp: 55},
                {mode: 'execution', task: 'Create client retention system.', xp: 50},
                {mode: 'personality', task: 'Ask every client for referrals.', xp: 50}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽ¬ MEDIA & CONTENT
// ============================================================================

{
    id: 'personalized-content-all',
    title: 'All content becomes personalized â€” everyone sees different versions',
    source: 'Industry Consensus',
    probability: 70,
    timeframe: '3-5 years',
    category: 'media',
    threatMode: 'execution',
    threatReason: 'Mass content loses value. Deep audience understanding essential.',
    atRisk: 'Creators making generic content for general audiences',
    opportunities: [
        {
            title: 'ðŸŽ¯ Niche Content Creator',
            mode: 'personality',
            description: 'Go deep on a specific niche. Own a category.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'List 5 topics you could create content about for 2 years.', xp: 30},
                {mode: 'ideas', task: 'Research each: audience size, competition, monetization.', xp: 35},
                {mode: 'execution', task: 'Pick your niche. Commit for 90 days.', xp: 35},
                {mode: 'execution', task: 'Create 10 pieces in first 2 weeks.', xp: 45},
                {mode: 'personality', task: 'Engage with every comment.', xp: 40},
                {mode: 'execution', task: 'Analyze what works. Double down.', xp: 40},
                {mode: 'personality', task: 'Connect with 5 adjacent creators.', xp: 50},
                {mode: 'execution', task: 'Reach 1,000 followers.', xp: 50},
                {mode: 'execution', task: 'Create lead magnet for your niche.', xp: 45},
                {mode: 'execution', task: 'Monetize: sponsored, products, or services.', xp: 55}
            ]
        }
    ]
},

{
    id: 'ai-news-generation',
    title: 'AI generates majority of news content',
    source: 'Industry Trend',
    probability: 60,
    timeframe: '3-5 years',
    category: 'media',
    threatMode: 'execution',
    threatReason: 'Basic reporting automated. Original investigation becomes differentiator.',
    atRisk: 'Reporters rewriting press releases',
    opportunities: [
        {
            title: 'ðŸ” Independent Investigator',
            mode: 'ideas',
            description: 'Do investigative work AI can\'t: building sources, deep analysis.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Study investigative journalism techniques.', xp: 40},
                {mode: 'ideas', task: 'Identify local topic deserving more scrutiny.', xp: 40},
                {mode: 'execution', task: 'Start researching: public records, documents.', xp: 45},
                {mode: 'personality', task: 'Reach out to 5 potential sources.', xp: 50},
                {mode: 'execution', task: 'File your first public records request.', xp: 45},
                {mode: 'execution', task: 'Organize findings. Create timeline.', xp: 45},
                {mode: 'personality', task: 'Connect with established journalists for mentorship.', xp: 55},
                {mode: 'execution', task: 'Write up findings. Start with verified facts.', xp: 50},
                {mode: 'execution', task: 'Publish investigation.', xp: 55},
                {mode: 'personality', task: 'Build reputation through quality work.', xp: 55}
            ]
        }
    ]
},

{
    id: 'influencer-trust-collapse',
    title: 'Influencer marketing oversaturates â€” trust collapses',
    source: 'Industry Analysis',
    probability: 70,
    timeframe: '2-3 years',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'Generic influence loses value. Deep niche authority becomes premium.',
    atRisk: 'Influencers promoting anything for money',
    opportunities: [
        {
            title: 'ðŸŽ–ï¸ Trusted Niche Authority',
            mode: 'personality',
            description: 'Build trust in one area by saying no to irrelevant partnerships.',
            difficulty: 'medium',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Identify one area where you have genuine expertise.', xp: 35},
                {mode: 'execution', task: 'Create content demonstrating deep knowledge, not surface takes.', xp: 45},
                {mode: 'personality', task: 'Be publicly honest about products you don\'t recommend.', xp: 45},
                {mode: 'execution', task: 'Only work with brands you genuinely use and believe in.', xp: 40},
                {mode: 'personality', task: 'Build relationships with your audience. Know them by name.', xp: 50},
                {mode: 'execution', task: 'Create signature content format that showcases expertise.', xp: 45},
                {mode: 'personality', task: 'Turn down at least 3 paid opportunities that don\'t fit.', xp: 45},
                {mode: 'execution', task: 'Document your decision-making process publicly.', xp: 40},
                {mode: 'personality', task: 'Get testimonials from followers about your trustworthiness.', xp: 50},
                {mode: 'execution', task: 'Command premium rates because of your credibility.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// â‚¿ CRYPTO & WEB3
// ============================================================================

{
    id: 'bitcoin-nation-reserve',
    title: 'Bitcoin becomes nation-state reserve asset (more countries)',
    source: 'El Salvador precedent / Polymarket',
    probability: 50,
    timeframe: '5-10 years',
    category: 'crypto',
    threatMode: 'ideas',
    threatReason: 'Financial infrastructure changes. Understanding old and new systems valuable.',
    atRisk: 'Finance professionals dismissing crypto entirely',
    opportunities: [
        {
            title: 'ðŸ¦ Crypto-TradFi Bridge',
            mode: 'ideas',
            description: 'Help traditional finance understand and integrate crypto.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Learn crypto custody, compliance, integration basics.', xp: 40},
                {mode: 'ideas', task: 'Understand what traditional finance is most confused about.', xp: 40},
                {mode: 'execution', task: 'Create "Crypto Primer for Finance Professionals"', xp: 45},
                {mode: 'personality', task: 'Share primer with people in traditional finance.', xp: 45},
                {mode: 'execution', task: 'Create weekly digest of crypto-finance news.', xp: 40},
                {mode: 'personality', task: 'Connect with compliance officers at financial institutions.', xp: 50},
                {mode: 'execution', task: 'Develop framework for evaluating crypto integration.', xp: 50},
                {mode: 'personality', task: 'Speak at finance industry event.', xp: 55},
                {mode: 'execution', task: 'Get first consulting engagement.', xp: 60},
                {mode: 'execution', task: 'Build retainer relationships.', xp: 60}
            ]
        }
    ]
},

{
    id: 'satoshi-moves-bitcoin',
    title: 'Satoshi moves Bitcoin in 2026',
    source: 'Polymarket',
    probability: 5,
    timeframe: '2026',
    category: 'crypto',
    threatMode: 'ideas',
    threatReason: 'Low probability but massive impact event. Preparation thinking valuable.',
    atRisk: 'Bitcoin maximalists who haven\'t considered this scenario',
    opportunities: [
        {
            title: 'ðŸ”® Black Swan Scenario Planner',
            mode: 'ideas',
            description: 'Help investors think through low-probability, high-impact scenarios.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'List 10 low-probability events that would massively impact markets.', xp: 40},
                {mode: 'ideas', task: 'Research historical black swan events. What patterns?', xp: 40},
                {mode: 'execution', task: 'Create framework for evaluating black swan scenarios.', xp: 50},
                {mode: 'execution', task: 'Develop "scenario cards" for top 10 unlikely events.', xp: 50},
                {mode: 'personality', task: 'Share framework with investors. Get feedback.', xp: 50},
                {mode: 'execution', task: 'Create recommendations for each scenario.', xp: 50},
                {mode: 'personality', task: 'Write about scenario planning. Build credibility.', xp: 50},
                {mode: 'execution', task: 'Develop consulting service for scenario planning.', xp: 50},
                {mode: 'personality', task: 'Connect with wealth managers who serve HNW clients.', xp: 55},
                {mode: 'execution', task: 'Land first paid scenario planning engagement.', xp: 60}
            ]
        }
    ]
},

// ============================================================================
// ðŸ§¬ HUMAN ENHANCEMENT & LONGEVITY
// ============================================================================

{
    id: 'life-extension-therapies',
    title: 'Radical life extension therapies emerge',
    source: 'Peter Thiel / Bryan Johnson',
    probability: 35,
    timeframe: '10-20 years',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Lifespan extends. Career planning over 60+ years requires new approaches.',
    atRisk: 'People planning for traditional retirement at 65',
    opportunities: [
        {
            title: 'ðŸ§¬ Longevity Content Creator',
            mode: 'personality',
            description: 'Document and explain longevity science for regular people.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Follow 10 longevity researchers. Learn the landscape.', xp: 30},
                {mode: 'ideas', task: 'Read "Lifespan" or equivalent. Take notes.', xp: 35},
                {mode: 'execution', task: 'Create first piece of longevity content.', xp: 35},
                {mode: 'execution', task: 'Establish posting schedule. 3x per week.', xp: 40},
                {mode: 'personality', task: 'Engage with longevity community.', xp: 40},
                {mode: 'execution', task: 'Create 20 pieces over 6 weeks.', xp: 50},
                {mode: 'ideas', task: 'Find your unique angle.', xp: 40},
                {mode: 'execution', task: 'Reach 500 followers.', xp: 50},
                {mode: 'personality', task: 'Interview longevity expert.', xp: 55},
                {mode: 'execution', task: 'Monetize through courses or sponsorships.', xp: 55}
            ]
        }
    ]
},

// ADDITIONAL FORECASTS INSERTED HERE
// ============================================================================
// ðŸ’» TECH & BUSINESS
// ============================================================================

{
    id: 'spacex-ipo-trillion',
    title: 'SpaceX IPO closes above $1 trillion market cap',
    source: 'Polymarket',
    probability: 81,
    timeframe: '2026-2027',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'Space economy opens up. Early movers in space-adjacent businesses win.',
    atRisk: 'Companies ignoring space as a market',
    opportunities: [
        {
            title: 'ðŸš€ Space Economy Analyst',
            mode: 'ideas',
            description: 'Help investors and businesses understand opportunities in the emerging space economy.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research the space economy: Starlink, satellite internet, space tourism. Map the landscape.', xp: 40},
                {mode: 'ideas', task: 'Identify 20 companies that could benefit from SpaceX success (suppliers, competitors, adjacent).', xp: 40},
                {mode: 'execution', task: 'Create "Space Economy Investment Map" showing opportunities and connections.', xp: 50},
                {mode: 'personality', task: 'Share your analysis with investors and space enthusiasts.', xp: 45},
                {mode: 'execution', task: 'Write weekly updates on space economy developments.', xp: 45},
                {mode: 'personality', task: 'Build audience of space-curious investors.', xp: 50},
                {mode: 'execution', task: 'Create premium research reports on specific opportunities.', xp: 55},
                {mode: 'personality', task: 'Connect with VCs and analysts covering space.', xp: 55},
                {mode: 'execution', task: 'Develop consulting offering for space-adjacent investment.', xp: 55},
                {mode: 'execution', task: 'Land first paid research or consulting client.', xp: 60}
            ]
        }
    ]
},

{
    id: 'anthropic-ipo',
    title: 'Anthropic IPO values company at $100B+',
    source: 'Polymarket',
    probability: 45,
    timeframe: '2026-2027',
    category: 'tech',
    threatMode: 'ideas',
    threatReason: 'AI safety-focused companies may dominate enterprise. Understanding their approach matters.',
    atRisk: 'Businesses choosing AI vendors without considering safety track record',
    opportunities: [
        {
            title: 'ðŸ›¡ï¸ AI Vendor Evaluation Consultant',
            mode: 'ideas',
            description: 'Help enterprises choose between AI vendors based on safety, reliability, and fit.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Deep dive into differences between OpenAI, Anthropic, Google, Meta AI approaches.', xp: 40},
                {mode: 'execution', task: 'Create comparison matrix: safety, capabilities, pricing, enterprise features.', xp: 45},
                {mode: 'ideas', task: 'Research AI vendor failures and successes. What went wrong/right?', xp: 40},
                {mode: 'execution', task: 'Develop "AI Vendor Selection Framework" for enterprises.', xp: 50},
                {mode: 'personality', task: 'Share framework with CTOs and technical leaders.', xp: 50},
                {mode: 'execution', task: 'Create RFP template for AI vendor evaluation.', xp: 45},
                {mode: 'personality', task: 'Offer free vendor evaluations to 3 companies.', xp: 50},
                {mode: 'execution', task: 'Build case studies from your evaluations.', xp: 45},
                {mode: 'execution', task: 'Package as consulting service.', xp: 50},
                {mode: 'execution', task: 'Get first paid vendor evaluation engagement.', xp: 55}
            ]
        }
    ]
},

{
    id: 'apple-ai-device',
    title: 'Apple launches dedicated AI device (not phone/watch/computer)',
    source: 'Industry Rumors',
    probability: 40,
    timeframe: '2026-2027',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'Apple entering AI hardware legitimizes the category and sets design standards.',
    atRisk: 'AI hardware startups that can\'t compete with Apple\'s ecosystem',
    opportunities: [
        {
            title: 'ðŸ“± Apple Ecosystem AI Developer',
            mode: 'execution',
            description: 'Build apps and integrations for Apple\'s AI ecosystem before competitors.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'execution', task: 'Learn Apple\'s AI frameworks: Core ML, Create ML, Apple Intelligence APIs.', xp: 45},
                {mode: 'ideas', task: 'Study how Apple approaches AI differently (on-device, privacy-focused).', xp: 40},
                {mode: 'execution', task: 'Build a simple app using Apple\'s AI capabilities.', xp: 50},
                {mode: 'ideas', task: 'Identify 10 app ideas that could leverage Apple AI hardware.', xp: 40},
                {mode: 'execution', task: 'Prototype your best app idea.', xp: 55},
                {mode: 'personality', task: 'Share your development journey with iOS developer community.', xp: 45},
                {mode: 'execution', task: 'Submit app to App Store.', xp: 50},
                {mode: 'personality', task: 'Connect with Apple developer relations if possible.', xp: 50},
                {mode: 'execution', task: 'Iterate based on user feedback.', xp: 45},
                {mode: 'execution', task: 'Get 1,000 downloads or first revenue.', xp: 60}
            ]
        }
    ]
},

{
    id: 'meta-metaverse-pivot',
    title: 'Meta pivots away from metaverse, doubles down on AI',
    source: 'Industry Analysis',
    probability: 70,
    timeframe: '2026',
    category: 'tech',
    threatMode: 'ideas',
    threatReason: 'VR/AR timelines extend. AI becomes the near-term opportunity.',
    atRisk: 'VR developers who bet everything on near-term metaverse adoption',
    opportunities: [
        {
            title: 'ðŸ¥½ VR/AR Long-Term Positioning',
            mode: 'ideas',
            description: 'Position for VR/AR\'s eventual success while building sustainable income now.',
            difficulty: 'medium',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research VR/AR adoption curves. When do experts expect mass adoption?', xp: 35},
                {mode: 'ideas', task: 'Identify skills that transfer from VR/AR to current AI opportunities.', xp: 40},
                {mode: 'execution', task: 'Build one project that works in both VR and non-VR contexts.', xp: 50},
                {mode: 'execution', task: 'Create content about VR/AR for the long-term believers.', xp: 40},
                {mode: 'personality', task: 'Build community of patient VR/AR enthusiasts.', xp: 50},
                {mode: 'execution', task: 'Develop AI-powered tools that could enhance future VR/AR.', xp: 50},
                {mode: 'personality', task: 'Connect with VR/AR researchers and developers.', xp: 50},
                {mode: 'execution', task: 'Create sustainable income while waiting for VR/AR.', xp: 55},
                {mode: 'ideas', task: 'Write "State of VR/AR" annual report to build authority.', xp: 45},
                {mode: 'execution', task: 'Be positioned when VR/AR finally takes off.', xp: 55}
            ]
        }
    ]
},

{
    id: 'tiktok-ban-upheld',
    title: 'TikTok ban or forced sale happens in US',
    source: 'Legal Analysis',
    probability: 55,
    timeframe: '2026',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'Creator platforms are fragile. Diversification across platforms essential.',
    atRisk: 'Creators dependent entirely on TikTok for income',
    opportunities: [
        {
            title: 'ðŸ“± Platform-Agnostic Creator',
            mode: 'execution',
            description: 'Build audience across multiple platforms so no single ban can destroy your business.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Audit your current platform dependency. Where does your income come from?', xp: 30},
                {mode: 'execution', task: 'Identify 3 platforms where your content could work.', xp: 35},
                {mode: 'execution', task: 'Repurpose your best content for a second platform.', xp: 40},
                {mode: 'execution', task: 'Post consistently on 2 platforms for 30 days.', xp: 45},
                {mode: 'personality', task: 'Build email list to own your audience directly.', xp: 50},
                {mode: 'execution', task: 'Get 500+ subscribers on email list.', xp: 50},
                {mode: 'execution', task: 'Create content that drives people to your owned channels.', xp: 45},
                {mode: 'personality', task: 'Build relationships with followers across platforms.', xp: 45},
                {mode: 'execution', task: 'Ensure no single platform is >50% of your audience.', xp: 50},
                {mode: 'execution', task: 'Create revenue stream that doesn\'t depend on any platform.', xp: 55}
            ]
        }
    ]
},

{
    id: 'twitter-x-decline',
    title: 'Twitter/X loses significant market share to alternatives',
    source: 'Industry Analysis',
    probability: 45,
    timeframe: '2026',
    category: 'tech',
    threatMode: 'personality',
    threatReason: 'Professional networking platforms shift. Being early on new platforms matters.',
    atRisk: 'Professionals whose network is entirely on Twitter/X',
    opportunities: [
        {
            title: 'ðŸ”„ Platform Migration Expert',
            mode: 'personality',
            description: 'Help professionals and businesses migrate their presence to emerging platforms.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Research Twitter alternatives: Threads, Bluesky, Mastodon. What\'s different about each?', xp: 30},
                {mode: 'execution', task: 'Create accounts on 3 alternative platforms. Learn how they work.', xp: 35},
                {mode: 'execution', task: 'Document best practices for each platform.', xp: 40},
                {mode: 'personality', task: 'Build small presence on each platform to understand dynamics.', xp: 45},
                {mode: 'execution', task: 'Create "Platform Migration Playbook" guide.', xp: 45},
                {mode: 'personality', task: 'Help 5 people migrate their presence for free.', xp: 50},
                {mode: 'execution', task: 'Document results and best practices.', xp: 40},
                {mode: 'personality', task: 'Share case studies of successful migrations.', xp: 45},
                {mode: 'execution', task: 'Offer paid migration services.', xp: 50},
                {mode: 'execution', task: 'Get first paid migration client.', xp: 55}
            ]
        }
    ]
},

{
    id: 'amazon-ai-assistant',
    title: 'Amazon launches GPT-competitor AI assistant',
    source: 'Industry Rumors',
    probability: 75,
    timeframe: '2026',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'E-commerce AI changes shopping forever. Product discovery goes conversational.',
    atRisk: 'E-commerce sellers not optimizing for AI-driven discovery',
    opportunities: [
        {
            title: 'ðŸ›’ AI Shopping Optimization',
            mode: 'execution',
            description: 'Help e-commerce sellers optimize for AI-driven product discovery.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Study how AI assistants recommend products. What signals do they use?', xp: 40},
                {mode: 'ideas', task: 'Research how Amazon\'s algorithm currently works. Read case studies.', xp: 40},
                {mode: 'execution', task: 'Create framework for AI-friendly product listings.', xp: 45},
                {mode: 'execution', task: 'Test framework on real products (yours or client\'s).', xp: 50},
                {mode: 'personality', task: 'Share findings with Amazon seller communities.', xp: 45},
                {mode: 'execution', task: 'Document before/after results.', xp: 45},
                {mode: 'personality', task: 'Offer free audits to 5 Amazon sellers.', xp: 50},
                {mode: 'execution', task: 'Refine framework based on real results.', xp: 45},
                {mode: 'execution', task: 'Create consulting service package.', xp: 50},
                {mode: 'execution', task: 'Get first paid optimization client.', xp: 55}
            ]
        }
    ]
},

{
    id: 'starlink-global-coverage',
    title: 'Starlink achieves true global coverage',
    source: 'SpaceX Announcements',
    probability: 85,
    timeframe: '2026',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'Internet everywhere changes remote work, travel, and living possibilities.',
    atRisk: 'Businesses built on geographic internet limitations',
    opportunities: [
        {
            title: 'ðŸŒ Remote Location Business',
            mode: 'execution',
            description: 'Build businesses that leverage internet access in previously unreachable locations.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Identify 10 businesses that couldn\'t exist without reliable rural/remote internet.', xp: 35},
                {mode: 'ideas', task: 'Research digital nomad trends. Where are people going? What do they need?', xp: 40},
                {mode: 'execution', task: 'Visit or research 3 remote locations with new Starlink coverage.', xp: 45},
                {mode: 'ideas', task: 'Identify specific opportunity in underserved remote location.', xp: 45},
                {mode: 'execution', task: 'Create business plan for remote-location venture.', xp: 50},
                {mode: 'personality', task: 'Connect with people already living/working in remote areas.', xp: 50},
                {mode: 'execution', task: 'Test your concept with minimal investment.', xp: 55},
                {mode: 'execution', task: 'Get first customers or validate demand.', xp: 55},
                {mode: 'personality', task: 'Document your journey for others interested in remote opportunities.', xp: 45},
                {mode: 'execution', task: 'Scale or pivot based on real results.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸš— AUTONOMOUS VEHICLES & TRANSPORTATION
// ============================================================================

{
    id: 'robotaxi-10-cities',
    title: 'Robotaxis operate in 10+ major US cities',
    source: 'Industry Projections',
    probability: 70,
    timeframe: '2026-2027',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'Transportation becomes a service, not ownership. Massive ripple effects.',
    atRisk: 'Car dealerships, parking garages, gas stations in urban areas',
    opportunities: [
        {
            title: 'ðŸš• Robotaxi Experience Designer',
            mode: 'ideas',
            description: 'Design in-vehicle experiences for passengers who no longer need to drive.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'execution', task: 'Take 10+ robotaxi rides (Waymo, Cruise). Document the experience in detail.', xp: 40},
                {mode: 'ideas', task: 'Identify 15 things passengers could do during rides they can\'t do while driving.', xp: 40},
                {mode: 'ideas', task: 'Study airline and train passenger experiences. What translates to cars?', xp: 35},
                {mode: 'execution', task: 'Design 5 in-vehicle experience concepts (productivity, entertainment, wellness).', xp: 50},
                {mode: 'personality', task: 'Survey 30 robotaxi riders about what they want.', xp: 50},
                {mode: 'execution', task: 'Create detailed design deck for best concept.', xp: 50},
                {mode: 'personality', task: 'Share concepts with AV companies and automotive designers.', xp: 55},
                {mode: 'execution', task: 'Build prototype or mockup of one experience.', xp: 55},
                {mode: 'personality', task: 'Connect with automotive interior designers.', xp: 50},
                {mode: 'execution', task: 'Pitch to AV companies or automotive suppliers.', xp: 60}
            ]
        }
    ]
},

// ============================================================================
// ðŸš— AUTONOMOUS VEHICLES MASS ADOPTION - COMPREHENSIVE FORECAST
// ============================================================================

{
    id: 'autonomous-mass-adoption-2030',
    title: 'Fully autonomous vehicles reach mass adoption by 2030',
    source: 'Waymo, Tesla FSD trajectory',
    probability: 72,
    timeframe: '2028-2030',
    category: 'transportation',
    threatMode: 'execution',
    threatReason: 'Driving becomes obsolete, but the commute doesn\'t disappear â€” it transforms. Winners design the experience inside the vehicle, not the vehicle itself.',
    atRisk: 'Professional drivers, driving instructors, auto insurance agents, parking lot operators, car dealership sales, traffic enforcement, body shops dependent on human error accidents',
    opportunities: [
        // OPPORTUNITY 1: INSURANCE
        {
            title: 'ðŸ›¡ï¸ Autonomous Insurance Innovation',
            mode: 'ideas',
            description: 'Insurance shifts from driver risk to system risk. Entirely new categories of coverage will emerge for AI failures, software updates, and fleet operations.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Map the New Liability Stack: Take a single autonomous trip (real or hypothetical). Write down every system involved: vehicle hardware, perception software, decision-making AI, mapping provider, cloud infrastructure, update pipeline. Identify who gets blamed if something goes wrong at each layer.', xp: 45},
                {mode: 'ideas', task: 'Replace "Accident" With "Failure Mode": Take 5 historical car accident scenarios. Rewrite them as system failure reports: sensor misclassification, latency issue, edge-case data gap, model confidence error. Categorize each by predictability and repeatability.', xp: 50},
                {mode: 'execution', task: 'Design a Synthetic Risk Dataset: Invent a fictional autonomous fleet. Define miles driven, software update frequency, incident rate per update, severity tiers. Build a simple risk table that an insurer could price.', xp: 55},
                {mode: 'execution', task: 'Audit an AI Like an Insurer Would: Pick any AI system (navigation, scheduling, recommender). Answer: How often does it fail? How detectable are failures? How fast can it be rolled back? Score it like a credit report for AI.', xp: 50},
                {mode: 'ideas', task: 'Find the New Policyholder: List 10 companies involved in autonomy (sensor manufacturers, AI model providers, mapping services, OTA update vendors). For each: What could go wrong? Who sues them? What coverage doesn\'t exist yet?', xp: 55},
                {mode: 'execution', task: 'Write a One-Page Policy That Doesn\'t Exist: Create a fictional policy like "Model Update Liability Insurance" or "AI Perception Error Indemnity". Define what\'s covered, what\'s excluded, trigger conditions.', xp: 50},
                {mode: 'ideas', task: 'Pick a Single Failure Mode to Insure: Choose one risk (software update regressions, edge-case geography failures, sensor degradation). Write why this risk is growing, why incumbents ignore it, who would pay to transfer it.', xp: 55},
                {mode: 'execution', task: 'Build the "Insurance Adjacent" MVP: Design one of these: AI audit tool, risk dashboard, compliance reporting layer, incident classification system. Rule: You are NOT allowed to sell insurance yet.', xp: 60},
                {mode: 'personality', task: 'Predict the First Autonomous Insurance Scandal: Invent a plausible headline from 2028. Explain what failed, why insurance coverage was unclear, who lost billions. Propose the company that could have prevented it. Share publicly.', xp: 55}
            ]
        },
        // OPPORTUNITY 2: FASHION & LIFESTYLE
        {
            title: 'ðŸ‘œ Fashion & Lifestyle for Transit',
            mode: 'personality',
            description: 'Interiors become status symbols. Clothing categories will be invented for postures that didn\'t matter before. The Labubu and Stanley Cup accessory phenomenon will repeat inside vehicles.',
            difficulty: 'medium',
            timeframe: '3-9 months',
            quests: [
                {mode: 'ideas', task: 'Redefine the Use-Case of Clothing: Take one clothing category (blazer, dress, pants, shoes). Rewrite its purpose for a 2-4 hour autonomous commute: What fails? What becomes uncomfortable? What becomes unnecessary? Redefine the garment\'s job.', xp: 40},
                {mode: 'ideas', task: 'Map the New Postures: List and sketch outfits for these postures: reclining + laptop, fully asleep, one-leg-up lounging, camera-on Zoom call, quick exit â†’ dinner-ready.', xp: 45},
                {mode: 'execution', task: 'Design an Outfit That Never Stands Up: Design a head-to-toe look that never needs to walk more than 30 steps but still signals taste, status, or identity. Choose fabrics, closures, silhouettes accordingly.', xp: 50},
                {mode: 'ideas', task: 'Invent a New Clothing Category: Create a category that only makes sense in driverless cars: transit robes, modular sleep suits, convertible work-lounge skins, privacy-enhancing garments. Define when it\'s worn, why it didn\'t exist before, why it feels inevitable.', xp: 55},
                {mode: 'execution', task: 'Dress for Always-On Cameras: Design a look optimized for sitting camera angles, mixed lighting, long wear without adjustment. Eliminate wrinkles, glare, awkward folds.', xp: 45},
                {mode: 'execution', task: 'Design the First "In-Car Capsule Drop": Create a 5-piece capsule meant to be sold inside the vehicle ecosystem through ride-hailing upgrades, subscription wardrobes, or autonomous fleet partnerships.', xp: 55},
                {mode: 'ideas', task: 'Design the Autonomous Travel Aesthetic: Design a cohesive in-car lifestyle kit: clothing, blanket/wrap, slippers, scent, eye mask. Name the aesthetic ("Night Transit", "Soft Arrival", "Moving Residence").', xp: 50},
                {mode: 'ideas', task: 'Who Loses When Cars Become Lounges? List fashion categories that decline (heels, stiff tailoring, hard bags) vs explode (knits, wraps, transformables). List retail formats that die vs emerge.', xp: 45},
                {mode: 'execution', task: 'Pick a Single In-Transit Pain Point: Choose one (wrinkling during long recline, temperature regulation while asleep, looking polished after sleep, privacy in glass-walled vehicles). Write who experiences this daily, why current fashion ignores it, what a premium solution looks like.', xp: 50},
                {mode: 'execution', task: 'Prototype Without Fabric: Create a digital lookbook, narrative campaign, and product description. No samples allowed. Test taste before manufacturing.', xp: 55},
                {mode: 'personality', task: 'Predict the First Driverless Fashion Status Symbol: Write a 2029 headline about the garment everyone wears in autonomous cars. Explain what it signals, who adopts first, why it becomes inevitable. Share publicly.', xp: 50}
            ]
        },
        // OPPORTUNITY 3: CAR INTERIORS
        {
            title: 'ðŸª‘ Car Interior Revolution',
            mode: 'execution',
            description: 'Car interiors transform from driver-centric to room-like spaces. Sleep zones, work zones, social zones, and privacy zones become standard. The steering wheel deletion creates new square footage for value.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Delete the Driver: Take a current luxury car interior. Remove steering wheel, pedals, driver-oriented dashboard. Redesign the space as if no one ever faces forward. Every removed component creates new square footage for value.', xp: 50},
                {mode: 'ideas', task: 'Name the New Zones: Define interior zones for Sleep, Work, Social, Privacy, and Transition (wake-up/arrival). Name them like rooms in a home or hotel suite.', xp: 45},
                {mode: 'execution', task: 'Design for the 3-Hour Recline: Design seating for 3-hour sleep, 90-minute work session, 30-minute decompression. Specify angle, materials, pressure points, sensory controls.', xp: 55},
                {mode: 'ideas', task: 'Invent a Seat That Isn\'t a Seat: Create a new object that replaces traditional car seats, airline seats, and office chairs. Define what posture it supports, how it transforms, why it couldn\'t exist before autonomy.', xp: 55},
                {mode: 'execution', task: 'Design a Mood Engine: Create 3 interior modes: Sleep Mode, Focus Mode, Arrival Mode. Define lighting, sound, temperature, scent, screen behavior for each.', xp: 50},
                {mode: 'execution', task: 'Design the Zoom-Ready Interior: Design an interior optimized for video calls, content creation, private conversations. Specify camera placement, background surfaces, lighting angles, acoustic treatment.', xp: 50},
                {mode: 'ideas', task: 'Design an Interior That Never Shows Speed: Design an interior where speed is invisible, acceleration is imperceptible, distance feels irrelevant. Explain why this increases trust and who wants it most.', xp: 50},
                {mode: 'execution', task: 'Design a Mobile Hotel Room: Design a one-night autonomous suite with sleep, bathroom workaround, storage, wake-up ritual. Define who pays, when it\'s used, why hotels lose.', xp: 55},
                {mode: 'ideas', task: 'Create an Interior Subscription: Design a subscription for seasonal interiors, mood-based swaps, or brand-collab interiors. Define update cadence, price logic, target customer.', xp: 50},
                {mode: 'execution', task: 'Build the Interior MVP Without a Car: Prototype a seat module, lighting system, privacy solution, or digital interior OS. Must work in a room first, no vehicle required.', xp: 60},
                {mode: 'personality', task: 'Predict the First Interior Status Symbol: Write a 2028 headline about the autonomous interior feature everyone now expects. Explain what it signals, who adopts first, why it becomes non-negotiable. Share publicly.', xp: 50}
            ]
        },
        // OPPORTUNITY 4: SLEEP THERAPY & SOUNDPROOFING
        {
            title: 'ðŸ˜´ Sleep Therapy & Soundproof Systems',
            mode: 'execution',
            description: 'Driverless cars turn sleep from "recovery at home" into "programmable therapy in motion." Silence, darkness, temperature, vibration, and sound become products, not amenities.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Redefine Sleep as an Input-Output System: Break sleep into controllable variables: Sound, Light, Temperature, Motion, Pressure, Timing. For each: What helps sleep? What disrupts it in cars specifically?', xp: 45},
                {mode: 'ideas', task: 'Map Sleep Debt by Lifestyle: Pick 3 personas (founder/exec, parent, shift worker). For each: When are they sleep deprived? Where are they already traveling while exhausted? What would they pay for guaranteed rest?', xp: 50},
                {mode: 'execution', task: 'Audit Noise Like a Sleep Engineer: List all sound sources inside an autonomous vehicle (road noise, wind, mechanical hum, notifications, other passengers). Classify each by frequency, predictability, sleep disruption severity.', xp: 45},
                {mode: 'execution', task: 'Design a Silence Stack: Design a layered silence system: physical insulation, active noise cancellation, sound masking, personalized audio profiles. Explain what each layer solves, why no single solution is enough.', xp: 55},
                {mode: 'execution', task: 'Design a Sleep Therapy Session in Motion: Design a 90-minute mobile sleep protocol with wind-down, sleep induction, maintenance, and wake-up phases. Specify sound, lighting, temperature shifts, timing cues.', xp: 55},
                {mode: 'execution', task: 'Solve the Wake-Up Problem: Design a wake-up system that prevents sleep inertia, syncs with destination arrival, leaves the user functional. Consider light ramps, sound gradients, gentle motion cues.', xp: 50},
                {mode: 'execution', task: 'Design a Mattress for Motion: Design a sleep surface that adapts to vibration, redistributes pressure while reclining, works seated or flat. Explain why existing mattresses don\'t work, what must be invented.', xp: 55},
                {mode: 'execution', task: 'Invent a Personal Sleep Pod: Design a modular pod for shared fleets that provides privacy, sound isolation, hygiene, emotional safety. Define how it\'s cleaned, swapped, and who pays for it.', xp: 60},
                {mode: 'ideas', task: 'Replace the One-Night Hotel: Compare $250 airport hotel stay vs $300 overnight autonomous sleep ride. Analyze convenience, recovery quality, time saved.', xp: 45},
                {mode: 'execution', task: 'Design a Sleep Subscription: Design a subscription offering guaranteed rest hours per month, priority sleep vehicles, personalized sleep profiles. Define who it\'s for, why they stay subscribed, why this beats wearables.', xp: 55},
                {mode: 'execution', task: 'Build a Sleep MVP Without a Car: Prototype one: soundproof panel, sleep sound algorithm, lighting sequence, or portable pod. Must work in a bedroom first, then scale to vehicles.', xp: 55},
                {mode: 'personality', task: 'Predict the First Autonomous Sleep Prescription: Write a 2029 headline: "Doctors now prescribe autonomous sleep sessions for burnout". Explain why it became medicalized, who pays, which company wins first. Share publicly.', xp: 50}
            ]
        },
        // OPPORTUNITY 5: MOTION SICKNESS SOLUTIONS
        {
            title: 'ðŸ¤¢ Motion Sickness & Stability Design',
            mode: 'execution',
            description: 'Motion sickness isn\'t a medical issue â€” it\'s a design failure caused by broken sensory trust. Solving this removes a hard adoption ceiling for autonomous vehicles.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Rewrite What Motion Sickness Actually Is: Rewrite motion sickness as a sensory mismatch, a prediction failure, a systems coordination problem. List what the body expects, what autonomy breaks, where design can intervene.', xp: 45},
                {mode: 'ideas', task: 'Audit Your Own Body: Recall the last time you felt motion sick. Write what you were looking at, your posture, sound environment, airflow, whether motion was predictable.', xp: 40},
                {mode: 'execution', task: 'Design a Fake Horizon: Design a non-screen-based horizon system using light, lines, peripheral cues. Explain where it lives in the interior, when it activates, why it reduces nausea.', xp: 50},
                {mode: 'execution', task: 'Remove the Forward View: Assume no windshield view, passenger facing sideways or backward, screens in use. Design a visual system that still keeps people stable.', xp: 55},
                {mode: 'ideas', task: 'Find the Anti-Nausea Posture: Define the worst posture for nausea and the best posture for nausea. Explain head angle, neck support, body alignment to motion.', xp: 45},
                {mode: 'execution', task: 'Invent a Seat That Actively Prevents Sickness: Design a seat that micro-adjusts during turns, stabilizes the head, signals upcoming motion. Explain what it senses, how it moves, why this beats recliners.', xp: 60},
                {mode: 'execution', task: 'Design a Motion-Calming Sound Profile: Design a sound environment that masks disruptive frequencies, reinforces motion cues, reduces anxiety. Specify frequency ranges, volume dynamics, when it changes.', xp: 50},
                {mode: 'execution', task: 'Engineer Air as Medicine: Design an airflow + scent system that reduces nausea, maintains alertness, avoids sensory overload. Explain vent placement, scent strategy, personalization logic.', xp: 50},
                {mode: 'execution', task: 'Make Motion Predictable: Design a system that subtly communicates upcoming turns, braking, acceleration using light, haptics, sound. No screens allowed.', xp: 55},
                {mode: 'ideas', task: 'Design for Children & Elderly First: Redesign your anti-nausea system for a 6-year-old and an 80-year-old. Explain what changes, what stays, why this improves mainstream adoption.', xp: 50},
                {mode: 'execution', task: 'Build the MVP Without a Car: Prototype one: lighting system, seat add-on, sound profile, or wearable stabilizer. Testable in a room, must show measurable relief.', xp: 55},
                {mode: 'personality', task: 'Predict the First Autonomy Adoption Stall: Write a 2027 headline: "Autonomous adoption slows due to widespread passenger nausea". Explain what wasn\'t solved, who ignored it, which company fixes it and wins. Share publicly.', xp: 50}
            ]
        },
        // OPPORTUNITY 6: AI CONCIERGE ASSISTANTS
        {
            title: 'ðŸ¤– AI Concierge Trip Assistants',
            mode: 'ideas',
            description: 'The AI assistant stops being a chatbot and becomes a trip director + body-aware concierge. It\'s not helping you drive â€” it\'s helping you arrive well.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Rewrite the Job Description: Rewrite "concierge" for autonomous travel including physical state (tired, nauseous, alert), emotional state (stressed, excited, private), temporal state (early, on time, flexible). List what the assistant controls, what it never asks permission for, what it escalates to the human.', xp: 50},
                {mode: 'ideas', task: 'Design for Arrival, Not the Ride: Pick one arrival scenario (board meeting, date, overnight flight replacement, family pickup). Define how the passenger should feel upon arrival and what must happen during transit to enable that.', xp: 45},
                {mode: 'execution', task: 'Build the Context Stack: Design a context model that includes calendar, trip length, time of day, passenger history, weather + traffic smoothness, body signals. Decide what is inferred, what is explicit, what decays over time.', xp: 55},
                {mode: 'ideas', task: 'Anticipate Before the User Notices: Write 10 things a concierge assistant should do BEFORE the user asks during a 90-minute ride. Examples: adjust lighting before a call, suggest a rest window, silence notifications pre-nausea, prep arrival wardrobe reminder.', xp: 50},
                {mode: 'execution', task: 'Design a Motion-Safe Mode: Design an assistant mode that activates when reading starts, reclining increases, or turns intensify. Define what the assistant changes (light, sound, posture cues) and what it explains vs does silently.', xp: 55},
                {mode: 'execution', task: 'Solve the Nausea Moment: Design a 60-second intervention for early nausea. What\'s the first signal? What does the assistant do immediately? What happens if symptoms escalate?', xp: 50},
                {mode: 'execution', task: 'Design the Meeting-in-Motion Flow: Design how the assistant prepares for a video call: lighting, camera framing, sound isolation, do-not-disturb logic. Include a pre-call checklist the user never sees.', xp: 55},
                {mode: 'execution', task: 'Privacy as a Concierge Service: Design a system where the assistant detects sensitive moments, manages glass opacity, sound bleed, notifications, and adapts for shared rides vs private.', xp: 50},
                {mode: 'ideas', task: 'Curate the Journey: Design a curated 2-hour journey with content (audio/visual), food or beverage timing, rest + stimulation cycles. Name the experience ("Soft Arrival", "Night Transit", "Executive Reset").', xp: 50},
                {mode: 'execution', task: 'Solve the Last 10 Minutes: Design how the assistant handles wake-up, grooming reminders, mental framing, arrival pacing. Explain why the last 10 minutes matter more than the first 50.', xp: 55},
                {mode: 'execution', task: 'Prototype the Concierge Without a Car: Prototype using calendar + maps + audio, simple rules engine, one arrival scenario. Measure stress reduction, perceived control, arrival readiness.', xp: 60},
                {mode: 'personality', task: 'Predict the Moment Concierge AI Becomes Mandatory: Write a 2028 headline: "Passengers refuse autonomous rides without concierge AI". Explain what broke without it, what the assistant fixed, who owns the layer. Share publicly.', xp: 50}
            ]
        }
    ]
},

{
    id: 'ev-charging-ubiquitous',
    title: 'EV charging becomes as convenient as gas stations',
    source: 'Industry Projections',
    probability: 60,
    timeframe: '3-5 years',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'EV adoption accelerates. Gas station business model transforms.',
    atRisk: 'Gas stations that don\'t adapt; mechanics specialized in combustion engines',
    opportunities: [
        {
            title: 'âš¡ EV Charging Location Scout',
            mode: 'execution',
            description: 'Help businesses identify and develop EV charging opportunities.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research EV charging economics. How do charging stations make money?', xp: 35},
                {mode: 'ideas', task: 'Study where EV drivers charge and where gaps exist.', xp: 40},
                {mode: 'execution', task: 'Map charging deserts in your area using apps like PlugShare.', xp: 40},
                {mode: 'execution', task: 'Identify 10 businesses that could benefit from adding charging.', xp: 45},
                {mode: 'personality', task: 'Talk to 5 business owners about adding EV charging.', xp: 50},
                {mode: 'ideas', task: 'Research incentives and grants for EV charging installation.', xp: 40},
                {mode: 'execution', task: 'Create proposal template for businesses considering charging.', xp: 50},
                {mode: 'personality', task: 'Connect with EV charging installers for partnerships.', xp: 50},
                {mode: 'execution', task: 'Help one business through the charging installation process.', xp: 55},
                {mode: 'execution', task: 'Get first paid consulting or referral fee.', xp: 55}
            ]
        }
    ]
},

{
    id: 'delivery-robots-common',
    title: 'Delivery robots become common in suburban neighborhoods',
    source: 'Industry Projections',
    probability: 50,
    timeframe: '3-5 years',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'Last-mile delivery transforms. Local delivery jobs change significantly.',
    atRisk: 'Delivery drivers, local courier services',
    opportunities: [
        {
            title: 'ðŸ¤– Robot Delivery Coordinator',
            mode: 'execution',
            description: 'Help businesses integrate robot delivery into their operations.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research delivery robot companies: Starship, Serve, Nuro. What\'s available?', xp: 35},
                {mode: 'execution', task: 'Map which areas in your region have robot delivery available.', xp: 35},
                {mode: 'ideas', task: 'Identify businesses that could benefit: restaurants, pharmacies, grocers.', xp: 40},
                {mode: 'personality', task: 'Talk to 5 local businesses about their delivery challenges.', xp: 45},
                {mode: 'execution', task: 'Create business case template for robot delivery adoption.', xp: 45},
                {mode: 'personality', task: 'Connect with robot delivery company sales teams.', xp: 50},
                {mode: 'execution', task: 'Help one business pilot robot delivery.', xp: 55},
                {mode: 'execution', task: 'Document results: cost savings, customer satisfaction.', xp: 45},
                {mode: 'personality', task: 'Share case study with other businesses.', xp: 45},
                {mode: 'execution', task: 'Get paid for integration consulting.', xp: 55}
            ]
        }
    ]
},

{
    id: 'flying-cars-limited',
    title: 'Flying cars/air taxis begin limited commercial operations',
    source: 'Joby, Archer announcements',
    probability: 45,
    timeframe: '2026-2027',
    category: 'tech',
    threatMode: 'ideas',
    threatReason: 'New transportation layer emerges. Early infrastructure positions win big.',
    atRisk: 'Urban real estate without vertical takeoff potential',
    opportunities: [
        {
            title: 'ðŸ›« Vertiport Scout',
            mode: 'ideas',
            description: 'Identify and evaluate potential locations for air taxi takeoff/landing spots.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research air taxi requirements: space, noise limits, infrastructure.', xp: 40},
                {mode: 'ideas', task: 'Study early vertiport developments. What are they looking for?', xp: 40},
                {mode: 'execution', task: 'Map 20 potential vertiport locations in your metro area.', xp: 50},
                {mode: 'ideas', task: 'Research zoning and regulatory requirements for vertiports.', xp: 45},
                {mode: 'personality', task: 'Connect with commercial real estate developers.', xp: 50},
                {mode: 'execution', task: 'Create location evaluation framework.', xp: 50},
                {mode: 'personality', task: 'Reach out to air taxi companies about site selection.', xp: 55},
                {mode: 'execution', task: 'Develop pitch deck for property owners.', xp: 50},
                {mode: 'personality', task: 'Facilitate introductions between property owners and air taxi cos.', xp: 55},
                {mode: 'execution', task: 'Get commission or fee from successful site development.', xp: 60}
            ]
        }
    ]
},

// ============================================================================
// ðŸ  SERVICES & TRADES
// ============================================================================

{
    id: 'handyman-premium',
    title: 'Skilled trades command premium prices as supply shrinks',
    source: 'Labor Statistics',
    probability: 85,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Everyone went to college. Skilled trades face massive labor shortage.',
    atRisk: 'White-collar workers competing in oversupplied job markets',
    opportunities: [
        {
            title: 'ðŸ”§ Premium Handyman Service',
            mode: 'execution',
            description: 'High-end handyman service for busy professionals who can\'t find reliable help.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Identify 10 common home repairs/tasks that are hard to find help for.', xp: 30},
                {mode: 'execution', task: 'Learn or improve 3 handyman skills (YouTube, classes, practice).', xp: 45},
                {mode: 'execution', task: 'Get basic tools and supplies for common repairs.', xp: 35},
                {mode: 'personality', task: 'Tell 20 people you\'re available for handyman work.', xp: 40},
                {mode: 'execution', task: 'Complete your first 5 jobs (even if cheap/free).', xp: 45},
                {mode: 'personality', task: 'Ask every customer for review and referral.', xp: 45},
                {mode: 'execution', task: 'Set premium pricing based on reliability and quality.', xp: 40},
                {mode: 'execution', task: 'Create booking system and professional presence.', xp: 45},
                {mode: 'personality', task: 'Build relationships with real estate agents for referrals.', xp: 50},
                {mode: 'execution', task: 'Reach $2,000/month in handyman income.', xp: 55}
            ]
        }
    ]
},

{
    id: 'landscaping-shortage',
    title: 'Landscaping and outdoor services face critical labor shortage',
    source: 'Industry Reports',
    probability: 80,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Outdoor work is hard but increasingly valuable. Supply/demand imbalance grows.',
    atRisk: 'Those competing in oversupplied indoor/office job markets',
    opportunities: [
        {
            title: 'ðŸŒ¿ Premium Landscaping Service',
            mode: 'execution',
            description: 'High-end landscaping for clients who can\'t find reliable service.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research landscaping services in your area. What\'s missing?', xp: 30},
                {mode: 'execution', task: 'Start with basic services: mowing, trimming, cleanup. Get equipment.', xp: 40},
                {mode: 'personality', task: 'Get first 5 customers from neighbors, friends, Nextdoor.', xp: 45},
                {mode: 'execution', task: 'Deliver exceptional service. Show up on time, communicate clearly.', xp: 40},
                {mode: 'personality', task: 'Ask every customer for review and referral.', xp: 45},
                {mode: 'execution', task: 'Learn additional skills: irrigation, hardscaping basics, design.', xp: 50},
                {mode: 'execution', task: 'Raise prices as demand increases.', xp: 40},
                {mode: 'personality', task: 'Build relationships with garden centers for referrals.', xp: 45},
                {mode: 'execution', task: 'Hire helper for busy season.', xp: 50},
                {mode: 'execution', task: 'Reach $5,000/month in landscaping revenue.', xp: 55}
            ]
        }
    ]
},

{
    id: 'home-organization-demand',
    title: 'Home organization services see massive demand increase',
    source: 'Industry Reports',
    probability: 75,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'People have stuff and no time. Marie Kondo created demand, few can fulfill it.',
    atRisk: 'No one â€” this is pure opportunity in undersupplied market',
    opportunities: [
        {
            title: 'ðŸ  Professional Home Organizer',
            mode: 'personality',
            description: 'Help overwhelmed families declutter and organize their homes.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Read Marie Kondo, The Home Edit, or similar. Learn frameworks.', xp: 30},
                {mode: 'execution', task: 'Practice by organizing your own space. Document before/after.', xp: 35},
                {mode: 'personality', task: 'Offer free organizing session to 3 friends. Get practice.', xp: 45},
                {mode: 'execution', task: 'Create photo portfolio of your work.', xp: 40},
                {mode: 'personality', task: 'Get testimonials from free sessions.', xp: 40},
                {mode: 'execution', task: 'Set pricing: hourly or by project.', xp: 35},
                {mode: 'personality', task: 'Post before/after photos on social media.', xp: 45},
                {mode: 'execution', task: 'Get first 3 paying clients.', xp: 50},
                {mode: 'personality', task: 'Ask happy clients for referrals.', xp: 45},
                {mode: 'execution', task: 'Reach $1,500/month in organizing income.', xp: 55}
            ]
        }
    ]
},

{
    id: 'senior-services-boom',
    title: 'Services for aging population see explosive growth',
    source: 'Demographics',
    probability: 95,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'Baby boomers aging. Massive demand for patient, trustworthy service providers.',
    atRisk: 'No one â€” demographics guarantee this market',
    opportunities: [
        {
            title: 'ðŸ‘´ Senior Concierge Service',
            mode: 'personality',
            description: 'Help seniors with tasks their families can\'t: tech help, errands, companionship.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Research what services seniors need most: tech help, transportation, errands.', xp: 30},
                {mode: 'personality', task: 'Talk to 5 seniors or their adult children about challenges.', xp: 40},
                {mode: 'execution', task: 'Define your service offering: what will you do and not do?', xp: 35},
                {mode: 'personality', task: 'Volunteer at senior center to build trust and learn.', xp: 45},
                {mode: 'execution', task: 'Get basic background check to build credibility.', xp: 35},
                {mode: 'personality', task: 'Get first 3 clients through word of mouth.', xp: 50},
                {mode: 'execution', task: 'Set hourly or package pricing.', xp: 35},
                {mode: 'personality', task: 'Build relationships with families, not just seniors.', xp: 50},
                {mode: 'execution', task: 'Create client tracking and scheduling system.', xp: 40},
                {mode: 'execution', task: 'Reach $2,000/month in senior services.', xp: 55}
            ]
        }
    ]
},

{
    id: 'pet-services-boom',
    title: 'Pet services industry continues explosive growth',
    source: 'Industry Reports',
    probability: 90,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Pets are family now. Spending on pet services increasingly exceeds logic.',
    atRisk: 'No one â€” pet parents spend irrationally',
    opportunities: [
        {
            title: 'ðŸ• Premium Pet Services',
            mode: 'execution',
            description: 'Offer premium pet sitting, walking, or specialized pet services.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Research pet services in your area. What\'s oversupplied vs undersupplied?', xp: 30},
                {mode: 'execution', task: 'Choose your niche: walking, sitting, training, grooming.', xp: 30},
                {mode: 'personality', task: 'Start with friends\' pets. Build experience and references.', xp: 40},
                {mode: 'execution', task: 'Get pet first aid certified (shows professionalism).', xp: 40},
                {mode: 'execution', task: 'Create professional presence: photos with pets, reviews.', xp: 40},
                {mode: 'personality', task: 'List on Rover/Wag AND market independently.', xp: 40},
                {mode: 'execution', task: 'Set premium pricing based on reliability and quality.', xp: 35},
                {mode: 'personality', task: 'Build relationships with vets and pet stores for referrals.', xp: 50},
                {mode: 'execution', task: 'Get 10 regular clients.', xp: 50},
                {mode: 'execution', task: 'Reach $2,500/month in pet services.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸ½ï¸ HOSPITALITY & RESTAURANTS
// ============================================================================

{
    id: 'restaurant-automation',
    title: 'Restaurant automation (ordering kiosks, robot cooking) goes mainstream',
    source: 'Industry Trend',
    probability: 65,
    timeframe: '2-4 years',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'Fast food and fast casual automate. Human servers become premium, not default.',
    atRisk: 'Fast food workers; restaurants slow to adopt technology',
    opportunities: [
        {
            title: 'ðŸ¤– Restaurant Tech Consultant',
            mode: 'execution',
            description: 'Help restaurants evaluate and implement automation technology.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research restaurant automation: kiosks, kitchen robots, AI ordering.', xp: 40},
                {mode: 'execution', task: 'Visit 10 restaurants using technology. Document what works.', xp: 40},
                {mode: 'ideas', task: 'Create comparison of restaurant tech vendors and solutions.', xp: 45},
                {mode: 'personality', task: 'Talk to 5 restaurant owners about their tech challenges.', xp: 50},
                {mode: 'execution', task: 'Develop ROI calculator for restaurant automation.', xp: 50},
                {mode: 'execution', task: 'Create "Restaurant Tech Readiness Assessment"', xp: 45},
                {mode: 'personality', task: 'Offer free assessments to 3 restaurants.', xp: 50},
                {mode: 'execution', task: 'Document results and recommendations.', xp: 45},
                {mode: 'execution', task: 'Create consulting service package.', xp: 50},
                {mode: 'execution', task: 'Get first paid restaurant tech consulting client.', xp: 55}
            ]
        }
    ]
},

{
    id: 'ghost-kitchens-expand',
    title: 'Ghost kitchens become significant portion of restaurant industry',
    source: 'Industry Reports',
    probability: 70,
    timeframe: '2-4 years',
    category: 'tech',
    threatMode: 'execution',
    threatReason: 'Restaurant economics favor delivery-only. Physical dining becomes premium experience.',
    atRisk: 'Mediocre dine-in restaurants competing with delivery-optimized ghost kitchens',
    opportunities: [
        {
            title: 'ðŸ‘» Ghost Kitchen Launcher',
            mode: 'execution',
            description: 'Help entrepreneurs start ghost kitchen concepts with minimal capital.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research ghost kitchen economics. What are the real costs?', xp: 40},
                {mode: 'execution', task: 'Visit ghost kitchen facilities. Understand the operations.', xp: 45},
                {mode: 'ideas', task: 'Analyze delivery app data. What cuisines are underserved in your area?', xp: 45},
                {mode: 'execution', task: 'Create "Ghost Kitchen Launch Playbook"', xp: 50},
                {mode: 'personality', task: 'Connect with ghost kitchen facility operators.', xp: 50},
                {mode: 'execution', task: 'Help launch one ghost kitchen concept (your own or client\'s).', xp: 60},
                {mode: 'execution', task: 'Document the process: costs, timeline, results.', xp: 45},
                {mode: 'personality', task: 'Share case study with aspiring restaurant entrepreneurs.', xp: 50},
                {mode: 'execution', task: 'Create consulting or partnership model.', xp: 50},
                {mode: 'execution', task: 'Launch or help launch 3 ghost kitchen concepts.', xp: 60}
            ]
        }
    ]
},

{
    id: 'hotel-personalization',
    title: 'AI-powered hotel personalization becomes standard',
    source: 'Industry Trend',
    probability: 70,
    timeframe: '2-4 years',
    category: 'tech',
    threatMode: 'personality',
    threatReason: 'Hotels know everything about you. Human hospitality must exceed AI personalization.',
    atRisk: 'Hotel staff who don\'t add value beyond what AI can deliver',
    opportunities: [
        {
            title: 'ðŸ¨ Hospitality Experience Designer',
            mode: 'personality',
            description: 'Design memorable guest experiences that technology can\'t replicate.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Study luxury hospitality. What makes Ritz-Carlton, Four Seasons special?', xp: 40},
                {mode: 'personality', task: 'Interview 10 people about their best hotel experiences. What stood out?', xp: 45},
                {mode: 'ideas', task: 'Identify 10 human touches that AI can\'t replicate.', xp: 40},
                {mode: 'execution', task: 'Create "Human Touch Playbook" for hospitality staff.', xp: 50},
                {mode: 'personality', task: 'Share playbook with hotel managers for feedback.', xp: 50},
                {mode: 'execution', task: 'Develop training workshop for hospitality teams.', xp: 50},
                {mode: 'personality', task: 'Pilot workshop with one hotel.', xp: 55},
                {mode: 'execution', task: 'Document impact on guest satisfaction.', xp: 45},
                {mode: 'execution', task: 'Create consulting/training service package.', xp: 50},
                {mode: 'execution', task: 'Get first paid hospitality training client.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸ“± SOCIAL MEDIA & CONTENT
// ============================================================================

{
    id: 'social-media-ai-dominated',
    title: 'Social media feeds become majority AI-generated content',
    source: 'Industry Trend',
    probability: 60,
    timeframe: '2-3 years',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'AI content floods platforms. Human authenticity becomes rare and valuable.',
    atRisk: 'Creators who could be mistaken for AI; generic content producers',
    opportunities: [
        {
            title: 'âœ¨ Verified Human Creator',
            mode: 'personality',
            description: 'Build audience specifically around being authentically, provably human.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Identify what makes content feel authentically human vs AI-generated.', xp: 35},
                {mode: 'execution', task: 'Develop content style that emphasizes human elements: imperfection, emotion, spontaneity.', xp: 45},
                {mode: 'personality', task: 'Show your face, your voice, your environment. Make it personal.', xp: 40},
                {mode: 'execution', task: 'Document your creative process. Show the human behind the content.', xp: 40},
                {mode: 'personality', task: 'Engage in real conversations with followers.', xp: 45},
                {mode: 'execution', task: 'Create "proof of humanity" content: live sessions, behind-the-scenes.', xp: 45},
                {mode: 'personality', task: 'Build relationships, not just follower counts.', xp: 50},
                {mode: 'execution', task: 'Reach 1,000 engaged followers who know you\'re real.', xp: 50},
                {mode: 'personality', task: 'Create community around authentic human connection.', xp: 50},
                {mode: 'execution', task: 'Monetize through relationships, not volume.', xp: 55}
            ]
        }
    ]
},

{
    id: 'social-media-dies',
    title: 'Traditional social media usage declines as AI companions rise',
    source: 'Speculative/Industry Discussion',
    probability: 25,
    timeframe: '5-10 years',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'If AI companions satisfy social needs, human connection becomes scarce luxury.',
    atRisk: 'Businesses built entirely on social media engagement',
    opportunities: [
        {
            title: 'ðŸ¤ Human Connection Facilitator',
            mode: 'personality',
            description: 'Create spaces and experiences for genuine human connection in AI-saturated world.',
            difficulty: 'medium',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research AI companion trends. What needs are they meeting?', xp: 35},
                {mode: 'ideas', task: 'Identify what human connection provides that AI can\'t.', xp: 40},
                {mode: 'execution', task: 'Design an experience that facilitates real human connection.', xp: 45},
                {mode: 'personality', task: 'Host first small gathering focused on authentic connection.', xp: 50},
                {mode: 'execution', task: 'Create format that could be repeated.', xp: 45},
                {mode: 'personality', task: 'Get feedback on what worked.', xp: 40},
                {mode: 'execution', task: 'Iterate and host 3 more events.', xp: 50},
                {mode: 'personality', task: 'Build community of people seeking real connection.', xp: 50},
                {mode: 'execution', task: 'Create membership or recurring event model.', xp: 50},
                {mode: 'execution', task: 'Monetize through events or community membership.', xp: 55}
            ]
        }
    ]
},

{
    id: 'hobby-content-explosion',
    title: 'Niche hobby content sees explosive growth',
    source: 'Industry Trend',
    probability: 85,
    timeframe: 'Already happening',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'People retreat to specific interests. Generic content loses, niche wins.',
    atRisk: 'Creators trying to appeal to everyone',
    opportunities: [
        {
            title: 'ðŸŽ¯ Micro-Niche Creator',
            mode: 'personality',
            description: 'Dominate a tiny niche that you genuinely love.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'List 10 hobbies or interests you could talk about passionately for hours.', xp: 25},
                {mode: 'ideas', task: 'Research each: existing creators, audience size, monetization potential.', xp: 35},
                {mode: 'execution', task: 'Pick the one where you have genuine edge and interest.', xp: 30},
                {mode: 'execution', task: 'Create 20 pieces of content in 30 days.', xp: 45},
                {mode: 'personality', task: 'Engage deeply with everyone in your niche community.', xp: 45},
                {mode: 'execution', task: 'Become known as a valuable contributor before promoting yourself.', xp: 40},
                {mode: 'personality', task: 'Connect with other creators in your micro-niche.', xp: 45},
                {mode: 'execution', task: 'Reach 1,000 followers in your specific niche.', xp: 50},
                {mode: 'execution', task: 'Create product or service for your niche.', xp: 50},
                {mode: 'execution', task: 'Make first $500 from your niche audience.', xp: 55}
            ]
        }
    ]
},

{
    id: 'newsletter-renaissance',
    title: 'Email newsletters continue growth as algorithm-free channel',
    source: 'Industry Trend',
    probability: 80,
    timeframe: 'Already happening',
    category: 'media',
    threatMode: 'execution',
    threatReason: 'Owning your audience matters. Email is the only platform you control.',
    atRisk: 'Creators without email list at mercy of algorithm changes',
    opportunities: [
        {
            title: 'ðŸ“§ Newsletter Builder',
            mode: 'execution',
            description: 'Build a newsletter in a topic you know well. Own your audience.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Identify topic you could write about weekly for 2+ years.', xp: 30},
                {mode: 'ideas', task: 'Research existing newsletters in your space. What\'s your angle?', xp: 35},
                {mode: 'execution', task: 'Set up newsletter on Substack, Beehiiv, or ConvertKit.', xp: 30},
                {mode: 'execution', task: 'Write and send your first 4 issues.', xp: 40},
                {mode: 'personality', task: 'Tell everyone you know about your newsletter.', xp: 40},
                {mode: 'execution', task: 'Reach 100 subscribers.', xp: 45},
                {mode: 'execution', task: 'Publish consistently for 8 weeks.', xp: 45},
                {mode: 'personality', task: 'Collaborate with other newsletter writers.', xp: 45},
                {mode: 'execution', task: 'Reach 500 subscribers.', xp: 50},
                {mode: 'execution', task: 'Monetize: paid tier, sponsorships, or products.', xp: 55}
            ]
        }
    ]
},

{
    id: 'podcast-saturation',
    title: 'Podcast market becomes oversaturated, winners take most',
    source: 'Industry Analysis',
    probability: 75,
    timeframe: 'Already happening',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'Too many podcasts, not enough listeners. Only exceptional survive.',
    atRisk: 'Generic interview podcasts without unique angle',
    opportunities: [
        {
            title: 'ðŸŽ™ï¸ Ultra-Niche Podcast',
            mode: 'personality',
            description: 'Create podcast for tiny but passionate audience. Better to be loved by few than liked by many.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Identify niche so specific that existing podcasts don\'t serve it well.', xp: 40},
                {mode: 'execution', task: 'Define your unique angle. What can only YOU bring?', xp: 40},
                {mode: 'execution', task: 'Record and publish first 4 episodes.', xp: 45},
                {mode: 'personality', task: 'Find and engage with your 100 ideal listeners.', xp: 50},
                {mode: 'execution', task: 'Publish weekly for 8 weeks consistently.', xp: 45},
                {mode: 'personality', task: 'Get guests who your niche audience would kill to hear.', xp: 50},
                {mode: 'execution', task: 'Reach 500 downloads per episode.', xp: 50},
                {mode: 'personality', task: 'Build community around the podcast.', xp: 50},
                {mode: 'execution', task: 'Monetize through premium content or community.', xp: 50},
                {mode: 'execution', task: 'Reach $500/month in podcast revenue.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽ¨ CREATIVE & HOBBIES
// ============================================================================

{
    id: 'ai-art-tools-mainstream',
    title: 'AI art tools become standard part of creative workflow',
    source: 'Industry Trend',
    probability: 90,
    timeframe: 'Already happening',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'AI generates infinite images. Human curation and direction become the skill.',
    atRisk: 'Stock photographers, generic illustrators',
    opportunities: [
        {
            title: 'ðŸŽ¨ AI Art Director',
            mode: 'ideas',
            description: 'Direct AI art tools to create specific visions. Prompting is the new drawing.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'execution', task: 'Use 5 AI art tools (Midjourney, DALL-E, Stable Diffusion). Create 100 images.', xp: 35},
                {mode: 'ideas', task: 'Study art direction: composition, color theory, style. Learn vocabulary.', xp: 40},
                {mode: 'execution', task: 'Develop consistent style you can replicate with prompts.', xp: 45},
                {mode: 'execution', task: 'Create portfolio of best AI art in your style.', xp: 40},
                {mode: 'personality', task: 'Share your work and process online.', xp: 40},
                {mode: 'execution', task: 'Create AI art for specific use case: book covers, social media, products.', xp: 45},
                {mode: 'personality', task: 'Offer free AI art to 5 people who need visuals.', xp: 45},
                {mode: 'execution', task: 'Build portfolio from collaborations.', xp: 45},
                {mode: 'execution', task: 'List AI art services on freelance platforms.', xp: 45},
                {mode: 'execution', task: 'Get first paid AI art commission.', xp: 55}
            ]
        }
    ]
},

{
    id: 'crafting-resurgence',
    title: 'Handmade and craft goods see resurgence as AI makes digital cheap',
    source: 'Industry Trend',
    probability: 70,
    timeframe: '2-5 years',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Digital becomes commodity. Physical handmade becomes premium.',
    atRisk: 'No one â€” this is opportunity in contrast to AI',
    opportunities: [
        {
            title: 'âœ‹ Handmade Goods Business',
            mode: 'execution',
            description: 'Sell genuinely handmade goods as premium alternative to mass-produced.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Identify craft you enjoy that could become product: pottery, woodwork, textiles.', xp: 30},
                {mode: 'execution', task: 'Create 10 items. Practice your craft.', xp: 40},
                {mode: 'execution', task: 'Photograph your work professionally.', xp: 35},
                {mode: 'personality', task: 'Share your work on social media. Show the making process.', xp: 40},
                {mode: 'execution', task: 'List items on Etsy or your own site.', xp: 40},
                {mode: 'personality', task: 'Tell the story behind each piece. People buy stories.', xp: 45},
                {mode: 'execution', task: 'Get first 10 sales.', xp: 50},
                {mode: 'personality', task: 'Ask every buyer for review and photos of item in use.', xp: 45},
                {mode: 'execution', task: 'Develop signature style that\'s recognizably yours.', xp: 45},
                {mode: 'execution', task: 'Reach $1,000/month in handmade sales.', xp: 55}
            ]
        }
    ]
},

{
    id: 'experience-economy',
    title: 'Experience economy grows as people prefer doing over having',
    source: 'Consumer Trends',
    probability: 80,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'People want memories, not stuff. Experience creators win.',
    atRisk: 'Retailers selling commodity products',
    opportunities: [
        {
            title: 'ðŸŽ­ Experience Creator',
            mode: 'personality',
            description: 'Design and host unique experiences people will remember and share.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'List 10 experiences you\'ve had that were memorable. What made them special?', xp: 30},
                {mode: 'ideas', task: 'Research experience economy: escape rooms, dinner parties, workshops.', xp: 35},
                {mode: 'execution', task: 'Design one unique experience you could host.', xp: 45},
                {mode: 'execution', task: 'Host first event for friends. Get detailed feedback.', xp: 50},
                {mode: 'personality', task: 'Document the experience with photos and video.', xp: 40},
                {mode: 'execution', task: 'Iterate based on feedback.', xp: 40},
                {mode: 'personality', task: 'Host for paying strangers. Price it.', xp: 50},
                {mode: 'execution', task: 'List on Airbnb Experiences, Eventbrite, or your own site.', xp: 45},
                {mode: 'personality', task: 'Get reviews and testimonials.', xp: 45},
                {mode: 'execution', task: 'Make experience repeatable. Host monthly.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸ§  HUMAN CONNECTION & WELLBEING
// ============================================================================

{
    id: 'loneliness-epidemic',
    title: 'Loneliness epidemic intensifies despite digital connection',
    source: 'Health Studies',
    probability: 85,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'Digital connection doesn\'t satisfy. Real human connection becomes premium service.',
    atRisk: 'No one â€” this is massive opportunity',
    opportunities: [
        {
            title: 'ðŸ¤— Connection Coach',
            mode: 'personality',
            description: 'Help lonely people build genuine relationships and community.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research loneliness research. Understand the causes and solutions.', xp: 35},
                {mode: 'ideas', task: 'Study successful community builders. What do they do?', xp: 35},
                {mode: 'execution', task: 'Create framework for building genuine connections.', xp: 45},
                {mode: 'personality', task: 'Practice your own connection skills. Meet 10 new people.', xp: 45},
                {mode: 'execution', task: 'Design coaching program for connection-building.', xp: 50},
                {mode: 'personality', task: 'Coach 3 people for free. Document results.', xp: 50},
                {mode: 'execution', task: 'Refine your program based on what worked.', xp: 45},
                {mode: 'personality', task: 'Share your approach publicly. Help others.', xp: 45},
                {mode: 'execution', task: 'Set up paid coaching practice.', xp: 50},
                {mode: 'execution', task: 'Get first 5 paying clients.', xp: 55}
            ]
        }
    ]
},

{
    id: 'mental-health-demand',
    title: 'Mental health services demand far exceeds supply',
    source: 'Health Statistics',
    probability: 95,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'Everyone needs mental health support. Therapists are overwhelmed.',
    atRisk: 'No one â€” demand far exceeds supply',
    opportunities: [
        {
            title: 'ðŸ§  Mental Health Adjacent Services',
            mode: 'personality',
            description: 'Provide support services that complement but don\'t replace therapy.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research what mental health support looks like outside therapy: coaching, groups, apps.', xp: 35},
                {mode: 'ideas', task: 'Identify gap you could fill without practicing therapy.', xp: 40},
                {mode: 'execution', task: 'Get relevant training or certification in coaching, facilitation, etc.', xp: 50},
                {mode: 'execution', task: 'Define your offering clearly. What you do and don\'t do.', xp: 40},
                {mode: 'personality', task: 'Offer free sessions to build experience.', xp: 50},
                {mode: 'execution', task: 'Create clear boundaries and referral protocols.', xp: 40},
                {mode: 'personality', task: 'Build relationships with therapists for referrals.', xp: 50},
                {mode: 'execution', task: 'Set up professional practice.', xp: 45},
                {mode: 'personality', task: 'Get testimonials (with permission).', xp: 45},
                {mode: 'execution', task: 'Build to 10 regular clients.', xp: 55}
            ]
        }
    ]
},

{
    id: 'digital-detox-demand',
    title: 'Digital detox and offline experiences see growing demand',
    source: 'Consumer Trends',
    probability: 75,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'People are burned out on screens. Offline becomes luxury.',
    atRisk: 'No one â€” this is opportunity in contrast to digital overload',
    opportunities: [
        {
            title: 'ðŸ“µ Digital Detox Guide',
            mode: 'personality',
            description: 'Help people take meaningful breaks from technology.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'execution', task: 'Do your own digital detox for a week. Document the experience.', xp: 40},
                {mode: 'ideas', task: 'Research digital detox retreats and programs. What do they offer?', xp: 35},
                {mode: 'execution', task: 'Create "Digital Detox Starter Guide"', xp: 40},
                {mode: 'personality', task: 'Share your detox experience publicly.', xp: 40},
                {mode: 'execution', task: 'Design a weekend digital detox experience.', xp: 45},
                {mode: 'personality', task: 'Host experience for 5 friends.', xp: 50},
                {mode: 'execution', task: 'Refine based on feedback.', xp: 40},
                {mode: 'personality', task: 'Partner with retreat center or outdoor venue.', xp: 50},
                {mode: 'execution', task: 'Host first paid detox retreat.', xp: 55},
                {mode: 'execution', task: 'Create recurring retreat or coaching program.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽ“ EDUCATION & LEARNING
// ============================================================================

{
    id: 'college-value-questioned',
    title: 'Traditional college ROI increasingly questioned',
    source: 'Industry Analysis',
    probability: 80,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'ideas',
    threatReason: 'Credentials matter less. Demonstrated skills matter more.',
    atRisk: 'People with expensive degrees but no portfolio',
    opportunities: [
        {
            title: 'ðŸŽ“ Alternative Education Guide',
            mode: 'ideas',
            description: 'Help people find alternatives to traditional college.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research alternatives: bootcamps, apprenticeships, self-directed learning.', xp: 35},
                {mode: 'ideas', task: 'Interview 10 people who succeeded without traditional degrees.', xp: 45},
                {mode: 'execution', task: 'Create "Alternative Education Pathways" guide for different careers.', xp: 50},
                {mode: 'personality', task: 'Share guide publicly. Help people explore options.', xp: 45},
                {mode: 'execution', task: 'Develop framework for choosing education path.', xp: 45},
                {mode: 'personality', task: 'Coach 5 people through education decisions for free.', xp: 50},
                {mode: 'execution', task: 'Document outcomes and refine approach.', xp: 45},
                {mode: 'personality', task: 'Build audience of people questioning traditional paths.', xp: 50},
                {mode: 'execution', task: 'Create paid coaching or course.', xp: 50},
                {mode: 'execution', task: 'Get first paid education coaching clients.', xp: 55}
            ]
        }
    ]
},

// MORE FORECASTS PLACEHOLDER 2
// ============================================================================
// â‚¿ CRYPTO - Continued
// ============================================================================

{
    id: 'ethereum-scaling-works',
    title: 'Ethereum L2 scaling solutions achieve mass adoption',
    source: 'Technical Progress',
    probability: 75,
    timeframe: '2026',
    category: 'crypto',
    threatMode: 'execution',
    threatReason: 'Cheap transactions enable new use cases. Builders on L2s have advantage.',
    atRisk: 'Developers only building on expensive L1s',
    opportunities: [
        {
            title: 'âš¡ L2 Developer/Educator',
            mode: 'execution',
            description: 'Help developers and businesses build on Layer 2 solutions.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'execution', task: 'Learn to build on 3 L2s: Arbitrum, Optimism, Base. Complete tutorials.', xp: 50},
                {mode: 'ideas', task: 'Research differences between L2s. When to use which?', xp: 40},
                {mode: 'execution', task: 'Deploy simple app on each L2. Document the process.', xp: 50},
                {mode: 'execution', task: 'Create "L2 Development Guide" comparing options.', xp: 50},
                {mode: 'personality', task: 'Share guide with developer communities.', xp: 45},
                {mode: 'execution', task: 'Create tutorial series for L2 development.', xp: 50},
                {mode: 'personality', task: 'Help 5 developers deploy their first L2 app.', xp: 50},
                {mode: 'execution', task: 'Build portfolio of L2 projects.', xp: 50},
                {mode: 'personality', task: 'Get hired for L2 development work.', xp: 55},
                {mode: 'execution', task: 'Complete first paid L2 development project.', xp: 60}
            ]
        }
    ]
},

{
    id: 'crypto-etf-expansion',
    title: 'More crypto ETFs approved beyond Bitcoin',
    source: 'Regulatory Trends',
    probability: 70,
    timeframe: '2026',
    category: 'crypto',
    threatMode: 'ideas',
    threatReason: 'Traditional finance embraces crypto. New investor education opportunities.',
    atRisk: 'Crypto natives who don\'t understand traditional finance crossover',
    opportunities: [
        {
            title: 'ðŸ“ˆ Crypto ETF Educator',
            mode: 'ideas',
            description: 'Help traditional investors understand crypto through familiar ETF structures.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research all approved and pending crypto ETFs. Understand differences.', xp: 40},
                {mode: 'ideas', task: 'Study how traditional investors think about ETFs vs direct crypto.', xp: 40},
                {mode: 'execution', task: 'Create "Crypto ETF Comparison Guide" for traditional investors.', xp: 45},
                {mode: 'personality', task: 'Share guide in traditional finance communities.', xp: 45},
                {mode: 'execution', task: 'Develop framework: when to use ETF vs direct crypto ownership.', xp: 45},
                {mode: 'personality', task: 'Answer questions from ETF-curious investors.', xp: 45},
                {mode: 'execution', task: 'Create content explaining crypto through traditional finance lens.', xp: 45},
                {mode: 'personality', task: 'Build audience of traditional investors exploring crypto.', xp: 50},
                {mode: 'execution', task: 'Create paid educational product.', xp: 50},
                {mode: 'execution', task: 'Get first paying students or consulting clients.', xp: 55}
            ]
        }
    ]
},

{
    id: 'dao-governance-matures',
    title: 'DAO governance models mature and find product-market fit',
    source: 'Industry Evolution',
    probability: 45,
    timeframe: '3-5 years',
    category: 'crypto',
    threatMode: 'ideas',
    threatReason: 'New organizational structures emerge. Understanding DAOs becomes professional skill.',
    atRisk: 'Organizations ignoring decentralized governance trends',
    opportunities: [
        {
            title: 'ðŸ›ï¸ DAO Governance Consultant',
            mode: 'ideas',
            description: 'Help DAOs design and implement effective governance structures.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Study successful and failed DAO governance models. What works?', xp: 45},
                {mode: 'execution', task: 'Participate actively in 3 DAOs. Learn governance firsthand.', xp: 50},
                {mode: 'ideas', task: 'Research governance frameworks: conviction voting, quadratic voting, etc.', xp: 45},
                {mode: 'execution', task: 'Create "DAO Governance Best Practices" guide.', xp: 50},
                {mode: 'personality', task: 'Share insights with DAO communities.', xp: 45},
                {mode: 'execution', task: 'Develop governance audit framework.', xp: 55},
                {mode: 'personality', task: 'Offer governance audits to 3 DAOs.', xp: 55},
                {mode: 'execution', task: 'Document improvements from your recommendations.', xp: 50},
                {mode: 'execution', task: 'Create consulting service package.', xp: 50},
                {mode: 'execution', task: 'Get first paid DAO governance engagement.', xp: 60}
            ]
        }
    ]
},

{
    id: 'crypto-gaming-grows',
    title: 'Crypto gaming finds sustainable model beyond speculation',
    source: 'Industry Evolution',
    probability: 40,
    timeframe: '3-5 years',
    category: 'crypto',
    threatMode: 'execution',
    threatReason: 'Gaming + crypto creates new economies. Early expertise valuable.',
    atRisk: 'Game developers ignoring blockchain integration possibilities',
    opportunities: [
        {
            title: 'ðŸŽ® Crypto Gaming Specialist',
            mode: 'execution',
            description: 'Help game studios understand and implement blockchain elements.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'execution', task: 'Play 10 crypto games. Analyze what works and what doesn\'t.', xp: 40},
                {mode: 'ideas', task: 'Research sustainable crypto game economies. What makes them work?', xp: 45},
                {mode: 'execution', task: 'Create "Crypto Gaming Analysis" report on current landscape.', xp: 50},
                {mode: 'personality', task: 'Share analysis with game developers.', xp: 45},
                {mode: 'ideas', task: 'Identify how traditional games could benefit from crypto elements.', xp: 45},
                {mode: 'execution', task: 'Design crypto integration proposal for a specific game type.', xp: 55},
                {mode: 'personality', task: 'Connect with indie game developers open to experimentation.', xp: 50},
                {mode: 'execution', task: 'Help implement crypto features in one game.', xp: 60},
                {mode: 'execution', task: 'Document results and learnings.', xp: 50},
                {mode: 'execution', task: 'Build reputation as crypto gaming expert.', xp: 55}
            ]
        }
    ]
},

{
    id: 'real-world-assets-tokenized',
    title: 'Real-world asset tokenization gains mainstream traction',
    source: 'Industry Trend',
    probability: 55,
    timeframe: '3-5 years',
    category: 'crypto',
    threatMode: 'ideas',
    threatReason: 'Traditional assets move on-chain. Bridge between TradFi and DeFi becomes valuable.',
    atRisk: 'Financial professionals ignoring tokenization trends',
    opportunities: [
        {
            title: 'ðŸ¦ RWA Tokenization Consultant',
            mode: 'ideas',
            description: 'Help asset owners understand and explore tokenization options.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research RWA tokenization: real estate, bonds, commodities, art.', xp: 45},
                {mode: 'ideas', task: 'Study existing RWA platforms: Centrifuge, Maple, etc.', xp: 45},
                {mode: 'execution', task: 'Create "RWA Tokenization Guide" for asset owners.', xp: 50},
                {mode: 'personality', task: 'Share with real estate investors and family offices.', xp: 50},
                {mode: 'execution', task: 'Develop evaluation framework: which assets are good candidates?', xp: 50},
                {mode: 'personality', task: 'Connect with lawyers specializing in securities and blockchain.', xp: 55},
                {mode: 'execution', task: 'Help one asset owner explore tokenization options.', xp: 55},
                {mode: 'personality', task: 'Build network of RWA platforms and service providers.', xp: 55},
                {mode: 'execution', task: 'Create consulting service.', xp: 50},
                {mode: 'execution', task: 'Land first paid RWA consulting engagement.', xp: 60}
            ]
        }
    ]
},

// ============================================================================
// ðŸŽ¬ MEDIA - Need ~40 more
// ============================================================================

{
    id: 'youtube-shorts-dominance',
    title: 'Short-form video becomes dominant content format',
    source: 'Platform Data',
    probability: 90,
    timeframe: 'Already happening',
    category: 'media',
    threatMode: 'execution',
    threatReason: 'Attention spans shrink. Short-form skills become essential.',
    atRisk: 'Long-form creators who can\'t adapt',
    opportunities: [
        {
            title: 'ðŸ“± Short-Form Video Producer',
            mode: 'execution',
            description: 'Master short-form video creation for yourself or clients.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Study 50 viral short-form videos. What patterns do you see?', xp: 30},
                {mode: 'execution', task: 'Create 30 short-form videos in 30 days. Build the skill.', xp: 45},
                {mode: 'ideas', task: 'Identify your hook and editing style.', xp: 35},
                {mode: 'execution', task: 'Post on TikTok, Reels, and Shorts simultaneously.', xp: 40},
                {mode: 'execution', task: 'Analyze what works. Double down on winners.', xp: 40},
                {mode: 'personality', task: 'Engage with comments and build community.', xp: 40},
                {mode: 'execution', task: 'Reach 1,000 followers on one platform.', xp: 50},
                {mode: 'personality', task: 'Offer to create short-form for 3 businesses or creators.', xp: 50},
                {mode: 'execution', task: 'Build portfolio of successful short-form content.', xp: 45},
                {mode: 'execution', task: 'Get first paid short-form video client.', xp: 55}
            ]
        }
    ]
},

{
    id: 'live-streaming-economy',
    title: 'Live streaming becomes significant commerce channel',
    source: 'Industry Trend',
    probability: 75,
    timeframe: '2-4 years',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'Live commerce blurs entertainment and shopping. Personality-driven sales explode.',
    atRisk: 'Traditional e-commerce without personality',
    opportunities: [
        {
            title: 'ðŸŽ¥ Live Commerce Host',
            mode: 'personality',
            description: 'Sell products through engaging live streams.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Study successful live commerce: QVC, TikTok Shop, Amazon Live.', xp: 35},
                {mode: 'execution', task: 'Do your first live stream (even with zero viewers). Get comfortable.', xp: 40},
                {mode: 'personality', task: 'Stream 10 times. Practice your hosting skills.', xp: 45},
                {mode: 'ideas', task: 'Identify products you could authentically sell live.', xp: 35},
                {mode: 'execution', task: 'Partner with brand or create your own products to sell.', xp: 45},
                {mode: 'execution', task: 'Do your first commerce-focused live stream.', xp: 50},
                {mode: 'personality', task: 'Build audience that shows up for your lives.', xp: 50},
                {mode: 'execution', task: 'Make your first sale during a live stream.', xp: 50},
                {mode: 'execution', task: 'Develop repeatable live commerce format.', xp: 50},
                {mode: 'execution', task: 'Reach $1,000 in live commerce sales.', xp: 55}
            ]
        }
    ]
},

{
    id: 'substack-newsletter-economy',
    title: 'Newsletter economy continues to grow despite saturation',
    source: 'Platform Data',
    probability: 70,
    timeframe: 'Already happening',
    category: 'media',
    threatMode: 'execution',
    threatReason: 'Direct audience ownership wins. Email remains most valuable channel.',
    atRisk: 'Creators without email lists',
    opportunities: [
        {
            title: 'âœï¸ Paid Newsletter Writer',
            mode: 'execution',
            description: 'Build a paid newsletter in a niche you know.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Identify niche with passionate audience willing to pay.', xp: 35},
                {mode: 'execution', task: 'Set up newsletter on Substack, Beehiiv, or Ghost.', xp: 30},
                {mode: 'execution', task: 'Write and send 10 free issues. Build consistency.', xp: 45},
                {mode: 'personality', task: 'Promote newsletter across all channels.', xp: 40},
                {mode: 'execution', task: 'Reach 500 free subscribers.', xp: 50},
                {mode: 'execution', task: 'Launch paid tier with exclusive content.', xp: 45},
                {mode: 'personality', task: 'Engage with subscribers. Make them feel valued.', xp: 45},
                {mode: 'execution', task: 'Get first 10 paying subscribers.', xp: 50},
                {mode: 'execution', task: 'Reach $500 MRR from newsletter.', xp: 55},
                {mode: 'execution', task: 'Scale to $2,000 MRR.', xp: 60}
            ]
        }
    ]
},

{
    id: 'audio-content-grows',
    title: 'Audio content continues growth (podcasts, audio rooms, voice notes)',
    source: 'Industry Data',
    probability: 80,
    timeframe: 'Already happening',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'Audio is intimate. Voice builds trust faster than text.',
    atRisk: 'Creators only doing visual content',
    opportunities: [
        {
            title: 'ðŸŽ™ï¸ Audio-First Creator',
            mode: 'personality',
            description: 'Build audience primarily through audio content.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'execution', task: 'Record your first 5 audio pieces (podcast episodes, voice notes, etc).', xp: 35},
                {mode: 'ideas', task: 'Find your audio format: podcast, daily audio, audio newsletter.', xp: 35},
                {mode: 'execution', task: 'Publish weekly audio content for 8 weeks.', xp: 45},
                {mode: 'personality', task: 'Share audio clips on social to drive listeners.', xp: 40},
                {mode: 'execution', task: 'Reach 100 regular listeners.', xp: 45},
                {mode: 'personality', task: 'Respond to listener messages and questions.', xp: 45},
                {mode: 'execution', task: 'Get your first audio sponsorship or create premium tier.', xp: 50},
                {mode: 'personality', task: 'Guest on other podcasts or audio shows.', xp: 50},
                {mode: 'execution', task: 'Reach 500 regular listeners.', xp: 50},
                {mode: 'execution', task: 'Monetize to $500/month from audio.', xp: 55}
            ]
        }
    ]
},

{
    id: 'ugc-creator-economy',
    title: 'UGC (user-generated content) creator economy expands',
    source: 'Industry Trend',
    probability: 85,
    timeframe: 'Already happening',
    category: 'media',
    threatMode: 'execution',
    threatReason: 'Brands need authentic content. UGC creators fill the gap.',
    atRisk: 'Expensive production studios losing to authentic creators',
    opportunities: [
        {
            title: 'ðŸ“¸ UGC Creator',
            mode: 'execution',
            description: 'Create user-generated style content for brands.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Study successful UGC. What makes it feel authentic?', xp: 30},
                {mode: 'execution', task: 'Create 10 sample UGC pieces for imaginary brands.', xp: 40},
                {mode: 'execution', task: 'Build portfolio website showcasing your UGC style.', xp: 40},
                {mode: 'personality', task: 'Reach out to 20 brands offering UGC services.', xp: 45},
                {mode: 'execution', task: 'Get your first UGC gig (even if low-paid).', xp: 50},
                {mode: 'execution', task: 'Deliver excellent work. Get testimonial.', xp: 45},
                {mode: 'personality', task: 'List on UGC platforms: Billo, JoinBrands, Trend.', xp: 40},
                {mode: 'execution', task: 'Complete 10 paid UGC projects.', xp: 50},
                {mode: 'execution', task: 'Raise rates based on demand.', xp: 45},
                {mode: 'execution', task: 'Reach $2,000/month in UGC income.', xp: 55}
            ]
        }
    ]
},

{
    id: 'ai-content-detection',
    title: 'AI content detection becomes standard practice',
    source: 'Industry Trend',
    probability: 70,
    timeframe: '2-3 years',
    category: 'media',
    threatMode: 'execution',
    threatReason: 'AI detection divides authentic from generated. Human proof becomes valuable.',
    atRisk: 'Creators passing off AI content as human-made',
    opportunities: [
        {
            title: 'âœ‹ Certified Human Creator',
            mode: 'personality',
            description: 'Build brand specifically around provably human-created content.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research AI detection tools and their accuracy.', xp: 35},
                {mode: 'execution', task: 'Develop process for proving your content is human-created.', xp: 40},
                {mode: 'personality', task: 'Document your creation process publicly.', xp: 45},
                {mode: 'execution', task: 'Create content that showcases human elements AI can\'t replicate.', xp: 45},
                {mode: 'personality', task: 'Build audience that values human authenticity.', xp: 50},
                {mode: 'execution', task: 'Get verified or certified as human creator if platforms offer this.', xp: 45},
                {mode: 'personality', task: 'Speak about human vs AI content authenticity.', xp: 50},
                {mode: 'execution', task: 'Command premium rates for verified human content.', xp: 50},
                {mode: 'execution', task: 'Build sustainable business on authenticity premium.', xp: 55},
                {mode: 'personality', task: 'Become known voice on human creativity in AI age.', xp: 55}
            ]
        }
    ]
},

{
    id: 'local-content-resurgence',
    title: 'Local news and content sees resurgence',
    source: 'Industry Trend',
    probability: 60,
    timeframe: '3-5 years',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'National media loses trust. Local, trusted voices win.',
    atRisk: 'National media outlets without local presence',
    opportunities: [
        {
            title: 'ðŸ“ Local Content Creator',
            mode: 'personality',
            description: 'Become the trusted voice for your local community.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Identify what local information your community needs but doesn\'t get.', xp: 35},
                {mode: 'execution', task: 'Start creating local content: news, events, guides, reviews.', xp: 40},
                {mode: 'personality', task: 'Attend local events and share about them.', xp: 45},
                {mode: 'execution', task: 'Post consistently about your local area for 8 weeks.', xp: 45},
                {mode: 'personality', task: 'Build relationships with local businesses and leaders.', xp: 50},
                {mode: 'execution', task: 'Reach 1,000 local followers.', xp: 50},
                {mode: 'personality', task: 'Become known as the local expert.', xp: 50},
                {mode: 'execution', task: 'Get first local sponsorship or partnership.', xp: 50},
                {mode: 'execution', task: 'Create local guide or resource people pay for.', xp: 50},
                {mode: 'execution', task: 'Monetize to $1,000/month from local content.', xp: 55}
            ]
        }
    ]
},

{
    id: 'gaming-content-mainstream',
    title: 'Gaming content becomes fully mainstream entertainment',
    source: 'Industry Data',
    probability: 90,
    timeframe: 'Already happening',
    category: 'media',
    threatMode: 'personality',
    threatReason: 'Gaming is entertainment now. Gaming personalities command massive audiences.',
    atRisk: 'Traditional entertainment ignoring gaming',
    opportunities: [
        {
            title: 'ðŸŽ® Gaming Content Creator',
            mode: 'personality',
            description: 'Build audience around gaming content.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Identify your gaming niche: specific game, genre, or style.', xp: 30},
                {mode: 'execution', task: 'Set up streaming and recording equipment.', xp: 40},
                {mode: 'execution', task: 'Stream or post gaming content 20 times in first month.', xp: 45},
                {mode: 'personality', task: 'Find your unique personality/angle. What makes you different?', xp: 40},
                {mode: 'execution', task: 'Create clips from your best moments for short-form.', xp: 40},
                {mode: 'personality', task: 'Engage with gaming communities beyond just posting.', xp: 45},
                {mode: 'execution', task: 'Reach 500 followers on primary platform.', xp: 50},
                {mode: 'personality', task: 'Collaborate with other gaming creators.', xp: 50},
                {mode: 'execution', task: 'Get first brand deal or sponsorship.', xp: 55},
                {mode: 'execution', task: 'Monetize to $500/month from gaming content.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸ’¼ WORK - Additional forecasts
// ============================================================================

{
    id: 'passion-economy-expands',
    title: 'Passion economy enables millions to monetize niche interests',
    source: 'Industry Trend',
    probability: 85,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'personality',
    threatReason: 'Anyone can monetize expertise. Competition increases but so does market.',
    atRisk: 'People with no monetizable passion or skill',
    opportunities: [
        {
            title: 'ðŸ’¡ Passion Monetization Coach',
            mode: 'personality',
            description: 'Help people identify and monetize their passions.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research passion economy success stories. What patterns emerge?', xp: 35},
                {mode: 'execution', task: 'Create framework for identifying monetizable passions.', xp: 45},
                {mode: 'personality', task: 'Test framework by helping 5 friends identify their monetizable passion.', xp: 50},
                {mode: 'execution', task: 'Document results. What worked?', xp: 40},
                {mode: 'execution', task: 'Create "Find Your Monetizable Passion" guide.', xp: 45},
                {mode: 'personality', task: 'Share guide and build audience of aspiring passion entrepreneurs.', xp: 50},
                {mode: 'execution', task: 'Develop coaching program around passion monetization.', xp: 50},
                {mode: 'personality', task: 'Get testimonials from successful clients.', xp: 45},
                {mode: 'execution', task: 'Launch paid coaching.', xp: 50},
                {mode: 'execution', task: 'Get 10 paid coaching clients.', xp: 55}
            ]
        }
    ]
},

{
    id: 'fractional-work-grows',
    title: 'Fractional executives and part-time experts become common',
    source: 'Industry Trend',
    probability: 80,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Companies hire expertise part-time. High-skill fractional work expands.',
    atRisk: 'Full-time employees who could offer more value fractionally',
    opportunities: [
        {
            title: 'ðŸ§© Fractional Expert',
            mode: 'execution',
            description: 'Offer your expertise to multiple companies on fractional basis.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Identify your highest-value expertise that could be offered fractionally.', xp: 40},
                {mode: 'ideas', task: 'Research fractional roles in your field. What exists?', xp: 35},
                {mode: 'execution', task: 'Create positioning: "Fractional [Your Role]"', xp: 40},
                {mode: 'execution', task: 'Define your fractional offering: hours, deliverables, price.', xp: 45},
                {mode: 'personality', task: 'Tell your network you\'re available for fractional work.', xp: 45},
                {mode: 'execution', task: 'Land your first fractional client.', xp: 55},
                {mode: 'execution', task: 'Deliver excellent results. Document impact.', xp: 50},
                {mode: 'personality', task: 'Get testimonial and referrals.', xp: 45},
                {mode: 'execution', task: 'Land second and third fractional clients.', xp: 55},
                {mode: 'execution', task: 'Reach $5,000/month from fractional work.', xp: 60}
            ]
        }
    ]
},

{
    id: 'solopreneur-tools-mature',
    title: 'Tools for solopreneurs mature, enabling one-person businesses',
    source: 'Industry Trend',
    probability: 90,
    timeframe: 'Already happening',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'One person can now do what required teams. Leverage is everything.',
    atRisk: 'Those not using modern tools; bloated teams',
    opportunities: [
        {
            title: 'ðŸš€ Solopreneur Systems Builder',
            mode: 'execution',
            description: 'Help solopreneurs set up efficient one-person business systems.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'execution', task: 'Audit your own solopreneur stack. What tools do you use?', xp: 35},
                {mode: 'ideas', task: 'Research best solopreneur tools for different business types.', xp: 40},
                {mode: 'execution', task: 'Create "Solopreneur Tech Stack" guide.', xp: 45},
                {mode: 'personality', task: 'Share guide with solopreneur communities.', xp: 45},
                {mode: 'execution', task: 'Develop "Solopreneur Systems Audit" service.', xp: 45},
                {mode: 'personality', task: 'Offer free audits to 5 solopreneurs.', xp: 50},
                {mode: 'execution', task: 'Document time savings and improvements.', xp: 45},
                {mode: 'execution', task: 'Create paid audit + setup service.', xp: 50},
                {mode: 'personality', task: 'Get testimonials from satisfied clients.', xp: 45},
                {mode: 'execution', task: 'Get 10 paid system setup clients.', xp: 55}
            ]
        }
    ]
},

{
    id: 'async-work-default',
    title: 'Asynchronous work becomes default for knowledge workers',
    source: 'Industry Trend',
    probability: 70,
    timeframe: '3-5 years',
    category: 'work',
    threatMode: 'execution',
    threatReason: 'Real-time meetings decline. Async communication skills become essential.',
    atRisk: 'People who can\'t communicate effectively in writing',
    opportunities: [
        {
            title: 'ðŸ“ Async Communication Coach',
            mode: 'execution',
            description: 'Help teams communicate effectively without real-time meetings.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Study async-first companies: GitLab, Automattic. How do they work?', xp: 40},
                {mode: 'execution', task: 'Implement async practices in your own work. Document results.', xp: 45},
                {mode: 'execution', task: 'Create "Async Communication Handbook"', xp: 45},
                {mode: 'personality', task: 'Share handbook with remote work communities.', xp: 45},
                {mode: 'execution', task: 'Develop async communication training program.', xp: 50},
                {mode: 'personality', task: 'Offer free training to one team.', xp: 50},
                {mode: 'execution', task: 'Measure meeting reduction and productivity impact.', xp: 50},
                {mode: 'execution', task: 'Create case study from pilot.', xp: 45},
                {mode: 'execution', task: 'Launch paid training service.', xp: 50},
                {mode: 'execution', task: 'Get first paid corporate training client.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸ¤– AI - Additional forecasts
// ============================================================================

{
    id: 'ai-agents-autonomous',
    title: 'AI agents handle complex multi-step tasks autonomously',
    source: 'Industry Projections',
    probability: 65,
    timeframe: '2-3 years',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'AI agents do your busywork. Value shifts to directing and reviewing.',
    atRisk: 'Those doing repetitive multi-step tasks that can be automated',
    opportunities: [
        {
            title: 'ðŸ¤– AI Agent Builder',
            mode: 'execution',
            description: 'Build custom AI agents for specific workflows.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'execution', task: 'Learn AI agent frameworks: LangChain, AutoGPT, CrewAI.', xp: 50},
                {mode: 'execution', task: 'Build your first simple AI agent that completes a multi-step task.', xp: 50},
                {mode: 'ideas', task: 'Identify 10 repetitive workflows that could be automated by agents.', xp: 40},
                {mode: 'execution', task: 'Build agent for one specific workflow.', xp: 55},
                {mode: 'personality', task: 'Share your agent-building journey publicly.', xp: 45},
                {mode: 'execution', task: 'Offer custom agent building to 3 businesses.', xp: 55},
                {mode: 'execution', task: 'Document time savings and ROI.', xp: 50},
                {mode: 'execution', task: 'Create agent-building service package.', xp: 50},
                {mode: 'execution', task: 'Get first paid agent-building client.', xp: 60},
                {mode: 'execution', task: 'Build portfolio of custom agents.', xp: 55}
            ]
        }
    ]
},

{
    id: 'ai-personalization-everywhere',
    title: 'AI personalization becomes standard in all digital experiences',
    source: 'Industry Trend',
    probability: 85,
    timeframe: '2-4 years',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Generic experiences die. Everything becomes personalized.',
    atRisk: 'Businesses offering one-size-fits-all experiences',
    opportunities: [
        {
            title: 'ðŸŽ¯ AI Personalization Consultant',
            mode: 'ideas',
            description: 'Help businesses implement AI personalization.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research AI personalization tools and platforms.', xp: 40},
                {mode: 'ideas', task: 'Study personalization success cases. What drives ROI?', xp: 40},
                {mode: 'execution', task: 'Create "AI Personalization Readiness Assessment"', xp: 50},
                {mode: 'personality', task: 'Share assessment with e-commerce and SaaS businesses.', xp: 45},
                {mode: 'execution', task: 'Develop personalization implementation framework.', xp: 50},
                {mode: 'personality', task: 'Offer free assessments to 5 businesses.', xp: 50},
                {mode: 'execution', task: 'Document potential ROI from personalization.', xp: 45},
                {mode: 'execution', task: 'Create consulting service.', xp: 50},
                {mode: 'execution', task: 'Help one business implement personalization.', xp: 55},
                {mode: 'execution', task: 'Get first paid consulting engagement.', xp: 55}
            ]
        }
    ]
},

{
    id: 'ai-customer-service',
    title: 'AI handles majority of customer service interactions',
    source: 'Industry Trend',
    probability: 75,
    timeframe: '2-4 years',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Basic support goes AI. Human support becomes premium escalation.',
    atRisk: 'Entry-level customer service roles',
    opportunities: [
        {
            title: 'ðŸŽ§ AI Customer Service Implementer',
            mode: 'execution',
            description: 'Help businesses implement AI customer service while preserving human touch.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research AI customer service tools: chatbots, voice AI, etc.', xp: 35},
                {mode: 'execution', task: 'Test 5 AI customer service platforms.', xp: 40},
                {mode: 'ideas', task: 'Identify when AI should handle vs escalate to human.', xp: 40},
                {mode: 'execution', task: 'Create "AI Customer Service Implementation Guide"', xp: 50},
                {mode: 'personality', task: 'Share guide with business owners.', xp: 45},
                {mode: 'execution', task: 'Develop implementation framework.', xp: 50},
                {mode: 'personality', task: 'Offer free assessments to 5 businesses.', xp: 50},
                {mode: 'execution', task: 'Help one business implement AI CS.', xp: 55},
                {mode: 'execution', task: 'Measure cost savings and customer satisfaction.', xp: 50},
                {mode: 'execution', task: 'Get first paid implementation client.', xp: 55}
            ]
        }
    ]
},

{
    id: 'ai-copilots-everywhere',
    title: 'AI copilots integrated into all major software',
    source: 'Industry Trend',
    probability: 90,
    timeframe: '2-3 years',
    category: 'ai',
    threatMode: 'execution',
    threatReason: 'Every tool has AI. Knowing how to use AI features becomes baseline skill.',
    atRisk: 'People not learning AI features of their tools',
    opportunities: [
        {
            title: 'ðŸ› ï¸ AI Feature Trainer',
            mode: 'execution',
            description: 'Train teams on AI features in tools they already use.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'execution', task: 'Learn AI features in 10 common tools: Office, Google, Adobe, etc.', xp: 40},
                {mode: 'ideas', task: 'Identify which AI features save most time for each tool.', xp: 35},
                {mode: 'execution', task: 'Create "Hidden AI Features" guide for common tools.', xp: 45},
                {mode: 'personality', task: 'Share tips on social media and LinkedIn.', xp: 40},
                {mode: 'execution', task: 'Develop 1-hour training for specific tool suites.', xp: 45},
                {mode: 'personality', task: 'Offer free training to 3 teams.', xp: 50},
                {mode: 'execution', task: 'Measure time savings from training.', xp: 45},
                {mode: 'execution', task: 'Create paid training packages.', xp: 45},
                {mode: 'personality', task: 'Get testimonials from trained teams.', xp: 45},
                {mode: 'execution', task: 'Get first paid corporate training client.', xp: 55}
            ]
        }
    ]
},

// ============================================================================
// ðŸ“ˆ FINANCE - Additional forecasts
// ============================================================================

{
    id: 'inflation-persistent',
    title: 'Inflation remains above 3% through 2026',
    source: 'Polymarket/Fed Analysis',
    probability: 35,
    timeframe: '2026',
    category: 'finance',
    threatMode: 'execution',
    threatReason: 'Persistent inflation favors asset owners over wage earners. Multiple income streams essential.',
    atRisk: 'People on fixed incomes or single salary',
    opportunities: [
        {
            title: 'ðŸ’° Inflation-Proof Income Builder',
            mode: 'execution',
            description: 'Help people build income streams that keep pace with or exceed inflation.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research which income sources historically outpace inflation.', xp: 40},
                {mode: 'ideas', task: 'Identify 10 inflation-resistant side businesses anyone could start.', xp: 40},
                {mode: 'execution', task: 'Create "Inflation-Proof Income Guide" with specific strategies.', xp: 50},
                {mode: 'personality', task: 'Share guide publicly. Build audience worried about inflation.', xp: 45},
                {mode: 'execution', task: 'Start your own inflation-resistant income stream as proof of concept.', xp: 55},
                {mode: 'execution', task: 'Document your results over 3 months.', xp: 45},
                {mode: 'personality', task: 'Coach 5 people through starting their income streams.', xp: 50},
                {mode: 'execution', task: 'Track client results. Build case studies.', xp: 50},
                {mode: 'execution', task: 'Create paid course or coaching program.', xp: 50},
                {mode: 'execution', task: 'Get 10 paying clients.', xp: 55}
            ]
        }
    ]
},

{
    id: 'retail-investing-grows',
    title: 'Retail investor participation continues growing',
    source: 'Industry Data',
    probability: 75,
    timeframe: 'Already happening',
    category: 'finance',
    threatMode: 'ideas',
    threatReason: 'Everyone is an investor now. Financial literacy becomes essential.',
    atRisk: 'Uninformed retail investors making emotional decisions',
    opportunities: [
        {
            title: 'ðŸ“Š Financial Literacy Educator',
            mode: 'ideas',
            description: 'Teach new investors the basics before they lose money.',
            difficulty: 'easy',
            timeframe: '2-4 months',
            quests: [
                {mode: 'ideas', task: 'Identify top 10 mistakes new retail investors make.', xp: 30},
                {mode: 'execution', task: 'Create "New Investor Survival Guide" covering basics.', xp: 40},
                {mode: 'personality', task: 'Share guide on social media, Reddit, investing communities.', xp: 40},
                {mode: 'execution', task: 'Create simple explainer content: stocks, bonds, ETFs, risk.', xp: 40},
                {mode: 'personality', task: 'Answer questions from new investors publicly.', xp: 45},
                {mode: 'execution', task: 'Build audience of investing beginners.', xp: 45},
                {mode: 'execution', task: 'Create beginner investing course.', xp: 50},
                {mode: 'personality', task: 'Get testimonials from people you helped.', xp: 45},
                {mode: 'execution', task: 'Launch paid course or community.', xp: 50},
                {mode: 'execution', task: 'Get first 20 paying students.', xp: 55}
            ]
        }
    ]
},

{
    id: 'fintech-disruption',
    title: 'Traditional banks lose significant market share to fintech',
    source: 'Industry Analysis',
    probability: 70,
    timeframe: '3-5 years',
    category: 'finance',
    threatMode: 'execution',
    threatReason: 'Banking moves digital. Traditional bank branches and roles transform.',
    atRisk: 'Bank employees in redundant roles; people loyal to legacy banks',
    opportunities: [
        {
            title: 'ðŸ’³ Fintech Navigator',
            mode: 'execution',
            description: 'Help people and businesses find the best fintech solutions for their needs.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research fintech landscape: neobanks, payment apps, lending platforms.', xp: 35},
                {mode: 'execution', task: 'Use 10 different fintech apps. Document pros and cons.', xp: 40},
                {mode: 'execution', task: 'Create comparison guide: "Which Fintech App for What?"', xp: 45},
                {mode: 'personality', task: 'Share guide publicly. Build audience of fintech-curious users.', xp: 45},
                {mode: 'execution', task: 'Develop "Fintech Stack Audit" for businesses.', xp: 50},
                {mode: 'personality', task: 'Offer free audits to 5 small businesses.', xp: 50},
                {mode: 'execution', task: 'Document savings and improvements from audits.', xp: 45},
                {mode: 'execution', task: 'Create consulting service.', xp: 45},
                {mode: 'personality', task: 'Partner with accountants and bookkeepers for referrals.', xp: 50},
                {mode: 'execution', task: 'Get first paid consulting clients.', xp: 55}
            ]
        }
    ]
},

{
    id: 'gold-safe-haven',
    title: 'Gold and precious metals see continued demand as safe haven',
    source: 'Market Analysis',
    probability: 70,
    timeframe: '2026',
    category: 'finance',
    threatMode: 'ideas',
    threatReason: 'Uncertainty drives safe haven demand. Understanding portfolio protection matters.',
    atRisk: 'Investors 100% in growth assets without hedges',
    opportunities: [
        {
            title: 'ðŸ¥‡ Precious Metals Educator',
            mode: 'ideas',
            description: 'Help regular investors understand gold and precious metals as portfolio component.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'ideas', task: 'Research precious metals investing: physical, ETFs, mining stocks, allocation.', xp: 40},
                {mode: 'ideas', task: 'Study historical performance in different economic conditions.', xp: 40},
                {mode: 'execution', task: 'Create "Beginner Guide to Precious Metals Investing"', xp: 45},
                {mode: 'personality', task: 'Share guide in investing communities.', xp: 40},
                {mode: 'execution', task: 'Develop framework: how much gold/silver makes sense for different situations.', xp: 45},
                {mode: 'personality', task: 'Answer questions about precious metals publicly.', xp: 45},
                {mode: 'execution', task: 'Create content comparing different ways to own precious metals.', xp: 45},
                {mode: 'personality', task: 'Build audience interested in portfolio protection.', xp: 50},
                {mode: 'execution', task: 'Create paid course or consulting service.', xp: 50},
                {mode: 'execution', task: 'Get first paying clients or students.', xp: 55}
            ]
        }
    ]
},

{
    id: 'commercial-real-estate-crisis',
    title: 'Commercial real estate faces significant repricing',
    source: 'Industry Analysis',
    probability: 65,
    timeframe: '2026-2027',
    category: 'finance',
    threatMode: 'execution',
    threatReason: 'Office and retail space transforms. Opportunities in distressed assets and conversions.',
    atRisk: 'Commercial landlords slow to adapt; office-dependent businesses',
    opportunities: [
        {
            title: 'ðŸ¢ Commercial Property Repurposing Scout',
            mode: 'ideas',
            description: 'Identify commercial properties ripe for conversion or creative reuse.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research office-to-residential conversions. What makes properties good candidates?', xp: 45},
                {mode: 'ideas', task: 'Study creative reuse examples: offices to housing, malls to mixed-use.', xp: 40},
                {mode: 'execution', task: 'Map distressed commercial properties in your area.', xp: 45},
                {mode: 'execution', task: 'Develop evaluation criteria for conversion potential.', xp: 50},
                {mode: 'personality', task: 'Connect with developers interested in conversions.', xp: 55},
                {mode: 'execution', task: 'Create pitch deck on specific conversion opportunity.', xp: 55},
                {mode: 'personality', task: 'Build relationships with commercial real estate brokers.', xp: 55},
                {mode: 'execution', task: 'Facilitate introduction between property owner and developer.', xp: 55},
                {mode: 'execution', task: 'Get commission or consulting fee from deal.', xp: 60},
                {mode: 'execution', task: 'Build deal flow pipeline.', xp: 60}
            ]
        }
    ]
},

{
    id: 'private-credit-boom',
    title: 'Private credit continues growth as banks pull back',
    source: 'Industry Trend',
    probability: 75,
    timeframe: '2026',
    category: 'finance',
    threatMode: 'ideas',
    threatReason: 'Alternative lending expands. Understanding private credit becomes valuable.',
    atRisk: 'Investors only in public markets missing private opportunities',
    opportunities: [
        {
            title: 'ðŸ’µ Private Credit Educator',
            mode: 'ideas',
            description: 'Help accredited investors understand private credit opportunities.',
            difficulty: 'hard',
            timeframe: '6-12 months',
            quests: [
                {mode: 'ideas', task: 'Research private credit landscape: direct lending, mezzanine, distressed.', xp: 45},
                {mode: 'ideas', task: 'Study how accredited investors access private credit.', xp: 45},
                {mode: 'execution', task: 'Create "Private Credit 101" guide for accredited investors.', xp: 50},
                {mode: 'personality', task: 'Share guide with high-net-worth investor communities.', xp: 50},
                {mode: 'execution', task: 'Develop risk assessment framework for private credit.', xp: 50},
                {mode: 'personality', task: 'Connect with private credit funds and platforms.', xp: 55},
                {mode: 'execution', task: 'Create comparison of private credit investment options.', xp: 50},
                {mode: 'personality', task: 'Build audience of investors interested in alternatives.', xp: 50},
                {mode: 'execution', task: 'Offer paid educational content or consulting.', xp: 55},
                {mode: 'execution', task: 'Get first paying clients.', xp: 60}
            ]
        }
    ]
},

{
    id: 'tax-optimization-ai',
    title: 'AI-powered tax optimization becomes mainstream',
    source: 'Industry Trend',
    probability: 65,
    timeframe: '2-4 years',
    category: 'finance',
    threatMode: 'execution',
    threatReason: 'Tax prep gets automated. Complex tax strategy remains human domain.',
    atRisk: 'Basic tax preparers',
    opportunities: [
        {
            title: 'ðŸ§¾ AI Tax Tool Trainer',
            mode: 'execution',
            description: 'Help people and businesses use AI tax tools effectively.',
            difficulty: 'medium',
            timeframe: '3-6 months',
            quests: [
                {mode: 'execution', task: 'Test 5 AI tax tools. Document capabilities and limitations.', xp: 40},
                {mode: 'ideas', task: 'Identify what AI tax tools do well vs where they fail.', xp: 40},
                {mode: 'execution', task: 'Create guide: "Getting the Most from AI Tax Tools"', xp: 45},
                {mode: 'personality', task: 'Share guide with small business owners.', xp: 45},
                {mode: 'execution', task: 'Develop training on AI tax tool usage.', xp: 50},
                {mode: 'personality', task: 'Offer free training to 5 small businesses.', xp: 50},
                {mode: 'execution', task: 'Document tax savings achieved.', xp: 45},
                {mode: 'execution', task: 'Create paid training service.', xp: 50},
                {mode: 'personality', task: 'Partner with accountants for referrals.', xp: 50},
                {mode: 'execution', task: 'Get first paid training clients.', xp: 55}
            ]
        }
    ]
}

];

function getRiskLevel(forecast, userScores) {
    const threatScore = userScores[forecast.threatMode];
    if (threatScore < 40) return {level: 'critical', label: 'CRITICAL', color: 'var(--danger)'};
    if (threatScore < 55) return {level: 'high', label: 'HIGH', color: 'var(--warning)'};
    if (threatScore < 70) return {level: 'moderate', label: 'MODERATE', color: 'var(--accent)'};
    return {level: 'low', label: 'LOW', color: 'var(--success)'};
}

function getUrgency(forecast) {
    const prob = forecast.probability;
    if (forecast.timeframe.includes('month') && prob > 60) return {label: 'URGENT', color: 'var(--danger)'};
    if (prob > 70) return {label: 'HIGH PROBABILITY', color: 'var(--warning)'};
    if (prob > 50) return {label: 'LIKELY', color: 'var(--accent)'};
    return {label: 'EMERGING', color: 'var(--text-secondary)'};
}

function forecastsH() {
    const forecasts = FORECAST_DATABASE;
    
    // Get user's profile for personalization
    const occupation = S.user?.occupation || S.onboardData?.occupation || '';
    const interests = S.user?.forecastInterests || S.user?.forecast_interests || S.onboardData?.forecastInterests || [];
    const goals = S.user?.goals || S.onboardData?.goals || [];
    
    // Check if user has set up their profile
    const hasProfile = occupation || interests.length > 0;
    
    // Map occupations to relevant categories
    const occupationCategories = {
        'tech': ['ai', 'tech', 'crypto', 'transportation'],
        'finance': ['finance', 'crypto', 'tech'],
        'creative': ['media', 'ai', 'work', 'transportation'],
        'healthcare': ['ai', 'work', 'tech', 'transportation'],
        'education': ['ai', 'work', 'media'],
        'marketing': ['media', 'ai', 'work'],
        'sales': ['work', 'ai', 'tech'],
        'consulting': ['work', 'finance', 'ai', 'transportation'],
        'legal': ['ai', 'work', 'finance', 'transportation'],
        'retail': ['work', 'ai', 'tech', 'transportation'],
        'manufacturing': ['ai', 'work', 'tech', 'transportation'],
        'other': ['ai', 'work', 'tech', 'transportation']
    };
    
    // Map interests to categories
    const interestCategories = {
        'ai': ['ai', 'tech'],
        'crypto': ['crypto', 'finance'],
        'finance': ['finance', 'work'],
        'media': ['media', 'ai'],
        'health': ['work', 'ai', 'transportation'],
        'climate': ['tech', 'work', 'transportation'],
        'transportation': ['transportation', 'tech', 'ai']
    };
    
    // Build relevant categories based on profile
    let relevantCategories = new Set();
    
    if (occupation && occupationCategories[occupation]) {
        occupationCategories[occupation].forEach(c => relevantCategories.add(c));
    }
    
    interests.forEach(interest => {
        if (interestCategories[interest]) {
            interestCategories[interest].forEach(c => relevantCategories.add(c));
        }
    });
    
    // Get suggested forecasts based on profile
    let suggestedForecasts = [];
    if (relevantCategories.size > 0) {
        suggestedForecasts = forecasts.filter(f => 
            relevantCategories.has(f.category) || f.threatMode === weakest()
        ).slice(0, 6);
    }
    
    // Get followed forecasts
    const followedForecasts = forecasts.filter(f => S.followedForecasts.includes(f.id));
    
    // Apply filter if one is selected
    const showSuggested = S.forecastFilter === 'suggested' || (!S.forecastFilter && hasProfile);
    const showFollowing = S.forecastFilter === 'following';
    const filtered = S.forecastFilter && S.forecastFilter !== 'all' && S.forecastFilter !== 'suggested' && S.forecastFilter !== 'following'
        ? forecasts.filter(f => f.category === S.forecastFilter)
        : S.forecastFilter === 'all' ? forecasts : null;
    
    return `
        <div class="page-header">
            <h1 class="page-title">Forecasts</h1>
            <p class="page-subtitle">Follow predictions that matter to your career. Get quests to prepare.</p>
        </div>
        
        ${followedForecasts.length > 0 ? `
        <div class="card mb-20" style="padding:15px;background:var(--bg-primary);border-color:var(--accent)">
            <div style="font-size:11px;color:var(--accent);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">ðŸ“¡ You're Tracking ${followedForecasts.length} Forecast${followedForecasts.length > 1 ? 's' : ''}</div>
            <p style="font-size:13px;line-height:1.5;color:var(--text-secondary)">Your weekly quests are shaped by the forecasts you follow. <a href="#" class="text-link" data-filter="following">View your followed forecasts â†’</a></p>
        </div>
        ` : ''}
        
        <div class="card mb-20" style="padding:15px">
            <div style="display:flex;gap:8px;flex-wrap:wrap">
                ${hasProfile ? `<button class="btn btn-small ${showSuggested && !S.forecastFilter ? 'btn-primary' : S.forecastFilter === 'suggested' ? 'btn-primary' : 'btn-secondary'}" data-filter="suggested">âœ¨ For You</button>` : ''}
                ${followedForecasts.length > 0 ? `<button class="btn btn-small ${S.forecastFilter === 'following' ? 'btn-primary' : 'btn-secondary'}" data-filter="following">Following (${followedForecasts.length})</button>` : ''}
                <button class="btn btn-small ${S.forecastFilter==='all'?'btn-primary':'btn-secondary'}" data-filter="all">All</button>
                ${Object.entries(CATEGORIES).map(([k,v]) => 
                    `<button class="btn btn-small ${S.forecastFilter===k?'btn-primary':'btn-secondary'}" data-filter="${k}">${v.icon} ${v.name}</button>`
                ).join('')}
            </div>
        </div>
        
        ${!hasProfile && !S.forecastFilter ? `
        <div class="card mb-20" style="padding:25px;text-align:center;border-style:dashed">
            <div style="font-size:32px;margin-bottom:15px">ðŸ”®</div>
            <h3 style="font-size:16px;margin-bottom:10px">Select a category to explore forecasts</h3>
            <p style="font-size:13px;color:var(--text-secondary);max-width:400px;margin:0 auto">
                Each forecast reveals emerging opportunities and comes with quests to help you prepare before the window closes.
            </p>
        </div>
        ` : ''}
        
        ${showFollowing ? `
        <div style="margin-bottom:15px">
            <div style="font-size:11px;color:var(--accent);text-transform:uppercase;letter-spacing:1px;margin-bottom:15px">Forecasts You're Following</div>
            ${followedForecasts.length > 0 ? followedForecasts.map(f => renderForecastCard(f)).join('') : 
            '<div class="card" style="padding:25px;text-align:center"><p class="text-secondary">You\'re not following any forecasts yet. Browse categories above to find ones that matter to your career.</p></div>'}
        </div>
        ` : ''}
        
        ${showSuggested && !showFollowing && suggestedForecasts.length > 0 ? `
        <div style="margin-bottom:15px">
            <div style="font-size:11px;color:var(--accent);text-transform:uppercase;letter-spacing:1px;margin-bottom:5px">Suggested For You</div>
            <p style="font-size:12px;color:var(--text-secondary);margin-bottom:15px">Based on your ${occupation ? 'work in ' + getOccupationLabel(occupation) : 'interests'}${interests.length > 0 ? ' and selected interests' : ''}</p>
            ${suggestedForecasts.map(f => renderForecastCard(f)).join('')}
            <div style="text-align:center;margin-top:20px">
                <button class="btn btn-secondary" data-filter="all">View All Forecasts â†’</button>
            </div>
        </div>
        ` : ''}
        
        ${filtered ? `
        <div class="forecast-list">
            ${filtered.map(f => renderForecastCard(f)).join('')}
        </div>
        ` : ''}
        
        <style>
            .forecast-item { transition: all 0.2s; }
            .forecast-item:hover { border-color: var(--text-secondary); }
            .threat-to-weakest { background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(255,68,68,0.05) 100%); }
        </style>
    `;
}

function getOccupationLabel(occupation) {
    const labels = {
        'tech': 'Technology',
        'finance': 'Finance',
        'creative': 'Creative/Design',
        'healthcare': 'Healthcare',
        'education': 'Education',
        'marketing': 'Marketing',
        'sales': 'Sales',
        'consulting': 'Consulting',
        'legal': 'Legal',
        'retail': 'Retail',
        'manufacturing': 'Manufacturing',
        'other': 'your field'
    };
    return labels[occupation] || occupation;
}

function renderForecastCard(f) {
    const risk = getRiskLevel(f, S.scores);
    const isThreatToWeakest = f.threatMode === weakest();
    
    return `
    <div class="card mb-15 forecast-item ${isThreatToWeakest ? 'threat-to-weakest' : ''}" style="${isThreatToWeakest ? 'border-color:var(--danger);' : ''}">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;flex-wrap:wrap;gap:8px">
            <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
                <span style="font-size:10px;padding:3px 8px;background:var(--bg-tertiary);color:var(--text-secondary)">${CATEGORIES[f.category]?.icon} ${CATEGORIES[f.category]?.name}</span>
                <span style="font-size:10px;padding:3px 8px;background:rgba(255,68,68,0.2);color:${risk.color}">YOUR RISK: ${risk.label}</span>
                ${isThreatToWeakest ? '<span style="font-size:10px;padding:3px 8px;background:var(--danger);color:white">âš ï¸ TARGETS YOUR WEAKNESS</span>' : ''}
            </div>
            <span style="font-size:10px;color:var(--text-muted)">${f.source}</span>
        </div>
        
        <h3 style="font-size:16px;line-height:1.4;margin-bottom:12px">${f.title}</h3>
        
        <div style="display:flex;gap:20px;margin-bottom:15px;flex-wrap:wrap">
            <div>
                <div style="font-size:28px;font-weight:700;color:${f.probability > 60 ? 'var(--warning)' : 'var(--text-secondary)'}">${f.probability}%</div>
                <div style="font-size:9px;color:var(--text-muted);text-transform:uppercase">Probability</div>
            </div>
            <div>
                <div style="font-size:16px;font-weight:700;color:var(--text-primary)">${f.timeframe}</div>
                <div style="font-size:9px;color:var(--text-muted);text-transform:uppercase">Timeframe</div>
            </div>
            <div>
                <div style="font-size:16px;font-weight:700;color:var(--${f.threatMode})">${f.threatMode.toUpperCase()}</div>
                <div style="font-size:9px;color:var(--text-muted);text-transform:uppercase">Mode Threatened</div>
            </div>
        </div>
        
        <div style="background:var(--bg-primary);border-left:3px solid var(--${f.threatMode});padding:12px;margin-bottom:15px">
            <div style="font-size:10px;color:var(--${f.threatMode});text-transform:uppercase;letter-spacing:1px;margin-bottom:6px">Why ${f.threatMode} is threatened</div>
            <p style="font-size:12px;line-height:1.5;color:var(--text-secondary)">${f.threatReason}</p>
            <p style="font-size:11px;color:var(--text-muted);margin-top:8px"><strong>At risk:</strong> ${f.atRisk}</p>
        </div>
        
        <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center">
            <button class="btn btn-small btn-primary view-forecast-detail" data-id="${f.id}">See Opportunities â†’</button>
            <button class="btn btn-small ${S.followedForecasts.includes(f.id)?'btn-success':'btn-secondary'} follow-forecast" data-id="${f.id}">
                ${S.followedForecasts.includes(f.id)?'âœ“ Following':'+ Follow'}
            </button>
        </div>
        ${f.source ? `<div style="margin-top:12px;font-size:10px;color:var(--text-muted)">Source: ${f.source}</div>` : ''}
    </div>
    `;
}

function forecastDetailModalH() {
    const f = S.selectedForecast;
    if (!f) return '';
    const risk = getRiskLevel(f, S.scores);
    
    return `
        <div class="modal-overlay" id="modal-bg">
            <div class="modal" style="max-width:650px;max-height:90vh;overflow-y:auto">
                <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px">
                    <span style="font-size:10px;padding:3px 8px;background:rgba(255,68,68,0.2);color:${risk.color}">YOUR RISK: ${risk.label}</span>
                    <button style="background:none;border:none;color:var(--text-secondary);font-size:20px;cursor:pointer" id="close-forecast-modal">Ã—</button>
                </div>
                
                <h3 style="font-size:18px;line-height:1.4;margin-bottom:15px">${f.title}</h3>
                
                <div style="display:flex;gap:15px;margin-bottom:20px;flex-wrap:wrap">
                    <div style="background:var(--bg-primary);padding:12px 16px;text-align:center">
                        <div style="font-size:24px;font-weight:700">${f.probability}%</div>
                        <div style="font-size:9px;color:var(--text-muted);text-transform:uppercase">Probability</div>
                    </div>
                    <div style="background:var(--bg-primary);padding:12px 16px;text-align:center">
                        <div style="font-size:16px;font-weight:700">${f.timeframe}</div>
                        <div style="font-size:9px;color:var(--text-muted);text-transform:uppercase">Timeframe</div>
                    </div>
                    <div style="background:var(--bg-primary);padding:12px 16px;text-align:center">
                        <div style="font-size:16px;font-weight:700;color:var(--${f.threatMode})">${f.threatMode.toUpperCase()}</div>
                        <div style="font-size:9px;color:var(--text-muted);text-transform:uppercase">Threatened</div>
                    </div>
                    <div style="background:var(--bg-primary);padding:12px 16px;text-align:center">
                        <div style="font-size:16px;font-weight:700">${S.scores[f.threatMode]}%</div>
                        <div style="font-size:9px;color:var(--text-muted);text-transform:uppercase">Your ${f.threatMode}</div>
                    </div>
                </div>
                
                ${S.scores[f.threatMode] < 50 ? `
                <div style="background:var(--danger);padding:15px;margin-bottom:20px">
                    <div style="font-size:11px;text-transform:uppercase;letter-spacing:1px;margin-bottom:6px;color:white">âš ï¸ WARNING</div>
                    <p style="font-size:13px;color:white">Your ${f.threatMode} score (${S.scores[f.threatMode]}%) puts you at HIGH RISK if this forecast materializes. Start preparing NOW.</p>
                </div>
                ` : ''}
                
                <div style="margin-bottom:20px">
                    <div style="font-size:11px;color:var(--accent);text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">Opportunities to Prepare (${f.opportunities.length})</div>
                    
                    ${f.opportunities.map((opp, i) => {
                        const progress = S.forecastProgress[f.id]?.[i] || 0;
                        const totalQuests = opp.quests.length;
                        const isComplete = progress >= totalQuests;
                        const hasProgress = progress > 0;
                        return `
                        <div style="background:var(--bg-primary);border:1px solid ${S.expandedOpp === i ? 'var(--accent)' : isComplete ? 'var(--success)' : 'var(--bg-tertiary)'};margin-bottom:12px;transition:all 0.2s">
                            <div class="opp-header" data-opp="${i}" style="padding:15px;cursor:pointer;display:flex;justify-content:space-between;align-items:flex-start">
                                <div style="flex:1">
                                    <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px;flex-wrap:wrap">
                                        <h4 style="font-size:14px;margin:0">${opp.title}</h4>
                                        <span style="font-size:10px;padding:2px 8px;background:var(--bg-tertiary);color:var(--${opp.mode})">+${opp.mode.toUpperCase()}</span>
                                        ${isComplete ? `<span style="font-size:10px;padding:2px 8px;background:var(--success);color:white">âœ“ COMPLETE</span>` : 
                                          hasProgress ? `<span style="font-size:10px;padding:2px 8px;background:var(--bg-tertiary);color:var(--accent)">${progress}/${totalQuests}</span>` : ''}
                                    </div>
                                    <p style="font-size:12px;color:var(--text-secondary);line-height:1.5;margin:0">${opp.description}</p>
                                    <div style="font-size:10px;color:var(--text-muted);margin-top:8px">Difficulty: ${opp.difficulty} Â· Timeframe: ${opp.timeframe} Â· ${opp.quests.length} quests</div>
                                </div>
                                <span style="color:var(--accent);font-size:18px;margin-left:10px">${S.expandedOpp === i ? 'âˆ’' : '+'}</span>
                            </div>
                            
                            ${S.expandedOpp === i ? `
                            <div style="padding:0 15px 15px 15px;border-top:1px solid var(--bg-tertiary)">
                                <div style="background:var(--bg-secondary);padding:12px;border-left:2px solid var(--accent);margin-top:15px">
                                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
                                        <div style="font-size:10px;color:var(--accent);text-transform:uppercase;letter-spacing:1px">Quest Path</div>
                                        ${(S.forecastProgress[f.id]?.[i] || 0) > 0 ? `<span style="font-size:10px;color:var(--success)">${S.forecastProgress[f.id]?.[i] || 0}/${opp.quests.length} Complete</span>` : ''}
                                    </div>
                                    ${opp.quests.map((q, j) => {
                                        const progress = S.forecastProgress[f.id]?.[i] || 0;
                                        const isCompleted = j < progress;
                                        const isCurrent = j === progress;
                                        return `
                                        <div style="display:flex;gap:10px;align-items:flex-start;margin-bottom:10px;padding-bottom:10px;${j < opp.quests.length - 1 ? 'border-bottom:1px solid var(--bg-tertiary)' : ''}${isCompleted ? 'opacity:0.5;' : ''}">
                                            <span style="font-size:12px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:50%;flex-shrink:0;${isCompleted ? 'background:var(--success);color:white' : isCurrent ? 'background:var(--accent);color:var(--bg-primary)' : 'background:var(--bg-tertiary);color:var(--text-secondary)'}">${isCompleted ? 'âœ“' : j + 1}</span>
                                            <div style="flex:1">
                                                <span style="font-size:11px;line-height:1.4;${isCompleted ? 'text-decoration:line-through;' : ''}">${q.task}</span>
                                                <div style="font-size:9px;color:var(--text-muted);margin-top:3px"><span style="color:var(--${q.mode})">${q.mode.toUpperCase()}</span> Â· +${q.xp} XP</div>
                                            </div>
                                        </div>
                                    `}).join('')}
                                    ${(S.forecastProgress[f.id]?.[i] || 0) < opp.quests.length ? `
                                    <button class="btn btn-small btn-primary btn-full mt-10 add-quest-path" data-forecast="${f.id}" data-opp="${i}">${(S.forecastProgress[f.id]?.[i] || 0) > 0 ? 'Continue Quest Path â†’' : 'Add These Quests to My Queue â†’'}</button>
                                    ` : `
                                    <div style="text-align:center;padding:15px 0;color:var(--success)">
                                        <span style="font-size:20px">ðŸŽ‰</span>
                                        <div style="font-size:12px;margin-top:5px">Quest path complete!</div>
                                    </div>
                                    `}
                                </div>
                            </div>
                            ` : ''}
                        </div>
                    `}).join('')}
                </div>
                
                <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center">
                    <button class="btn btn-small ${S.followedForecasts.includes(f.id)?'btn-success':'btn-secondary'} follow-forecast" data-id="${f.id}">
                        ${S.followedForecasts.includes(f.id)?'âœ“ Following':'+ Follow This Forecast'}
                    </button>
                    ${f.sourceUrl ? `<a href="${f.sourceUrl}" target="_blank" class="btn btn-small btn-secondary">View Source â†’</a>` : ''}
                </div>
                
                ${f.source ? `
                <div style="margin-top:15px;padding-top:15px;border-top:1px solid var(--bg-tertiary)">
                    <div style="font-size:10px;color:var(--text-muted);margin-bottom:8px">SOURCE</div>
                    <p style="font-size:11px;color:var(--text-secondary);line-height:1.5;margin-bottom:10px">${f.source}</p>
                    ${f.sourceUrl ? `<a href="${f.sourceUrl}" target="_blank" class="btn btn-small btn-secondary" style="margin-bottom:10px">View Prediction Market â†’</a>` : ''}
                    <div style="display:flex;gap:12px;margin-top:8px;flex-wrap:wrap;font-size:10px;color:var(--text-muted)">
                        <span>Explore more:</span>
                        <a href="https://polymarket.com/predictions/ai" target="_blank" style="color:var(--accent)">Polymarket AI</a>
                        <a href="https://www.metaculus.com/questions/" target="_blank" style="color:var(--accent)">Metaculus</a>
                        <a href="https://manifold.markets" target="_blank" style="color:var(--accent)">Manifold</a>
                    </div>
                </div>
                ` : ''}
            </div>
        </div>
    `;
}

function addQuestPathToQueue(forecastId, oppIndex) {
    const forecast = FORECAST_DATABASE.find(f => f.id === forecastId);
    if (!forecast) return;
    
    const opp = forecast.opportunities[oppIndex];
    if (!opp) return;
    
    // Add quests to user's queue
    opp.quests.forEach(q => {
        S.quests.push({
            t: q.task,
            xp: q.xp,
            mode: q.mode,
            diff: 'forecast',
            tip: `From: ${forecast.title.substring(0, 50)}...`,
            id: Date.now() + Math.random(),
            done: false,
            fromForecast: forecastId
        });
    });
    
    save();
    S.modal = null;
    S.selectedForecast = null;
    S.screen = 'quests';
    render();
}

async function loadForecasts() {
    // For now using static database
    // Later: fetch from Supabase or API
    render();
}

// Update modalH to include forecast detail modal
async function init(){
    initTheme(); // Load saved theme preference
    const params=new URLSearchParams(location.search);
    const hash=location.hash.replace('#','');
    
    // Check for diagnostic mode from landing page
    if(params.get('mode') === 'diagnostic') {
        history.replaceState({}, '', location.pathname + '#diagnostic');
        S.diagnosticStep = 0;
        S.diagnosticEmail = '';
        S.diagnosticIndustry = '';
        S.diagnosticRole = '';
        S.diagnosticResponsibilities = '';
        S.diagnosticResult = null;
        S.diagLoadingStep = 0;
        S.diagnosticAnswers = [];
        S.screen = 'diagnostic';
        render();
        return;
    }
    
    // Check for password reset token
    const resetToken = params.get('token');
    if(resetToken && hash === 'reset') {
        S.modal = 'resetPassword';
        S.resetToken = resetToken;
        S.screen = 'login';
        render();
        return;
    }
    
    // Handle hash routes
    const validScreens = ['signin','signup','login','forgot','pricing','onboarding','upload','quiz','results','dashboard','quests','coach','receipts','capsules','review','settings','forecasts'];
    
    if(params.get('success')==='true'){
        history.replaceState({},'',location.pathname);
        const pending=localStorage.getItem('apc_pending');
        if(pending){
            const pendingData = JSON.parse(pending);
            S.user = { email: pendingData.email, plan: 'paid' };
            S.scores = pendingData.scores || {ideas:50,personality:50,execution:50};
            S.freeQuizScores = pendingData.baseline_scores || S.scores;
            S.onboardData = pendingData.onboardData || {goals: [], forecastInterests: []};
            // Ensure goals array exists
            if(!S.onboardData.goals) S.onboardData.goals = [];
            if(!S.onboardData.forecastInterests) S.onboardData.forecastInterests = [];
            S.onboardSelectedForecasts = pendingData.onboardSelectedForecasts || [];
            
            // If user already has a name (from signup form), they already created their Auth account
            // Skip step 4 (account creation) and go straight to step 5 (goals)
            if(pendingData.name) {
                S.user.name = pendingData.name;
                S.user.start_date = pendingData.start_date || new Date().toISOString();
                S.user.onboarded = false;
                S.user.industry = pendingData.industry || S.onboardData?.industry;
                S.user.scores = S.scores;
                S.user.baseline_scores = S.freeQuizScores || S.scores;
                
                // Save to database now
                const existing = await db('users','GET',null,`?email=eq.${encodeURIComponent(S.user.email)}`);
                if(existing?.length){
                    await db('users','PATCH', S.user, `?email=eq.${encodeURIComponent(S.user.email)}`);
                    S.user = {...existing[0], ...S.user};
                } else {
                    const res = await db('users','POST', S.user);
                    if(res?.length) S.user = res[0];
                }
                
                localStorage.setItem('apc_session', JSON.stringify(S.user));
                localStorage.removeItem('apc_pending');
                
                S.onboardStep = 5; // Skip to goals
            } else {
                S.onboardStep = pendingData.onboardStep || 4; // Continue to account creation
            }
            
            S.screen = 'onboarding';
            render();
            return;
        }
    }
    
    const session=localStorage.getItem('apc_session');
    if(session){
        const data=JSON.parse(session);
        const users=await db('users','GET',null,`?email=eq.${encodeURIComponent(data.email)}`);
        if(users?.length){
            S.user=users[0];S.scores=users[0].scores||{ideas:50,personality:50,execution:50};
            S.receipts=users[0].receipts||[];S.diff=users[0].diff||'standard';
            
            // Load quests - ONLY generate new ones if truly empty
            if(users[0].quests && users[0].quests.length > 0) {
                S.quests = users[0].quests;
            } else {
                S.quests = genQuests();
            }
            
            // Load quest customization data
            S.hiddenQuests=users[0].hiddenQuests||[];
            S.customQuests=users[0].customQuests||[];
            S.followedForecasts=users[0].followedForecasts||[];
            S.forecastProgress=users[0].forecastProgress||{};
            
            // Ensure lastQuestWeek is set if user has quests
            if(!S.user.lastQuestWeek && S.quests.length > 0) {
                S.user.lastQuestWeek = getWeekNumber();
                save();
            }
            
            // Merge any local receipts that might not have synced (edge case recovery)
            const localSession = JSON.parse(session);
            if(localSession.receipts && localSession.receipts.length > S.receipts.length) {
                // Local has more receipts - merge them
                const serverIds = new Set(S.receipts.map(r => r.id));
                const missingReceipts = localSession.receipts.filter(r => !serverIds.has(r.id));
                if(missingReceipts.length) {
                    S.receipts = [...S.receipts, ...missingReceipts];
                    save(); // Sync merged receipts back to server
                }
            }
            
            // Merge followedForecasts from localStorage if server is missing some
            if(localSession.followedForecasts && localSession.followedForecasts.length > S.followedForecasts.length) {
                const serverIds = new Set(S.followedForecasts);
                const missing = localSession.followedForecasts.filter(id => !serverIds.has(id));
                if(missing.length) {
                    S.followedForecasts = [...S.followedForecasts, ...missing];
                    save();
                }
            }
            
            // If logged in and hash is a valid app screen, go there
            if(hash && ['dashboard','quests','coach','receipts','capsules','review','settings','forecasts'].includes(hash)){
                S.screen = hash;
            } else {
                S.screen=S.user.onboarded?'dashboard':'onboarding';
            }
            checkWeeklyProgress();
            updateHash();
            render();return;
        }
    }
    
    // Not logged in - handle auth screens
    if(hash === 'signup' || hash === 'signin' || hash === 'login'){
        S.screen = hash === 'signin' ? 'login' : hash;
    } else if(hash === 'forgot'){
        S.screen = 'forgot';
    } else {
        S.screen = 'login';
    }
    updateHash();
    render();
}

function updateHash(){
    const screenToHash = {
        'login': 'signin',
        'signup': 'signup',
        'forgot': 'forgot',
        'pricing': 'pricing',
        'onboarding': 'onboarding',
        'upload': 'upload',
        'quiz': 'quiz',
        'results': 'results',
        'dashboard': 'dashboard',
        'quests': 'quests',
        'coach': 'coach',
        'receipts': 'receipts',
        'capsules': 'capsules',
        'review': 'review',
        'settings': 'settings',
        'forecasts': 'forecasts'
    };
    const newHash = screenToHash[S.screen] || S.screen;
    if(location.hash !== '#' + newHash){
        history.pushState(null, '', '#' + newHash);
    }
}

// Handle browser back/forward
window.addEventListener('popstate', () => {
    const hash = location.hash.replace('#','');
    if(hash && S.user){
        if(['dashboard','quests','coach','receipts','capsules','review','settings','forecasts'].includes(hash)){
            S.screen = hash;
            render();
        }
    } else if(['signin','login','signup','forgot'].includes(hash)){
        S.screen = hash === 'signin' ? 'login' : hash;
        render();
    }
});
init();
</script>
</body>
</html>
